(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ny={exports:{}},pu={},ry={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),kw=Symbol.for("react.portal"),Dw=Symbol.for("react.fragment"),Vw=Symbol.for("react.strict_mode"),Lw=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),Mw=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),jw=Symbol.for("react.suspense"),Fw=Symbol.for("react.memo"),Uw=Symbol.for("react.lazy"),Rp=Symbol.iterator;function zw(t){return t===null||typeof t!="object"?null:(t=Rp&&t[Rp]||t["@@iterator"],typeof t=="function"?t:null)}var iy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sy=Object.assign,oy={};function As(t,e,n){this.props=t,this.context=e,this.refs=oy,this.updater=n||iy}As.prototype.isReactComponent={};As.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};As.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ay(){}ay.prototype=As.prototype;function sd(t,e,n){this.props=t,this.context=e,this.refs=oy,this.updater=n||iy}var od=sd.prototype=new ay;od.constructor=sd;sy(od,As.prototype);od.isPureReactComponent=!0;var Ap=Array.isArray,ly=Object.prototype.hasOwnProperty,ad={current:null},uy={key:!0,ref:!0,__self:!0,__source:!0};function cy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ly.call(e,r)&&!uy.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:na,type:t,key:s,ref:o,props:i,_owner:ad.current}}function Bw(t,e){return{$$typeof:na,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ld(t){return typeof t=="object"&&t!==null&&t.$$typeof===na}function $w(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cp=/\/+/g;function sc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$w(""+t.key):e.toString(36)}function ol(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case na:case kw:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sc(o,0):r,Ap(i)?(n="",t!=null&&(n=t.replace(Cp,"$&/")+"/"),ol(i,e,n,"",function(c){return c})):i!=null&&(ld(i)&&(i=Bw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ap(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+sc(s,l);o+=ol(s,e,n,u,i)}else if(u=zw(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+sc(s,l++),o+=ol(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ma(t,e,n){if(t==null)return t;var r=[],i=0;return ol(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Hw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var At={current:null},al={transition:null},qw={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:al,ReactCurrentOwner:ad};function hy(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Ma,forEach:function(t,e,n){Ma(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ma(t,function(){e++}),e},toArray:function(t){return Ma(t,function(e){return e})||[]},only:function(t){if(!ld(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=As;he.Fragment=Dw;he.Profiler=Lw;he.PureComponent=sd;he.StrictMode=Vw;he.Suspense=jw;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qw;he.act=hy;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ad.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)ly.call(e,u)&&!uy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:na,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:Mw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bw,_context:t},t.Consumer=t};he.createElement=cy;he.createFactory=function(t){var e=cy.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:Ow,render:t}};he.isValidElement=ld;he.lazy=function(t){return{$$typeof:Uw,_payload:{_status:-1,_result:t},_init:Hw}};he.memo=function(t,e){return{$$typeof:Fw,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=al.transition;al.transition={};try{t()}finally{al.transition=e}};he.unstable_act=hy;he.useCallback=function(t,e){return At.current.useCallback(t,e)};he.useContext=function(t){return At.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return At.current.useDeferredValue(t)};he.useEffect=function(t,e){return At.current.useEffect(t,e)};he.useId=function(){return At.current.useId()};he.useImperativeHandle=function(t,e,n){return At.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return At.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return At.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return At.current.useMemo(t,e)};he.useReducer=function(t,e,n){return At.current.useReducer(t,e,n)};he.useRef=function(t){return At.current.useRef(t)};he.useState=function(t){return At.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return At.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return At.current.useTransition()};he.version="18.3.1";ry.exports=he;var M=ry.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=M,Gw=Symbol.for("react.element"),Qw=Symbol.for("react.fragment"),Kw=Object.prototype.hasOwnProperty,Yw=Ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xw={key:!0,ref:!0,__self:!0,__source:!0};function dy(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Kw.call(e,r)&&!Xw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Gw,type:t,key:s,ref:o,props:i,_owner:Yw.current}}pu.Fragment=Qw;pu.jsx=dy;pu.jsxs=dy;ny.exports=pu;var _=ny.exports,fy={exports:{}},qt={},py={exports:{}},my={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,te){var ie=G.length;G.push(te);e:for(;0<ie;){var Te=ie-1>>>1,ce=G[Te];if(0<i(ce,te))G[Te]=te,G[ie]=ce,ie=Te;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],ie=G.pop();if(ie!==te){G[0]=ie;e:for(var Te=0,ce=G.length,Se=ce>>>1;Te<Se;){var Pt=2*(Te+1)-1,ot=G[Pt],sn=Pt+1,on=G[sn];if(0>i(ot,ie))sn<ce&&0>i(on,ot)?(G[Te]=on,G[sn]=ie,Te=sn):(G[Te]=ot,G[Pt]=ie,Te=Pt);else if(sn<ce&&0>i(on,ie))G[Te]=on,G[sn]=ie,Te=sn;else break e}}return te}function i(G,te){var ie=G.sortIndex-te.sortIndex;return ie!==0?ie:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],f=1,p=null,m=3,v=!1,C=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(G){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=G)r(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function O(G){if(k=!1,I(G),!C)if(n(u)!==null)C=!0,In(A);else{var te=n(c);te!==null&&It(O,te.startTime-G)}}function A(G,te){C=!1,k&&(k=!1,E(g),g=-1),v=!0;var ie=m;try{for(I(te),p=n(u);p!==null&&(!(p.expirationTime>te)||G&&!N());){var Te=p.callback;if(typeof Te=="function"){p.callback=null,m=p.priorityLevel;var ce=Te(p.expirationTime<=te);te=t.unstable_now(),typeof ce=="function"?p.callback=ce:p===n(u)&&r(u),I(te)}else r(u);p=n(u)}if(p!==null)var Se=!0;else{var Pt=n(c);Pt!==null&&It(O,Pt.startTime-te),Se=!1}return Se}finally{p=null,m=ie,v=!1}}var U=!1,S=null,g=-1,T=5,x=-1;function N(){return!(t.unstable_now()-x<T)}function V(){if(S!==null){var G=t.unstable_now();x=G;var te=!0;try{te=S(!0,G)}finally{te?R():(U=!1,S=null)}}else U=!1}var R;if(typeof w=="function")R=function(){w(V)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,ke=st.port2;st.port1.onmessage=V,R=function(){ke.postMessage(null)}}else R=function(){b(V,0)};function In(G){S=G,U||(U=!0,R())}function It(G,te){g=b(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){C||v||(C=!0,In(A))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var ie=m;m=te;try{return G()}finally{m=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=m;m=G;try{return te()}finally{m=ie}},t.unstable_scheduleCallback=function(G,te,ie){var Te=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Te+ie:Te):ie=Te,G){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ie+ce,G={id:f++,callback:te,priorityLevel:G,startTime:ie,expirationTime:ce,sortIndex:-1},ie>Te?(G.sortIndex=ie,e(c,G),n(u)===null&&G===n(c)&&(k?(E(g),g=-1):k=!0,It(O,ie-Te))):(G.sortIndex=ce,e(u,G),C||v||(C=!0,In(A))),G},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(G){var te=m;return function(){var ie=m;m=te;try{return G.apply(this,arguments)}finally{m=ie}}}})(my);py.exports=my;var Jw=py.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=M,Ht=Jw;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gy=new Set,No={};function Si(t,e){fs(t,e),fs(t+"Capture",e)}function fs(t,e){for(No[t]=e,t=0;t<e.length;t++)gy.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=Object.prototype.hasOwnProperty,eE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pp={},Np={};function tE(t){return $c.call(Np,t)?!0:$c.call(Pp,t)?!1:eE.test(t)?Np[t]=!0:(Pp[t]=!0,!1)}function nE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rE(t,e,n,r){if(e===null||typeof e>"u"||nE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var ud=/[\-:]([a-z])/g;function cd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ud,cd);ft[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ud,cd);ft[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ud,cd);ft[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function hd(t,e,n,r){var i=ft.hasOwnProperty(e)?ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rE(e,n,i,r)&&(n=null),r||i===null?tE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var or=Zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oa=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),dd=Symbol.for("react.strict_mode"),Hc=Symbol.for("react.profiler"),yy=Symbol.for("react.provider"),vy=Symbol.for("react.context"),fd=Symbol.for("react.forward_ref"),qc=Symbol.for("react.suspense"),Wc=Symbol.for("react.suspense_list"),pd=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),_y=Symbol.for("react.offscreen"),kp=Symbol.iterator;function Ys(t){return t===null||typeof t!="object"?null:(t=kp&&t[kp]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,oc;function ao(t){if(oc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);oc=e&&e[1]||""}return`
`+oc+t}var ac=!1;function lc(t,e){if(!t||ac)return"";ac=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{ac=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ao(t):""}function iE(t){switch(t.tag){case 5:return ao(t.type);case 16:return ao("Lazy");case 13:return ao("Suspense");case 19:return ao("SuspenseList");case 0:case 2:case 15:return t=lc(t.type,!1),t;case 11:return t=lc(t.type.render,!1),t;case 1:return t=lc(t.type,!0),t;default:return""}}function Gc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qi:return"Fragment";case Gi:return"Portal";case Hc:return"Profiler";case dd:return"StrictMode";case qc:return"Suspense";case Wc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vy:return(t.displayName||"Context")+".Consumer";case yy:return(t._context.displayName||"Context")+".Provider";case fd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pd:return e=t.displayName||null,e!==null?e:Gc(t.type)||"Memo";case vr:e=t._payload,t=t._init;try{return Gc(t(e))}catch{}}return null}function sE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gc(e);case 8:return e===dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oE(t){var e=wy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ja(t){t._valueTracker||(t._valueTracker=oE(t))}function Ey(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qc(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ty(t,e){e=e.checked,e!=null&&hd(t,"checked",e,!1)}function Kc(t,e){Ty(t,e);var n=Or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yc(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yc(t,e,n){(e!=="number"||Al(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lo=Array.isArray;function ss(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(lo(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function Sy(t,e){var n=Or(e.value),r=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Iy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Iy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fa,xy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fa=Fa||document.createElement("div"),Fa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ko(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aE=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(t){aE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yo[e]=yo[t]})});function Ry(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yo.hasOwnProperty(t)&&yo[t]?(""+e).trim():e+"px"}function Ay(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ry(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lE=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zc(t,e){if(e){if(lE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function eh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function md(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nh=null,os=null,as=null;function Mp(t){if(t=sa(t)){if(typeof nh!="function")throw Error(H(280));var e=t.stateNode;e&&(e=_u(e),nh(t.stateNode,t.type,e))}}function Cy(t){os?as?as.push(t):as=[t]:os=t}function Py(){if(os){var t=os,e=as;if(as=os=null,Mp(t),e)for(t=0;t<e.length;t++)Mp(e[t])}}function Ny(t,e){return t(e)}function ky(){}var uc=!1;function Dy(t,e,n){if(uc)return t(e,n);uc=!0;try{return Ny(t,e,n)}finally{uc=!1,(os!==null||as!==null)&&(ky(),Py())}}function Do(t,e){var n=t.stateNode;if(n===null)return null;var r=_u(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var rh=!1;if(Jn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){rh=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{rh=!1}function uE(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var vo=!1,Cl=null,Pl=!1,ih=null,cE={onError:function(t){vo=!0,Cl=t}};function hE(t,e,n,r,i,s,o,l,u){vo=!1,Cl=null,uE.apply(cE,arguments)}function dE(t,e,n,r,i,s,o,l,u){if(hE.apply(this,arguments),vo){if(vo){var c=Cl;vo=!1,Cl=null}else throw Error(H(198));Pl||(Pl=!0,ih=c)}}function Ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Op(t){if(Ii(t)!==t)throw Error(H(188))}function fE(t){var e=t.alternate;if(!e){if(e=Ii(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Op(i),t;if(s===r)return Op(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Ly(t){return t=fE(t),t!==null?by(t):null}function by(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=by(t);if(e!==null)return e;t=t.sibling}return null}var My=Ht.unstable_scheduleCallback,jp=Ht.unstable_cancelCallback,pE=Ht.unstable_shouldYield,mE=Ht.unstable_requestPaint,We=Ht.unstable_now,gE=Ht.unstable_getCurrentPriorityLevel,gd=Ht.unstable_ImmediatePriority,Oy=Ht.unstable_UserBlockingPriority,Nl=Ht.unstable_NormalPriority,yE=Ht.unstable_LowPriority,jy=Ht.unstable_IdlePriority,mu=null,Pn=null;function vE(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(mu,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:EE,_E=Math.log,wE=Math.LN2;function EE(t){return t>>>=0,t===0?32:31-(_E(t)/wE|0)|0}var Ua=64,za=4194304;function uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=uo(l):(s&=o,s!==0&&(r=uo(s)))}else o=n&~i,o!==0?r=uo(o):s!==0&&(r=uo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vn(e),i=1<<n,r|=t[n],e&=~i;return r}function TE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=TE(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function sh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fy(){var t=Ua;return Ua<<=1,!(Ua&4194240)&&(Ua=64),t}function cc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ra(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function IE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function yd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function Uy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zy,vd,By,$y,Hy,oh=!1,Ba=[],Rr=null,Ar=null,Cr=null,Vo=new Map,Lo=new Map,wr=[],xE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fp(t,e){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(e.pointerId)}}function Js(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sa(e),e!==null&&vd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RE(t,e,n,r,i){switch(e){case"focusin":return Rr=Js(Rr,t,e,n,r,i),!0;case"dragenter":return Ar=Js(Ar,t,e,n,r,i),!0;case"mouseover":return Cr=Js(Cr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vo.set(s,Js(Vo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lo.set(s,Js(Lo.get(s)||null,t,e,n,r,i)),!0}return!1}function qy(t){var e=ai(t.target);if(e!==null){var n=Ii(e);if(n!==null){if(e=n.tag,e===13){if(e=Vy(n),e!==null){t.blockedOn=e,Hy(t.priority,function(){By(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ll(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);th=r,n.target.dispatchEvent(r),th=null}else return e=sa(n),e!==null&&vd(e),t.blockedOn=n,!1;e.shift()}return!0}function Up(t,e,n){ll(t)&&n.delete(e)}function AE(){oh=!1,Rr!==null&&ll(Rr)&&(Rr=null),Ar!==null&&ll(Ar)&&(Ar=null),Cr!==null&&ll(Cr)&&(Cr=null),Vo.forEach(Up),Lo.forEach(Up)}function Zs(t,e){t.blockedOn===e&&(t.blockedOn=null,oh||(oh=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,AE)))}function bo(t){function e(i){return Zs(i,t)}if(0<Ba.length){Zs(Ba[0],t);for(var n=1;n<Ba.length;n++){var r=Ba[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rr!==null&&Zs(Rr,t),Ar!==null&&Zs(Ar,t),Cr!==null&&Zs(Cr,t),Vo.forEach(e),Lo.forEach(e),n=0;n<wr.length;n++)r=wr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wr.length&&(n=wr[0],n.blockedOn===null);)qy(n),n.blockedOn===null&&wr.shift()}var ls=or.ReactCurrentBatchConfig,Dl=!0;function CE(t,e,n,r){var i=xe,s=ls.transition;ls.transition=null;try{xe=1,_d(t,e,n,r)}finally{xe=i,ls.transition=s}}function PE(t,e,n,r){var i=xe,s=ls.transition;ls.transition=null;try{xe=4,_d(t,e,n,r)}finally{xe=i,ls.transition=s}}function _d(t,e,n,r){if(Dl){var i=ah(t,e,n,r);if(i===null)wc(t,e,r,Vl,n),Fp(t,r);else if(RE(i,t,e,n,r))r.stopPropagation();else if(Fp(t,r),e&4&&-1<xE.indexOf(t)){for(;i!==null;){var s=sa(i);if(s!==null&&zy(s),s=ah(t,e,n,r),s===null&&wc(t,e,r,Vl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wc(t,e,r,null,n)}}var Vl=null;function ah(t,e,n,r){if(Vl=null,t=md(r),t=ai(t),t!==null)if(e=Ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vl=t,null}function Wy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gE()){case gd:return 1;case Oy:return 4;case Nl:case yE:return 16;case jy:return 536870912;default:return 16}default:return 16}}var Sr=null,wd=null,ul=null;function Gy(){if(ul)return ul;var t,e=wd,n=e.length,r,i="value"in Sr?Sr.value:Sr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ul=i.slice(t,1<r?1-r:void 0)}function cl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $a(){return!0}function zp(){return!1}function Wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$a:zp,this.isPropagationStopped=zp,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),e}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ed=Wt(Cs),ia=Fe({},Cs,{view:0,detail:0}),NE=Wt(ia),hc,dc,eo,gu=Fe({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eo&&(eo&&t.type==="mousemove"?(hc=t.screenX-eo.screenX,dc=t.screenY-eo.screenY):dc=hc=0,eo=t),hc)},movementY:function(t){return"movementY"in t?t.movementY:dc}}),Bp=Wt(gu),kE=Fe({},gu,{dataTransfer:0}),DE=Wt(kE),VE=Fe({},ia,{relatedTarget:0}),fc=Wt(VE),LE=Fe({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),bE=Wt(LE),ME=Fe({},Cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OE=Wt(ME),jE=Fe({},Cs,{data:0}),$p=Wt(jE),FE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zE[t])?!!e[t]:!1}function Td(){return BE}var $E=Fe({},ia,{key:function(t){if(t.key){var e=FE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(t){return t.type==="keypress"?cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HE=Wt($E),qE=Fe({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=Wt(qE),WE=Fe({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),GE=Wt(WE),QE=Fe({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),KE=Wt(QE),YE=Fe({},gu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XE=Wt(YE),JE=[9,13,27,32],Sd=Jn&&"CompositionEvent"in window,_o=null;Jn&&"documentMode"in document&&(_o=document.documentMode);var ZE=Jn&&"TextEvent"in window&&!_o,Qy=Jn&&(!Sd||_o&&8<_o&&11>=_o),qp=" ",Wp=!1;function Ky(t,e){switch(t){case"keyup":return JE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function e1(t,e){switch(t){case"compositionend":return Yy(e);case"keypress":return e.which!==32?null:(Wp=!0,qp);case"textInput":return t=e.data,t===qp&&Wp?null:t;default:return null}}function t1(t,e){if(Ki)return t==="compositionend"||!Sd&&Ky(t,e)?(t=Gy(),ul=wd=Sr=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qy&&e.locale!=="ko"?null:e.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n1[t.type]:e==="textarea"}function Xy(t,e,n,r){Cy(r),e=Ll(e,"onChange"),0<e.length&&(n=new Ed("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wo=null,Mo=null;function r1(t){lv(t,0)}function yu(t){var e=Ji(t);if(Ey(e))return t}function i1(t,e){if(t==="change")return e}var Jy=!1;if(Jn){var pc;if(Jn){var mc="oninput"in document;if(!mc){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),mc=typeof Qp.oninput=="function"}pc=mc}else pc=!1;Jy=pc&&(!document.documentMode||9<document.documentMode)}function Kp(){wo&&(wo.detachEvent("onpropertychange",Zy),Mo=wo=null)}function Zy(t){if(t.propertyName==="value"&&yu(Mo)){var e=[];Xy(e,Mo,t,md(t)),Dy(r1,e)}}function s1(t,e,n){t==="focusin"?(Kp(),wo=e,Mo=n,wo.attachEvent("onpropertychange",Zy)):t==="focusout"&&Kp()}function o1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(Mo)}function a1(t,e){if(t==="click")return yu(e)}function l1(t,e){if(t==="input"||t==="change")return yu(e)}function u1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:u1;function Oo(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$c.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function Yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xp(t,e){var n=Yp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yp(n)}}function ev(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ev(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tv(){for(var t=window,e=Al();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Al(t.document)}return e}function Id(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c1(t){var e=tv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ev(n.ownerDocument.documentElement,n)){if(r!==null&&Id(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Xp(n,s);var o=Xp(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h1=Jn&&"documentMode"in document&&11>=document.documentMode,Yi=null,lh=null,Eo=null,uh=!1;function Jp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uh||Yi==null||Yi!==Al(r)||(r=Yi,"selectionStart"in r&&Id(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eo&&Oo(Eo,r)||(Eo=r,r=Ll(lh,"onSelect"),0<r.length&&(e=new Ed("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yi)))}function Ha(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xi={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},gc={},nv={};Jn&&(nv=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function vu(t){if(gc[t])return gc[t];if(!Xi[t])return t;var e=Xi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nv)return gc[t]=e[n];return t}var rv=vu("animationend"),iv=vu("animationiteration"),sv=vu("animationstart"),ov=vu("transitionend"),av=new Map,Zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(t,e){av.set(t,e),Si(e,[t])}for(var yc=0;yc<Zp.length;yc++){var vc=Zp[yc],d1=vc.toLowerCase(),f1=vc[0].toUpperCase()+vc.slice(1);qr(d1,"on"+f1)}qr(rv,"onAnimationEnd");qr(iv,"onAnimationIteration");qr(sv,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(ov,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function em(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dE(r,e,void 0,t),t.currentTarget=null}function lv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;em(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;em(i,l,c),s=u}}}if(Pl)throw t=ih,Pl=!1,ih=null,t}function Ve(t,e){var n=e[ph];n===void 0&&(n=e[ph]=new Set);var r=t+"__bubble";n.has(r)||(uv(e,t,2,!1),n.add(r))}function _c(t,e,n){var r=0;e&&(r|=4),uv(n,t,r,e)}var qa="_reactListening"+Math.random().toString(36).slice(2);function jo(t){if(!t[qa]){t[qa]=!0,gy.forEach(function(n){n!=="selectionchange"&&(p1.has(n)||_c(n,!1,t),_c(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qa]||(e[qa]=!0,_c("selectionchange",!1,e))}}function uv(t,e,n,r){switch(Wy(e)){case 1:var i=CE;break;case 4:i=PE;break;default:i=_d}n=i.bind(null,e,n,t),i=void 0,!rh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ai(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Dy(function(){var c=s,f=md(n),p=[];e:{var m=av.get(t);if(m!==void 0){var v=Ed,C=t;switch(t){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":v=HE;break;case"focusin":C="focus",v=fc;break;case"focusout":C="blur",v=fc;break;case"beforeblur":case"afterblur":v=fc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=DE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=GE;break;case rv:case iv:case sv:v=bE;break;case ov:v=KE;break;case"scroll":v=NE;break;case"wheel":v=XE;break;case"copy":case"cut":case"paste":v=OE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Hp}var k=(e&4)!==0,b=!k&&t==="scroll",E=k?m!==null?m+"Capture":null:m;k=[];for(var w=c,I;w!==null;){I=w;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,E!==null&&(O=Do(w,E),O!=null&&k.push(Fo(w,O,I)))),b)break;w=w.return}0<k.length&&(m=new v(m,C,null,n,f),p.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==th&&(C=n.relatedTarget||n.fromElement)&&(ai(C)||C[Zn]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(C=n.relatedTarget||n.toElement,v=c,C=C?ai(C):null,C!==null&&(b=Ii(C),C!==b||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=c),v!==C)){if(k=Bp,O="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=Hp,O="onPointerLeave",E="onPointerEnter",w="pointer"),b=v==null?m:Ji(v),I=C==null?m:Ji(C),m=new k(O,w+"leave",v,n,f),m.target=b,m.relatedTarget=I,O=null,ai(f)===c&&(k=new k(E,w+"enter",C,n,f),k.target=I,k.relatedTarget=b,O=k),b=O,v&&C)t:{for(k=v,E=C,w=0,I=k;I;I=zi(I))w++;for(I=0,O=E;O;O=zi(O))I++;for(;0<w-I;)k=zi(k),w--;for(;0<I-w;)E=zi(E),I--;for(;w--;){if(k===E||E!==null&&k===E.alternate)break t;k=zi(k),E=zi(E)}k=null}else k=null;v!==null&&tm(p,m,v,k,!1),C!==null&&b!==null&&tm(p,b,C,k,!0)}}e:{if(m=c?Ji(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var A=i1;else if(Gp(m))if(Jy)A=l1;else{A=o1;var U=s1}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=a1);if(A&&(A=A(t,c))){Xy(p,A,n,f);break e}U&&U(t,m,c),t==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&Yc(m,"number",m.value)}switch(U=c?Ji(c):window,t){case"focusin":(Gp(U)||U.contentEditable==="true")&&(Yi=U,lh=c,Eo=null);break;case"focusout":Eo=lh=Yi=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Jp(p,n,f);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":Jp(p,n,f)}var S;if(Sd)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ki?Ky(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Qy&&n.locale!=="ko"&&(Ki||g!=="onCompositionStart"?g==="onCompositionEnd"&&Ki&&(S=Gy()):(Sr=f,wd="value"in Sr?Sr.value:Sr.textContent,Ki=!0)),U=Ll(c,g),0<U.length&&(g=new $p(g,t,null,n,f),p.push({event:g,listeners:U}),S?g.data=S:(S=Yy(n),S!==null&&(g.data=S)))),(S=ZE?e1(t,n):t1(t,n))&&(c=Ll(c,"onBeforeInput"),0<c.length&&(f=new $p("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=S))}lv(p,e)})}function Fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ll(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Do(t,n),s!=null&&r.unshift(Fo(t,s,i)),s=Do(t,e),s!=null&&r.push(Fo(t,s,i))),t=t.return}return r}function zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Do(n,s),u!=null&&o.unshift(Fo(n,u,l))):i||(u=Do(n,s),u!=null&&o.push(Fo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var m1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function nm(t){return(typeof t=="string"?t:""+t).replace(m1,`
`).replace(g1,"")}function Wa(t,e,n){if(e=nm(e),nm(t)!==e&&n)throw Error(H(425))}function bl(){}var ch=null,hh=null;function dh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(t){return rm.resolve(null).then(t).catch(_1)}:fh;function _1(t){setTimeout(function(){throw t})}function Ec(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bo(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function im(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Ps,Uo="__reactProps$"+Ps,Zn="__reactContainer$"+Ps,ph="__reactEvents$"+Ps,w1="__reactListeners$"+Ps,E1="__reactHandles$"+Ps;function ai(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[Cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=im(t);t!==null;){if(n=t[Cn])return n;t=im(t)}return e}t=n,n=t.parentNode}return null}function sa(t){return t=t[Cn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function _u(t){return t[Uo]||null}var mh=[],Zi=-1;function Wr(t){return{current:t}}function be(t){0>Zi||(t.current=mh[Zi],mh[Zi]=null,Zi--)}function Ne(t,e){Zi++,mh[Zi]=t.current,t.current=e}var jr={},St=Wr(jr),Lt=Wr(!1),mi=jr;function ps(t,e){var n=t.type.contextTypes;if(!n)return jr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function Ml(){be(Lt),be(St)}function sm(t,e,n){if(St.current!==jr)throw Error(H(168));Ne(St,e),Ne(Lt,n)}function cv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,sE(t)||"Unknown",i));return Fe({},n,r)}function Ol(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jr,mi=St.current,Ne(St,t),Ne(Lt,Lt.current),!0}function om(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=cv(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,be(Lt),be(St),Ne(St,t)):be(Lt),Ne(Lt,n)}var Gn=null,wu=!1,Tc=!1;function hv(t){Gn===null?Gn=[t]:Gn.push(t)}function T1(t){wu=!0,hv(t)}function Gr(){if(!Tc&&Gn!==null){Tc=!0;var t=0,e=xe;try{var n=Gn;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gn=null,wu=!1}catch(i){throw Gn!==null&&(Gn=Gn.slice(t+1)),My(gd,Gr),i}finally{xe=e,Tc=!1}}return null}var es=[],ts=0,jl=null,Fl=0,Yt=[],Xt=0,gi=null,Qn=1,Kn="";function ri(t,e){es[ts++]=Fl,es[ts++]=jl,jl=t,Fl=e}function dv(t,e,n){Yt[Xt++]=Qn,Yt[Xt++]=Kn,Yt[Xt++]=gi,gi=t;var r=Qn;t=Kn;var i=32-vn(r)-1;r&=~(1<<i),n+=1;var s=32-vn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qn=1<<32-vn(e)+i|n<<i|r,Kn=s+t}else Qn=1<<s|n<<i|r,Kn=t}function xd(t){t.return!==null&&(ri(t,1),dv(t,1,0))}function Rd(t){for(;t===jl;)jl=es[--ts],es[ts]=null,Fl=es[--ts],es[ts]=null;for(;t===gi;)gi=Yt[--Xt],Yt[Xt]=null,Kn=Yt[--Xt],Yt[Xt]=null,Qn=Yt[--Xt],Yt[Xt]=null}var $t=null,Bt=null,Me=!1,gn=null;function fv(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function am(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Bt=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:Qn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Bt=null,!0):!1;default:return!1}}function gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yh(t){if(Me){var e=Bt;if(e){var n=e;if(!am(t,e)){if(gh(t))throw Error(H(418));e=Pr(n.nextSibling);var r=$t;e&&am(t,e)?fv(r,n):(t.flags=t.flags&-4097|2,Me=!1,$t=t)}}else{if(gh(t))throw Error(H(418));t.flags=t.flags&-4097|2,Me=!1,$t=t}}}function lm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Ga(t){if(t!==$t)return!1;if(!Me)return lm(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dh(t.type,t.memoizedProps)),e&&(e=Bt)){if(gh(t))throw pv(),Error(H(418));for(;e;)fv(t,e),e=Pr(e.nextSibling)}if(lm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bt=Pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bt=null}}else Bt=$t?Pr(t.stateNode.nextSibling):null;return!0}function pv(){for(var t=Bt;t;)t=Pr(t.nextSibling)}function ms(){Bt=$t=null,Me=!1}function Ad(t){gn===null?gn=[t]:gn.push(t)}var S1=or.ReactCurrentBatchConfig;function to(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Qa(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function um(t){var e=t._init;return e(t._payload)}function mv(t){function e(E,w){if(t){var I=E.deletions;I===null?(E.deletions=[w],E.flags|=16):I.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function i(E,w){return E=Vr(E,w),E.index=0,E.sibling=null,E}function s(E,w,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<w?(E.flags|=2,w):I):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,w,I,O){return w===null||w.tag!==6?(w=Pc(I,E.mode,O),w.return=E,w):(w=i(w,I),w.return=E,w)}function u(E,w,I,O){var A=I.type;return A===Qi?f(E,w,I.props.children,O,I.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vr&&um(A)===w.type)?(O=i(w,I.props),O.ref=to(E,w,I),O.return=E,O):(O=yl(I.type,I.key,I.props,null,E.mode,O),O.ref=to(E,w,I),O.return=E,O)}function c(E,w,I,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=Nc(I,E.mode,O),w.return=E,w):(w=i(w,I.children||[]),w.return=E,w)}function f(E,w,I,O,A){return w===null||w.tag!==7?(w=fi(I,E.mode,O,A),w.return=E,w):(w=i(w,I),w.return=E,w)}function p(E,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pc(""+w,E.mode,I),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Oa:return I=yl(w.type,w.key,w.props,null,E.mode,I),I.ref=to(E,null,w),I.return=E,I;case Gi:return w=Nc(w,E.mode,I),w.return=E,w;case vr:var O=w._init;return p(E,O(w._payload),I)}if(lo(w)||Ys(w))return w=fi(w,E.mode,I,null),w.return=E,w;Qa(E,w)}return null}function m(E,w,I,O){var A=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return A!==null?null:l(E,w,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Oa:return I.key===A?u(E,w,I,O):null;case Gi:return I.key===A?c(E,w,I,O):null;case vr:return A=I._init,m(E,w,A(I._payload),O)}if(lo(I)||Ys(I))return A!==null?null:f(E,w,I,O,null);Qa(E,I)}return null}function v(E,w,I,O,A){if(typeof O=="string"&&O!==""||typeof O=="number")return E=E.get(I)||null,l(w,E,""+O,A);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Oa:return E=E.get(O.key===null?I:O.key)||null,u(w,E,O,A);case Gi:return E=E.get(O.key===null?I:O.key)||null,c(w,E,O,A);case vr:var U=O._init;return v(E,w,I,U(O._payload),A)}if(lo(O)||Ys(O))return E=E.get(I)||null,f(w,E,O,A,null);Qa(w,O)}return null}function C(E,w,I,O){for(var A=null,U=null,S=w,g=w=0,T=null;S!==null&&g<I.length;g++){S.index>g?(T=S,S=null):T=S.sibling;var x=m(E,S,I[g],O);if(x===null){S===null&&(S=T);break}t&&S&&x.alternate===null&&e(E,S),w=s(x,w,g),U===null?A=x:U.sibling=x,U=x,S=T}if(g===I.length)return n(E,S),Me&&ri(E,g),A;if(S===null){for(;g<I.length;g++)S=p(E,I[g],O),S!==null&&(w=s(S,w,g),U===null?A=S:U.sibling=S,U=S);return Me&&ri(E,g),A}for(S=r(E,S);g<I.length;g++)T=v(S,E,g,I[g],O),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?g:T.key),w=s(T,w,g),U===null?A=T:U.sibling=T,U=T);return t&&S.forEach(function(N){return e(E,N)}),Me&&ri(E,g),A}function k(E,w,I,O){var A=Ys(I);if(typeof A!="function")throw Error(H(150));if(I=A.call(I),I==null)throw Error(H(151));for(var U=A=null,S=w,g=w=0,T=null,x=I.next();S!==null&&!x.done;g++,x=I.next()){S.index>g?(T=S,S=null):T=S.sibling;var N=m(E,S,x.value,O);if(N===null){S===null&&(S=T);break}t&&S&&N.alternate===null&&e(E,S),w=s(N,w,g),U===null?A=N:U.sibling=N,U=N,S=T}if(x.done)return n(E,S),Me&&ri(E,g),A;if(S===null){for(;!x.done;g++,x=I.next())x=p(E,x.value,O),x!==null&&(w=s(x,w,g),U===null?A=x:U.sibling=x,U=x);return Me&&ri(E,g),A}for(S=r(E,S);!x.done;g++,x=I.next())x=v(S,E,g,x.value,O),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?g:x.key),w=s(x,w,g),U===null?A=x:U.sibling=x,U=x);return t&&S.forEach(function(V){return e(E,V)}),Me&&ri(E,g),A}function b(E,w,I,O){if(typeof I=="object"&&I!==null&&I.type===Qi&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Oa:e:{for(var A=I.key,U=w;U!==null;){if(U.key===A){if(A=I.type,A===Qi){if(U.tag===7){n(E,U.sibling),w=i(U,I.props.children),w.return=E,E=w;break e}}else if(U.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vr&&um(A)===U.type){n(E,U.sibling),w=i(U,I.props),w.ref=to(E,U,I),w.return=E,E=w;break e}n(E,U);break}else e(E,U);U=U.sibling}I.type===Qi?(w=fi(I.props.children,E.mode,O,I.key),w.return=E,E=w):(O=yl(I.type,I.key,I.props,null,E.mode,O),O.ref=to(E,w,I),O.return=E,E=O)}return o(E);case Gi:e:{for(U=I.key;w!==null;){if(w.key===U)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){n(E,w.sibling),w=i(w,I.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Nc(I,E.mode,O),w.return=E,E=w}return o(E);case vr:return U=I._init,b(E,w,U(I._payload),O)}if(lo(I))return C(E,w,I,O);if(Ys(I))return k(E,w,I,O);Qa(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,w!==null&&w.tag===6?(n(E,w.sibling),w=i(w,I),w.return=E,E=w):(n(E,w),w=Pc(I,E.mode,O),w.return=E,E=w),o(E)):n(E,w)}return b}var gs=mv(!0),gv=mv(!1),Ul=Wr(null),zl=null,ns=null,Cd=null;function Pd(){Cd=ns=zl=null}function Nd(t){var e=Ul.current;be(Ul),t._currentValue=e}function vh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function us(t,e){zl=t,Cd=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(Cd!==t)if(t={context:t,memoizedValue:e,next:null},ns===null){if(zl===null)throw Error(H(308));ns=t,zl.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return e}var li=null;function kd(t){li===null?li=[t]:li.push(t)}function yv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kd(e)):(n.next=i.next,i.next=n),e.interleaved=n,er(t,r)}function er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _r=!1;function Dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,er(t,n)}return i=r.interleaved,i===null?(e.next=e,kd(r)):(e.next=i.next,i.next=e),r.interleaved=e,er(t,n)}function hl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yd(t,n)}}function cm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bl(t,e,n,r){var i=t.updateQueue;_r=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=c=u=null,l=s;do{var m=l.lane,v=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,k=l;switch(m=e,v=n,k.tag){case 1:if(C=k.payload,typeof C=="function"){p=C.call(v,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=k.payload,m=typeof C=="function"?C.call(v,p,m):C,m==null)break e;p=Fe({},p,m);break e;case 2:_r=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=v,u=p):f=f.next=v,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vi|=o,t.lanes=o,t.memoizedState=p}}function hm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var oa={},Nn=Wr(oa),zo=Wr(oa),Bo=Wr(oa);function ui(t){if(t===oa)throw Error(H(174));return t}function Vd(t,e){switch(Ne(Bo,e),Ne(zo,t),Ne(Nn,oa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jc(e,t)}be(Nn),Ne(Nn,e)}function ys(){be(Nn),be(zo),be(Bo)}function _v(t){ui(Bo.current);var e=ui(Nn.current),n=Jc(e,t.type);e!==n&&(Ne(zo,t),Ne(Nn,n))}function Ld(t){zo.current===t&&(be(Nn),be(zo))}var Oe=Wr(0);function $l(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sc=[];function bd(){for(var t=0;t<Sc.length;t++)Sc[t]._workInProgressVersionPrimary=null;Sc.length=0}var dl=or.ReactCurrentDispatcher,Ic=or.ReactCurrentBatchConfig,yi=0,je=null,Xe=null,rt=null,Hl=!1,To=!1,$o=0,I1=0;function yt(){throw Error(H(321))}function Md(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function Od(t,e,n,r,i,s){if(yi=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dl.current=t===null||t.memoizedState===null?C1:P1,t=n(r,i),To){s=0;do{if(To=!1,$o=0,25<=s)throw Error(H(301));s+=1,rt=Xe=null,e.updateQueue=null,dl.current=N1,t=n(r,i)}while(To)}if(dl.current=ql,e=Xe!==null&&Xe.next!==null,yi=0,rt=Xe=je=null,Hl=!1,e)throw Error(H(300));return t}function jd(){var t=$o!==0;return $o=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?je.memoizedState=rt=t:rt=rt.next=t,rt}function nn(){if(Xe===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?je.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(H(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?je.memoizedState=rt=t:rt=rt.next=t}return rt}function Ho(t,e){return typeof e=="function"?e(t):e}function xc(t){var e=nn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var f=c.lane;if((yi&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,je.lanes|=f,vi|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,wn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,vi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rc(t){var e=nn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);wn(s,e.memoizedState)||(Vt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wv(){}function Ev(t,e){var n=je,r=nn(),i=e(),s=!wn(r.memoizedState,i);if(s&&(r.memoizedState=i,Vt=!0),r=r.queue,Fd(Iv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,qo(9,Sv.bind(null,n,r,i,e),void 0,null),it===null)throw Error(H(349));yi&30||Tv(n,e,i)}return i}function Tv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sv(t,e,n,r){e.value=n,e.getSnapshot=r,xv(e)&&Rv(t)}function Iv(t,e,n){return n(function(){xv(e)&&Rv(t)})}function xv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function Rv(t){var e=er(t,1);e!==null&&_n(e,t,1,-1)}function dm(t){var e=An();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},e.queue=t,t=t.dispatch=A1.bind(null,je,t),[e.memoizedState,t]}function qo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Av(){return nn().memoizedState}function fl(t,e,n,r){var i=An();je.flags|=t,i.memoizedState=qo(1|e,n,void 0,r===void 0?null:r)}function Eu(t,e,n,r){var i=nn();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,r!==null&&Md(r,o.deps)){i.memoizedState=qo(e,n,s,r);return}}je.flags|=t,i.memoizedState=qo(1|e,n,s,r)}function fm(t,e){return fl(8390656,8,t,e)}function Fd(t,e){return Eu(2048,8,t,e)}function Cv(t,e){return Eu(4,2,t,e)}function Pv(t,e){return Eu(4,4,t,e)}function Nv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kv(t,e,n){return n=n!=null?n.concat([t]):null,Eu(4,4,Nv.bind(null,e,t),n)}function Ud(){}function Dv(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Md(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vv(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Md(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Lv(t,e,n){return yi&21?(wn(n,e)||(n=Fy(),je.lanes|=n,vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function x1(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Ic.transition;Ic.transition={};try{t(!1),e()}finally{xe=n,Ic.transition=r}}function bv(){return nn().memoizedState}function R1(t,e,n){var r=Dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mv(t))Ov(e,n);else if(n=yv(t,e,n,r),n!==null){var i=Rt();_n(n,t,r,i),jv(n,e,r)}}function A1(t,e,n){var r=Dr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mv(t))Ov(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,wn(l,o)){var u=e.interleaved;u===null?(i.next=i,kd(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=yv(t,e,i,r),n!==null&&(i=Rt(),_n(n,t,r,i),jv(n,e,r))}}function Mv(t){var e=t.alternate;return t===je||e!==null&&e===je}function Ov(t,e){To=Hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yd(t,n)}}var ql={readContext:tn,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},C1={readContext:tn,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:fm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fl(4194308,4,Nv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fl(4194308,4,t,e)},useInsertionEffect:function(t,e){return fl(4,2,t,e)},useMemo:function(t,e){var n=An();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=An();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=R1.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:dm,useDebugValue:Ud,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=dm(!1),e=t[0];return t=x1.bind(null,t[1]),An().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=An();if(Me){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),it===null)throw Error(H(349));yi&30||Tv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,fm(Iv.bind(null,r,s,t),[t]),r.flags|=2048,qo(9,Sv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=An(),e=it.identifierPrefix;if(Me){var n=Kn,r=Qn;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$o++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=I1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},P1={readContext:tn,useCallback:Dv,useContext:tn,useEffect:Fd,useImperativeHandle:kv,useInsertionEffect:Cv,useLayoutEffect:Pv,useMemo:Vv,useReducer:xc,useRef:Av,useState:function(){return xc(Ho)},useDebugValue:Ud,useDeferredValue:function(t){var e=nn();return Lv(e,Xe.memoizedState,t)},useTransition:function(){var t=xc(Ho)[0],e=nn().memoizedState;return[t,e]},useMutableSource:wv,useSyncExternalStore:Ev,useId:bv,unstable_isNewReconciler:!1},N1={readContext:tn,useCallback:Dv,useContext:tn,useEffect:Fd,useImperativeHandle:kv,useInsertionEffect:Cv,useLayoutEffect:Pv,useMemo:Vv,useReducer:Rc,useRef:Av,useState:function(){return Rc(Ho)},useDebugValue:Ud,useDeferredValue:function(t){var e=nn();return Xe===null?e.memoizedState=t:Lv(e,Xe.memoizedState,t)},useTransition:function(){var t=Rc(Ho)[0],e=nn().memoizedState;return[t,e]},useMutableSource:wv,useSyncExternalStore:Ev,useId:bv,unstable_isNewReconciler:!1};function fn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _h(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tu={isMounted:function(t){return(t=t._reactInternals)?Ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Dr(t),s=Yn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nr(t,s,i),e!==null&&(_n(e,t,i,r),hl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Dr(t),s=Yn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nr(t,s,i),e!==null&&(_n(e,t,i,r),hl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Dr(t),i=Yn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nr(t,i,r),e!==null&&(_n(e,t,r,n),hl(e,t,r))}};function pm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Oo(n,r)||!Oo(i,s):!0}function Fv(t,e,n){var r=!1,i=jr,s=e.contextType;return typeof s=="object"&&s!==null?s=tn(s):(i=bt(e)?mi:St.current,r=e.contextTypes,s=(r=r!=null)?ps(t,i):jr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tu.enqueueReplaceState(e,e.state,null)}function wh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Dd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=tn(s):(s=bt(e)?mi:St.current,i.context=ps(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_h(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tu.enqueueReplaceState(i,i.state,null),Bl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vs(t,e){try{var n="",r=e;do n+=iE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ac(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Eh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k1=typeof WeakMap=="function"?WeakMap:Map;function Uv(t,e,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gl||(Gl=!0,kh=r),Eh(t,e)},n}function zv(t,e,n){n=Yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Eh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Eh(t,e),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=q1.bind(null,t,e,n),e.then(t,t))}function ym(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yn(-1,1),e.tag=2,Nr(n,e,1))),n.lanes|=1),t)}var D1=or.ReactCurrentOwner,Vt=!1;function xt(t,e,n,r){e.child=t===null?gv(e,null,n,r):gs(e,t.child,n,r)}function _m(t,e,n,r,i){n=n.render;var s=e.ref;return us(e,i),r=Od(t,e,n,r,s,i),n=jd(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tr(t,e,i)):(Me&&n&&xd(e),e.flags|=1,xt(t,e,r,i),e.child)}function wm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Bv(t,e,s,r,i)):(t=yl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oo,n(o,r)&&t.ref===e.ref)return tr(t,e,i)}return e.flags|=1,t=Vr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Bv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Oo(s,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,tr(t,e,i)}return Th(t,e,n,r,i)}function $v(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(is,Ut),Ut|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(is,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(is,Ut),Ut|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ne(is,Ut),Ut|=r;return xt(t,e,i,n),e.child}function Hv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Th(t,e,n,r,i){var s=bt(n)?mi:St.current;return s=ps(e,s),us(e,i),n=Od(t,e,n,r,s,i),r=jd(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tr(t,e,i)):(Me&&r&&xd(e),e.flags|=1,xt(t,e,n,i),e.child)}function Em(t,e,n,r,i){if(bt(n)){var s=!0;Ol(e)}else s=!1;if(us(e,i),e.stateNode===null)pl(t,e),Fv(e,n,r),wh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=tn(c):(c=bt(n)?mi:St.current,c=ps(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&mm(e,o,r,c),_r=!1;var m=e.memoizedState;o.state=m,Bl(e,r,o,i),u=e.memoizedState,l!==r||m!==u||Lt.current||_r?(typeof f=="function"&&(_h(e,n,f,r),u=e.memoizedState),(l=_r||pm(e,n,l,r,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vv(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:fn(e.type,l),o.props=c,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=tn(u):(u=bt(n)?mi:St.current,u=ps(e,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&mm(e,o,r,u),_r=!1,m=e.memoizedState,o.state=m,Bl(e,r,o,i);var C=e.memoizedState;l!==p||m!==C||Lt.current||_r?(typeof v=="function"&&(_h(e,n,v,r),C=e.memoizedState),(c=_r||pm(e,n,c,r,m,C,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Sh(t,e,n,r,s,i)}function Sh(t,e,n,r,i,s){Hv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&om(e,n,!1),tr(t,e,s);r=e.stateNode,D1.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gs(e,t.child,null,s),e.child=gs(e,null,l,s)):xt(t,e,l,s),e.memoizedState=r.state,i&&om(e,n,!0),e.child}function qv(t){var e=t.stateNode;e.pendingContext?sm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sm(t,e.context,!1),Vd(t,e.containerInfo)}function Tm(t,e,n,r,i){return ms(),Ad(i),e.flags|=256,xt(t,e,n,r),e.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wv(t,e,n){var r=e.pendingProps,i=Oe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(Oe,i&1),t===null)return yh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xu(o,r,0,null),t=fi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xh(n),e.memoizedState=Ih,t):zd(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return V1(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Vr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Vr(l,s):(s=fi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ih,r}return s=t.child,t=s.sibling,r=Vr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zd(t,e){return e=xu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ka(t,e,n,r){return r!==null&&Ad(r),gs(e,t.child,null,n),t=zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ac(Error(H(422))),Ka(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xu({mode:"visible",children:r.children},i,0,null),s=fi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&gs(e,t.child,null,o),e.child.memoizedState=xh(o),e.memoizedState=Ih,s);if(!(e.mode&1))return Ka(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=Ac(s,r,void 0),Ka(t,e,o,r)}if(l=(o&t.childLanes)!==0,Vt||l){if(r=it,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,er(t,i),_n(r,t,i,-1))}return Gd(),r=Ac(Error(H(421))),Ka(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=W1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bt=Pr(i.nextSibling),$t=e,Me=!0,gn=null,t!==null&&(Yt[Xt++]=Qn,Yt[Xt++]=Kn,Yt[Xt++]=gi,Qn=t.id,Kn=t.overflow,gi=e),e=zd(e,r.children),e.flags|=4096,e)}function Sm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vh(t.return,e,n)}function Cc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Gv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xt(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sm(t,n,e);else if(t.tag===19)Sm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$l(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$l(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cc(e,!0,n,null,s);break;case"together":Cc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function L1(t,e,n){switch(e.tag){case 3:qv(e),ms();break;case 5:_v(e);break;case 1:bt(e.type)&&Ol(e);break;case 4:Vd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(Ul,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?Wv(t,e,n):(Ne(Oe,Oe.current&1),t=tr(t,e,n),t!==null?t.sibling:null);Ne(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,$v(t,e,n)}return tr(t,e,n)}var Qv,Rh,Kv,Yv;Qv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rh=function(){};Kv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ui(Nn.current);var s=null;switch(n){case"input":i=Qc(t,i),r=Qc(t,r),s=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":i=Xc(t,i),r=Xc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bl)}Zc(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(No.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(No.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ve("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Yv=function(t,e,n,r){n!==r&&(e.flags|=4)};function no(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b1(t,e,n){var r=e.pendingProps;switch(Rd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return bt(e.type)&&Ml(),vt(e),null;case 3:return r=e.stateNode,ys(),be(Lt),be(St),bd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ga(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(Lh(gn),gn=null))),Rh(t,e),vt(e),null;case 5:Ld(e);var i=ui(Bo.current);if(n=e.type,t!==null&&e.stateNode!=null)Kv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return vt(e),null}if(t=ui(Nn.current),Ga(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cn]=e,r[Uo]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<co.length;i++)Ve(co[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Dp(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":Lp(r,s),Ve("invalid",r)}Zc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Wa(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Wa(r.textContent,l,t),i=["children",""+l]):No.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":ja(r),Vp(r,s,!0);break;case"textarea":ja(r),bp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Iy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cn]=e,t[Uo]=r,Qv(t,e,!1,!1),e.stateNode=t;e:{switch(o=eh(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<co.length;i++)Ve(co[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":Dp(t,r),i=Qc(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":Lp(t,r),i=Xc(t,r),Ve("invalid",t);break;default:i=r}Zc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Ay(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&xy(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ko(t,u):typeof u=="number"&&ko(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(No.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ve("scroll",t):u!=null&&hd(t,s,u,o))}switch(n){case"input":ja(t),Vp(t,r,!1);break;case"textarea":ja(t),bp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Or(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ss(t,!!r.multiple,s,!1):r.defaultValue!=null&&ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)Yv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ui(Bo.current),ui(Nn.current),Ga(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cn]=e,(s=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Wa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=e,e.stateNode=r}return vt(e),null;case 13:if(be(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Bt!==null&&e.mode&1&&!(e.flags&128))pv(),ms(),e.flags|=98560,s=!1;else if(s=Ga(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Cn]=e}else ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),s=!1}else gn!==null&&(Lh(gn),gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Je===0&&(Je=3):Gd())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return ys(),Rh(t,e),t===null&&jo(e.stateNode.containerInfo),vt(e),null;case 10:return Nd(e.type._context),vt(e),null;case 17:return bt(e.type)&&Ml(),vt(e),null;case 19:if(be(Oe),s=e.memoizedState,s===null)return vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)no(s,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$l(t),o!==null){for(e.flags|=128,no(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&We()>_s&&(e.flags|=128,r=!0,no(s,!1),e.lanes=4194304)}else{if(!r)if(t=$l(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),no(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return vt(e),null}else 2*We()-s.renderingStartTime>_s&&n!==1073741824&&(e.flags|=128,r=!0,no(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,n=Oe.current,Ne(Oe,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Wd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ut&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function M1(t,e){switch(Rd(e),e.tag){case 1:return bt(e.type)&&Ml(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ys(),be(Lt),be(St),bd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ld(e),null;case 13:if(be(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Oe),null;case 4:return ys(),null;case 10:return Nd(e.type._context),null;case 22:case 23:return Wd(),null;case 24:return null;default:return null}}var Ya=!1,Et=!1,O1=typeof WeakSet=="function"?WeakSet:Set,Y=null;function rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Ah(t,e,n){try{n()}catch(r){He(t,e,r)}}var Im=!1;function j1(t,e){if(ch=Dl,t=tv(),Id(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++f===r&&(u=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(hh={focusedElem:t,selectionRange:n},Dl=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var k=C.memoizedProps,b=C.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?k:fn(e.type,k),b);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(O){He(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return C=Im,Im=!1,C}function So(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ah(e,n,s)}i=i.next}while(i!==r)}}function Su(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ch(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xv(t){var e=t.alternate;e!==null&&(t.alternate=null,Xv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cn],delete e[Uo],delete e[ph],delete e[w1],delete e[E1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jv(t){return t.tag===5||t.tag===3||t.tag===4}function xm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ph(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bl));else if(r!==4&&(t=t.child,t!==null))for(Ph(t,e,n),t=t.sibling;t!==null;)Ph(t,e,n),t=t.sibling}function Nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nh(t,e,n),t=t.sibling;t!==null;)Nh(t,e,n),t=t.sibling}var ut=null,pn=!1;function gr(t,e,n){for(n=n.child;n!==null;)Zv(t,e,n),n=n.sibling}function Zv(t,e,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(mu,n)}catch{}switch(n.tag){case 5:Et||rs(n,e);case 6:var r=ut,i=pn;ut=null,gr(t,e,n),ut=r,pn=i,ut!==null&&(pn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(pn?(t=ut,n=n.stateNode,t.nodeType===8?Ec(t.parentNode,n):t.nodeType===1&&Ec(t,n),bo(t)):Ec(ut,n.stateNode));break;case 4:r=ut,i=pn,ut=n.stateNode.containerInfo,pn=!0,gr(t,e,n),ut=r,pn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ah(n,e,o),i=i.next}while(i!==r)}gr(t,e,n);break;case 1:if(!Et&&(rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,e,l)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,gr(t,e,n),Et=r):gr(t,e,n);break;default:gr(t,e,n)}}function Rm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new O1),e.forEach(function(r){var i=G1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,pn=!1;break e;case 3:ut=l.stateNode.containerInfo,pn=!0;break e;case 4:ut=l.stateNode.containerInfo,pn=!0;break e}l=l.return}if(ut===null)throw Error(H(160));Zv(s,o,i),ut=null,pn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){He(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e_(e,t),e=e.sibling}function e_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),Rn(t),r&4){try{So(3,t,t.return),Su(3,t)}catch(k){He(t,t.return,k)}try{So(5,t,t.return)}catch(k){He(t,t.return,k)}}break;case 1:dn(e,t),Rn(t),r&512&&n!==null&&rs(n,n.return);break;case 5:if(dn(e,t),Rn(t),r&512&&n!==null&&rs(n,n.return),t.flags&32){var i=t.stateNode;try{ko(i,"")}catch(k){He(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Ty(i,s),eh(l,o);var c=eh(l,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?Ay(i,p):f==="dangerouslySetInnerHTML"?xy(i,p):f==="children"?ko(i,p):hd(i,f,p,c)}switch(l){case"input":Kc(i,s);break;case"textarea":Sy(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ss(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?ss(i,!!s.multiple,s.defaultValue,!0):ss(i,!!s.multiple,s.multiple?[]:"",!1))}i[Uo]=s}catch(k){He(t,t.return,k)}}break;case 6:if(dn(e,t),Rn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){He(t,t.return,k)}}break;case 3:if(dn(e,t),Rn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bo(e.containerInfo)}catch(k){He(t,t.return,k)}break;case 4:dn(e,t),Rn(t);break;case 13:dn(e,t),Rn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hd=We())),r&4&&Rm(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(c=Et)||f,dn(e,t),Et=c):dn(e,t),Rn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Y=t,f=t.child;f!==null;){for(p=Y=f;Y!==null;){switch(m=Y,v=m.child,m.tag){case 0:case 11:case 14:case 15:So(4,m,m.return);break;case 1:rs(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(k){He(r,n,k)}}break;case 5:rs(m,m.return);break;case 22:if(m.memoizedState!==null){Cm(p);continue}}v!==null?(v.return=m,Y=v):Cm(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Ry("display",o))}catch(k){He(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){He(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:dn(e,t),Rn(t),r&4&&Rm(t);break;case 21:break;default:dn(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jv(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ko(i,""),r.flags&=-33);var s=xm(t);Nh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=xm(t);Ph(t,l,o);break;default:throw Error(H(161))}}catch(u){He(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F1(t,e,n){Y=t,t_(t)}function t_(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ya;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Et;l=Ya;var c=Et;if(Ya=o,(Et=u)&&!c)for(Y=i;Y!==null;)o=Y,u=o.child,o.tag===22&&o.memoizedState!==null?Pm(i):u!==null?(u.return=o,Y=u):Pm(i);for(;s!==null;)Y=s,t_(s),s=s.sibling;Y=i,Ya=l,Et=c}Am(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Am(t)}}function Am(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Su(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&hm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hm(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&bo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Et||e.flags&512&&Ch(e)}catch(m){He(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Cm(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Pm(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Su(4,e)}catch(u){He(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){He(e,i,u)}}var s=e.return;try{Ch(e)}catch(u){He(e,s,u)}break;case 5:var o=e.return;try{Ch(e)}catch(u){He(e,o,u)}}}catch(u){He(e,e.return,u)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var U1=Math.ceil,Wl=or.ReactCurrentDispatcher,Bd=or.ReactCurrentOwner,en=or.ReactCurrentBatchConfig,ye=0,it=null,Ke=null,dt=0,Ut=0,is=Wr(0),Je=0,Wo=null,vi=0,Iu=0,$d=0,Io=null,Dt=null,Hd=0,_s=1/0,Wn=null,Gl=!1,kh=null,kr=null,Xa=!1,Ir=null,Ql=0,xo=0,Dh=null,ml=-1,gl=0;function Rt(){return ye&6?We():ml!==-1?ml:ml=We()}function Dr(t){return t.mode&1?ye&2&&dt!==0?dt&-dt:S1.transition!==null?(gl===0&&(gl=Fy()),gl):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Wy(t.type)),t):1}function _n(t,e,n,r){if(50<xo)throw xo=0,Dh=null,Error(H(185));ra(t,n,r),(!(ye&2)||t!==it)&&(t===it&&(!(ye&2)&&(Iu|=n),Je===4&&Er(t,dt)),Mt(t,r),n===1&&ye===0&&!(e.mode&1)&&(_s=We()+500,wu&&Gr()))}function Mt(t,e){var n=t.callbackNode;SE(t,e);var r=kl(t,t===it?dt:0);if(r===0)n!==null&&jp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jp(n),e===1)t.tag===0?T1(Nm.bind(null,t)):hv(Nm.bind(null,t)),v1(function(){!(ye&6)&&Gr()}),n=null;else{switch(Uy(r)){case 1:n=gd;break;case 4:n=Oy;break;case 16:n=Nl;break;case 536870912:n=jy;break;default:n=Nl}n=u_(n,n_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n_(t,e){if(ml=-1,gl=0,ye&6)throw Error(H(327));var n=t.callbackNode;if(cs()&&t.callbackNode!==n)return null;var r=kl(t,t===it?dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kl(t,r);else{e=r;var i=ye;ye|=2;var s=i_();(it!==t||dt!==e)&&(Wn=null,_s=We()+500,di(t,e));do try{$1();break}catch(l){r_(t,l)}while(!0);Pd(),Wl.current=s,ye=i,Ke!==null?e=0:(it=null,dt=0,e=Je)}if(e!==0){if(e===2&&(i=sh(t),i!==0&&(r=i,e=Vh(t,i))),e===1)throw n=Wo,di(t,0),Er(t,r),Mt(t,We()),n;if(e===6)Er(t,r);else{if(i=t.current.alternate,!(r&30)&&!z1(i)&&(e=Kl(t,r),e===2&&(s=sh(t),s!==0&&(r=s,e=Vh(t,s))),e===1))throw n=Wo,di(t,0),Er(t,r),Mt(t,We()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ii(t,Dt,Wn);break;case 3:if(Er(t,r),(r&130023424)===r&&(e=Hd+500-We(),10<e)){if(kl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fh(ii.bind(null,t,Dt,Wn),e);break}ii(t,Dt,Wn);break;case 4:if(Er(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U1(r/1960))-r,10<r){t.timeoutHandle=fh(ii.bind(null,t,Dt,Wn),r);break}ii(t,Dt,Wn);break;case 5:ii(t,Dt,Wn);break;default:throw Error(H(329))}}}return Mt(t,We()),t.callbackNode===n?n_.bind(null,t):null}function Vh(t,e){var n=Io;return t.current.memoizedState.isDehydrated&&(di(t,e).flags|=256),t=Kl(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&Lh(e)),t}function Lh(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function z1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Er(t,e){for(e&=~$d,e&=~Iu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),r=1<<n;t[n]=-1,e&=~r}}function Nm(t){if(ye&6)throw Error(H(327));cs();var e=kl(t,0);if(!(e&1))return Mt(t,We()),null;var n=Kl(t,e);if(t.tag!==0&&n===2){var r=sh(t);r!==0&&(e=r,n=Vh(t,r))}if(n===1)throw n=Wo,di(t,0),Er(t,e),Mt(t,We()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ii(t,Dt,Wn),Mt(t,We()),null}function qd(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(_s=We()+500,wu&&Gr())}}function _i(t){Ir!==null&&Ir.tag===0&&!(ye&6)&&cs();var e=ye;ye|=1;var n=en.transition,r=xe;try{if(en.transition=null,xe=1,t)return t()}finally{xe=r,en.transition=n,ye=e,!(ye&6)&&Gr()}}function Wd(){Ut=is.current,be(is)}function di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,y1(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(Rd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ml();break;case 3:ys(),be(Lt),be(St),bd();break;case 5:Ld(r);break;case 4:ys();break;case 13:be(Oe);break;case 19:be(Oe);break;case 10:Nd(r.type._context);break;case 22:case 23:Wd()}n=n.return}if(it=t,Ke=t=Vr(t.current,null),dt=Ut=e,Je=0,Wo=null,$d=Iu=vi=0,Dt=Io=null,li!==null){for(e=0;e<li.length;e++)if(n=li[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}li=null}return t}function r_(t,e){do{var n=Ke;try{if(Pd(),dl.current=ql,Hl){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hl=!1}if(yi=0,rt=Xe=je=null,To=!1,$o=0,Bd.current=null,n===null||n.return===null){Je=1,Wo=e,Ke=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=dt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=ym(o);if(v!==null){v.flags&=-257,vm(v,o,l,s,e),v.mode&1&&gm(s,c,e),e=v,u=c;var C=e.updateQueue;if(C===null){var k=new Set;k.add(u),e.updateQueue=k}else C.add(u);break e}else{if(!(e&1)){gm(s,c,e),Gd();break e}u=Error(H(426))}}else if(Me&&l.mode&1){var b=ym(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vm(b,o,l,s,e),Ad(vs(u,l));break e}}s=u=vs(u,l),Je!==4&&(Je=2),Io===null?Io=[s]:Io.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=Uv(s,u,e);cm(s,E);break e;case 1:l=u;var w=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(kr===null||!kr.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=zv(s,l,e);cm(s,O);break e}}s=s.return}while(s!==null)}o_(n)}catch(A){e=A,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function i_(){var t=Wl.current;return Wl.current=ql,t===null?ql:t}function Gd(){(Je===0||Je===3||Je===2)&&(Je=4),it===null||!(vi&268435455)&&!(Iu&268435455)||Er(it,dt)}function Kl(t,e){var n=ye;ye|=2;var r=i_();(it!==t||dt!==e)&&(Wn=null,di(t,e));do try{B1();break}catch(i){r_(t,i)}while(!0);if(Pd(),ye=n,Wl.current=r,Ke!==null)throw Error(H(261));return it=null,dt=0,Je}function B1(){for(;Ke!==null;)s_(Ke)}function $1(){for(;Ke!==null&&!pE();)s_(Ke)}function s_(t){var e=l_(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?o_(t):Ke=e,Bd.current=null}function o_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M1(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Ke=null;return}}else if(n=b1(n,e,Ut),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Je===0&&(Je=5)}function ii(t,e,n){var r=xe,i=en.transition;try{en.transition=null,xe=1,H1(t,e,n,r)}finally{en.transition=i,xe=r}return null}function H1(t,e,n,r){do cs();while(Ir!==null);if(ye&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(IE(t,s),t===it&&(Ke=it=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xa||(Xa=!0,u_(Nl,function(){return cs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=en.transition,en.transition=null;var o=xe;xe=1;var l=ye;ye|=4,Bd.current=null,j1(t,n),e_(n,t),c1(hh),Dl=!!ch,hh=ch=null,t.current=n,F1(n),mE(),ye=l,xe=o,en.transition=s}else t.current=n;if(Xa&&(Xa=!1,Ir=t,Ql=i),s=t.pendingLanes,s===0&&(kr=null),vE(n.stateNode),Mt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,t=kh,kh=null,t;return Ql&1&&t.tag!==0&&cs(),s=t.pendingLanes,s&1?t===Dh?xo++:(xo=0,Dh=t):xo=0,Gr(),null}function cs(){if(Ir!==null){var t=Uy(Ql),e=en.transition,n=xe;try{if(en.transition=null,xe=16>t?16:t,Ir===null)var r=!1;else{if(t=Ir,Ir=null,Ql=0,ye&6)throw Error(H(331));var i=ye;for(ye|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Y=c;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:So(8,f,s)}var p=f.child;if(p!==null)p.return=f,Y=p;else for(;Y!==null;){f=Y;var m=f.sibling,v=f.return;if(Xv(f),f===c){Y=null;break}if(m!==null){m.return=v,Y=m;break}Y=v}}}var C=s.alternate;if(C!==null){var k=C.child;if(k!==null){C.child=null;do{var b=k.sibling;k.sibling=null,k=b}while(k!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:So(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break e}Y=s.return}}var w=t.current;for(Y=w;Y!==null;){o=Y;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Y=I;else e:for(o=w;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Su(9,l)}}catch(A){He(l,l.return,A)}if(l===o){Y=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,Y=O;break e}Y=l.return}}if(ye=i,Gr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(mu,t)}catch{}r=!0}return r}finally{xe=n,en.transition=e}}return!1}function km(t,e,n){e=vs(n,e),e=Uv(t,e,1),t=Nr(t,e,1),e=Rt(),t!==null&&(ra(t,1,e),Mt(t,e))}function He(t,e,n){if(t.tag===3)km(t,t,n);else for(;e!==null;){if(e.tag===3){km(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){t=vs(n,t),t=zv(e,t,1),e=Nr(e,t,1),t=Rt(),e!==null&&(ra(e,1,t),Mt(e,t));break}}e=e.return}}function q1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(dt&n)===n&&(Je===4||Je===3&&(dt&130023424)===dt&&500>We()-Hd?di(t,0):$d|=n),Mt(t,e)}function a_(t,e){e===0&&(t.mode&1?(e=za,za<<=1,!(za&130023424)&&(za=4194304)):e=1);var n=Rt();t=er(t,e),t!==null&&(ra(t,e,n),Mt(t,n))}function W1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),a_(t,n)}function G1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),a_(t,n)}var l_;l_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,L1(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Me&&e.flags&1048576&&dv(e,Fl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pl(t,e),t=e.pendingProps;var i=ps(e,St.current);us(e,n),i=Od(null,e,r,t,i,n);var s=jd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(s=!0,Ol(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dd(e),i.updater=Tu,e.stateNode=i,i._reactInternals=e,wh(e,r,t,n),e=Sh(null,e,r,!0,s,n)):(e.tag=0,Me&&s&&xd(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=K1(r),t=fn(r,t),i){case 0:e=Th(null,e,r,t,n);break e;case 1:e=Em(null,e,r,t,n);break e;case 11:e=_m(null,e,r,t,n);break e;case 14:e=wm(null,e,r,fn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Th(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Em(t,e,r,i,n);case 3:e:{if(qv(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,vv(t,e),Bl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vs(Error(H(423)),e),e=Tm(t,e,r,n,i);break e}else if(r!==i){i=vs(Error(H(424)),e),e=Tm(t,e,r,n,i);break e}else for(Bt=Pr(e.stateNode.containerInfo.firstChild),$t=e,Me=!0,gn=null,n=gv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ms(),r===i){e=tr(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return _v(e),t===null&&yh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dh(r,i)?o=null:s!==null&&dh(r,s)&&(e.flags|=32),Hv(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&yh(e),null;case 13:return Wv(t,e,n);case 4:return Vd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gs(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),_m(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ne(Ul,r._currentValue),r._currentValue=o,s!==null)if(wn(s.value,o)){if(s.children===i.children&&!Lt.current){e=tr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Yn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),vh(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,us(e,n),i=tn(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=fn(r,e.pendingProps),i=fn(r.type,i),wm(t,e,r,i,n);case 15:return Bv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),pl(t,e),e.tag=1,bt(r)?(t=!0,Ol(e)):t=!1,us(e,n),Fv(e,r,i),wh(e,r,i,n),Sh(null,e,r,!0,t,n);case 19:return Gv(t,e,n);case 22:return $v(t,e,n)}throw Error(H(156,e.tag))};function u_(t,e){return My(t,e)}function Q1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new Q1(t,e,n,r)}function Qd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function K1(t){if(typeof t=="function")return Qd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fd)return 11;if(t===pd)return 14}return 2}function Vr(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qi:return fi(n.children,i,s,e);case dd:o=8,i|=8;break;case Hc:return t=Zt(12,n,e,i|2),t.elementType=Hc,t.lanes=s,t;case qc:return t=Zt(13,n,e,i),t.elementType=qc,t.lanes=s,t;case Wc:return t=Zt(19,n,e,i),t.elementType=Wc,t.lanes=s,t;case _y:return xu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yy:o=10;break e;case vy:o=9;break e;case fd:o=11;break e;case pd:o=14;break e;case vr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fi(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function xu(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=_y,t.lanes=n,t.stateNode={isHidden:!1},t}function Pc(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function Nc(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Y1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cc(0),this.expirationTimes=cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kd(t,e,n,r,i,s,o,l,u){return t=new Y1(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(s),t}function X1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function c_(t){if(!t)return jr;t=t._reactInternals;e:{if(Ii(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(bt(n))return cv(t,n,e)}return e}function h_(t,e,n,r,i,s,o,l,u){return t=Kd(n,r,!0,t,i,s,o,l,u),t.context=c_(null),n=t.current,r=Rt(),i=Dr(n),s=Yn(r,i),s.callback=e??null,Nr(n,s,i),t.current.lanes=i,ra(t,i,r),Mt(t,r),t}function Ru(t,e,n,r){var i=e.current,s=Rt(),o=Dr(i);return n=c_(n),e.context===null?e.context=n:e.pendingContext=n,e=Yn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nr(i,e,o),t!==null&&(_n(t,i,o,s),hl(t,i,o)),o}function Yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yd(t,e){Dm(t,e),(t=t.alternate)&&Dm(t,e)}function J1(){return null}var d_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xd(t){this._internalRoot=t}Au.prototype.render=Xd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Ru(t,e,null,null)};Au.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_i(function(){Ru(null,t,null,null)}),e[Zn]=null}};function Au(t){this._internalRoot=t}Au.prototype.unstable_scheduleHydration=function(t){if(t){var e=$y();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wr.length&&e!==0&&e<wr[n].priority;n++);wr.splice(n,0,t),n===0&&qy(t)}};function Jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vm(){}function Z1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Yl(o);s.call(c)}}var o=h_(e,r,t,0,null,!1,!1,"",Vm);return t._reactRootContainer=o,t[Zn]=o.current,jo(t.nodeType===8?t.parentNode:t),_i(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Yl(u);l.call(c)}}var u=Kd(t,0,!1,null,null,!1,!1,"",Vm);return t._reactRootContainer=u,t[Zn]=u.current,jo(t.nodeType===8?t.parentNode:t),_i(function(){Ru(e,u,n,r)}),u}function Pu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Yl(o);l.call(u)}}Ru(e,o,t,i)}else o=Z1(n,e,t,i,r);return Yl(o)}zy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uo(e.pendingLanes);n!==0&&(yd(e,n|1),Mt(e,We()),!(ye&6)&&(_s=We()+500,Gr()))}break;case 13:_i(function(){var r=er(t,1);if(r!==null){var i=Rt();_n(r,t,1,i)}}),Yd(t,1)}};vd=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var n=Rt();_n(e,t,134217728,n)}Yd(t,134217728)}};By=function(t){if(t.tag===13){var e=Dr(t),n=er(t,e);if(n!==null){var r=Rt();_n(n,t,e,r)}Yd(t,e)}};$y=function(){return xe};Hy=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};nh=function(t,e,n){switch(e){case"input":if(Kc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_u(r);if(!i)throw Error(H(90));Ey(r),Kc(r,i)}}}break;case"textarea":Sy(t,n);break;case"select":e=n.value,e!=null&&ss(t,!!n.multiple,e,!1)}};Ny=qd;ky=_i;var eT={usingClientEntryPoint:!1,Events:[sa,Ji,_u,Cy,Py,qd]},ro={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tT={bundleType:ro.bundleType,version:ro.version,rendererPackageName:ro.rendererPackageName,rendererConfig:ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ly(t),t===null?null:t.stateNode},findFiberByHostInstance:ro.findFiberByHostInstance||J1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{mu=Ja.inject(tT),Pn=Ja}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eT;qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(e))throw Error(H(200));return X1(t,e,null,n)};qt.createRoot=function(t,e){if(!Jd(t))throw Error(H(299));var n=!1,r="",i=d_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kd(t,1,!1,null,null,n,!1,r,i),t[Zn]=e.current,jo(t.nodeType===8?t.parentNode:t),new Xd(e)};qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Ly(e),t=t===null?null:t.stateNode,t};qt.flushSync=function(t){return _i(t)};qt.hydrate=function(t,e,n){if(!Cu(e))throw Error(H(200));return Pu(null,t,e,!0,n)};qt.hydrateRoot=function(t,e,n){if(!Jd(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=d_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=h_(e,null,t,1,n??null,i,!1,s,o),t[Zn]=e.current,jo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Au(e)};qt.render=function(t,e,n){if(!Cu(e))throw Error(H(200));return Pu(null,t,e,!1,n)};qt.unmountComponentAtNode=function(t){if(!Cu(t))throw Error(H(40));return t._reactRootContainer?(_i(function(){Pu(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};qt.unstable_batchedUpdates=qd;qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cu(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Pu(t,e,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function f_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f_)}catch(t){console.error(t)}}f_(),fy.exports=qt;var p_=fy.exports,m_,Lm=p_;m_=Lm.createRoot,Lm.hydrateRoot;const nT="/IEHS-University/assets/SchoolLogo-KrNfGWdp.png";function rT(){return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed top-0 h-[50px] w-[100vw] bg-[#1a2d31] flex justify-center items-center",children:_.jsxs("ul",{className:"font-medium flex w-[100%] justify-around text-white",children:[_.jsx("li",{children:"ABOUT"}),_.jsx("li",{children:"OUR COURSES"}),_.jsx("li",{children:"RESEARCH"}),_.jsx("li",{children:"PAGES"}),_.jsx("li",{children:"CONTACT"})]})}),_.jsx("div",{className:"fixed bottom-0 h-[40px] w-[100vw] bg-[#1a2d31]"})]})}var Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});Zd.parse=cT;Zd.serialize=hT;const iT=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,sT=/^[\u0021-\u003A\u003C-\u007E]*$/,oT=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,aT=/^[\u0020-\u003A\u003D-\u007E]*$/,lT=Object.prototype.toString,uT=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function cT(t,e){const n=new uT,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||dT;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const l=t.indexOf(";",s),u=l===-1?r:l;if(o>u){s=t.lastIndexOf(";",o-1)+1;continue}const c=bm(t,s,o),f=Mm(t,o,c),p=t.slice(c,f);if(n[p]===void 0){let m=bm(t,o+1,u),v=Mm(t,u,m);const C=i(t.slice(m,v));n[p]=C}s=u+1}while(s<r);return n}function bm(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Mm(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function hT(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!iT.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!sT.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!oT.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!aT.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!fT(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function dT(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function fT(t){return lT.call(t)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Om="popstate";function pT(t={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Go("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fr(i)}return gT(e,n,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mT(){return Math.random().toString(36).substring(2,10)}function jm(t,e){return{usr:t.state,key:t.key,idx:e}}function Go(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qr(e):e,state:n,key:e&&e.key||r||mT()}}function Fr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function gT(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",u=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function p(){l="POP";let b=f(),E=b==null?null:b-c;c=b,u&&u({action:l,location:k.location,delta:E})}function m(b,E){l="PUSH";let w=Go(k.location,b,E);c=f()+1;let I=jm(w,c),O=k.createHref(w);try{o.pushState(I,"",O)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(O)}s&&u&&u({action:l,location:k.location,delta:1})}function v(b,E){l="REPLACE";let w=Go(k.location,b,E);c=f();let I=jm(w,c),O=k.createHref(w);o.replaceState(I,"",O),s&&u&&u({action:l,location:k.location,delta:0})}function C(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Fr(b);return w=w.replace(/ $/,"%20"),pe(E,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,E)}let k={get action(){return l},get location(){return t(i,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Om,p),u=b,()=>{i.removeEventListener(Om,p),u=null}},createHref(b){return e(i,b)},createURL:C,encodeLocation(b){let E=C(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:v,go(b){return o.go(b)}};return k}var yT=new Set(["lazy","caseSensitive","path","id","index","children"]);function vT(t){return t.index===!0}function Xl(t,e,n=[],r={}){return t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(pe(i.index!==!0||!i.children,"Cannot specify children on an index route"),pe(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),vT(i)){let u={...i,...e(i),id:l};return r[l]=u,u}else{let u={...i,...e(i),id:l,children:void 0};return r[l]=u,i.children&&(u.children=Xl(i.children,e,o,r)),u}})}function Tr(t,e,n="/"){return vl(t,e,n,!1)}function vl(t,e,n,r){let i=typeof e=="string"?Qr(e):e,s=En(i.pathname||"/",n);if(s==null)return null;let o=g_(t);wT(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=kT(s);l=PT(o[u],c,r)}return l}function _T(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function g_(t,e=[],n=[],r=""){let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(pe(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=kn([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(pe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),g_(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:AT(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of y_(s.path))i(s,o,u)}),e}function y_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=y_(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function wT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ET=/^:[\w-]+$/,TT=3,ST=2,IT=1,xT=10,RT=-2,Fm=t=>t==="*";function AT(t,e){let n=t.split("/"),r=n.length;return n.some(Fm)&&(r+=RT),e&&(r+=ST),n.filter(i=>!Fm(i)).reduce((i,s)=>i+(ET.test(s)?TT:s===""?IT:xT),r)}function CT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PT(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Jl({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Jl({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:kn([s,p.pathname]),pathnameBase:LT(kn([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=kn([s,p.pathnameBase]))}return o}function Jl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:p},m)=>{if(f==="*"){let C=l[m]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const v=l[m];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function NT(t,e=!1,n=!0){rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rn(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function En(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DT(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qr(t):t;return{pathname:n?n.startsWith("/")?n:VT(n,e):e,search:bT(r),hash:MT(i)}}function VT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kc(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ef(t){let e=v_(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tf(t,e,n,r=!1){let i;typeof t=="string"?i=Qr(t):(i={...t},pe(!i.pathname||!i.pathname.includes("?"),kc("?","pathname","search",i)),pe(!i.pathname||!i.pathname.includes("#"),kc("#","pathname","hash",i)),pe(!i.search||!i.search.includes("#"),kc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=DT(i,l),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var kn=t=>t.join("/").replace(/\/\/+/g,"/"),LT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Zl=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Nu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var __=["POST","PUT","PATCH","DELETE"],OT=new Set(__),jT=["GET",...__],FT=new Set(jT),UT=new Set([301,302,303,307,308]),zT=new Set([307,308]),Dc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},io={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$T=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),w_="remix-router-transitions",E_=Symbol("ResetLoaderData");function HT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";pe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.mapRouteProperties||$T,i={},s=Xl(t.routes,r,void 0,i),o,l=t.basename||"/",u=t.dataStrategy||KT,c=t.patchRoutesOnNavigation,f={...t.future},p=null,m=new Set,v=null,C=null,k=null,b=t.hydrationData!=null,E=Tr(s,t.history.location,l),w=null;if(E==null&&!c){let P=Kt(404,{pathname:t.history.location.pathname}),{matches:D,route:j}=Ym(s);E=D,w={[j.id]:P}}E&&!t.hydrationData&&hr(E,s,t.history.location.pathname).active&&(E=null);let I;if(E)if(E.some(P=>P.route.lazy))I=!1;else if(!E.some(P=>P.route.loader))I=!0;else{let P=t.hydrationData?t.hydrationData.loaderData:null,D=t.hydrationData?t.hydrationData.errors:null;if(D){let j=E.findIndex(z=>D[z.route.id]!==void 0);I=E.slice(0,j+1).every(z=>!Mh(z.route,P,D))}else I=E.every(j=>!Mh(j.route,P,D))}else{I=!1,E=[];let P=hr(null,s,t.history.location.pathname);P.active&&P.matches&&(E=P.matches)}let O,A={historyAction:t.history.action,location:t.history.location,matches:E,initialized:I,navigation:Dc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},U="POP",S=!1,g,T=!1,x=new Map,N=null,V=!1,R=!1,st=new Set,ke=new Map,In=0,It=-1,G=new Map,te=new Set,ie=new Map,Te=new Map,ce=new Set,Se=new Map,Pt,ot=null;function sn(){if(p=t.history.listen(({action:P,location:D,delta:j})=>{if(Pt){Pt(),Pt=void 0;return}rn(Se.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=Ea({currentLocation:A.location,nextLocation:D,historyAction:P});if(z&&j!=null){let K=new Promise(Z=>{Pt=Z});t.history.go(j*-1),Li(z,{state:"blocked",location:D,proceed(){Li(z,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),K.then(()=>t.history.go(j))},reset(){let Z=new Map(A.blockers);Z.set(z,io),at({blockers:Z})}});return}return ln(P,D)}),n){oS(e,x);let P=()=>aS(e,x);e.addEventListener("pagehide",P),N=()=>e.removeEventListener("pagehide",P)}return A.initialized||ln("POP",A.location,{initialHydration:!0}),O}function on(){p&&p(),N&&N(),m.clear(),g&&g.abort(),A.fetchers.forEach((P,D)=>ur(D)),A.blockers.forEach((P,D)=>Vi(D))}function Ku(P){return m.add(P),()=>m.delete(P)}function at(P,D={}){A={...A,...P};let j=[],z=[];A.fetchers.forEach((K,Z)=>{K.state==="idle"&&(ce.has(Z)?j.push(Z):z.push(Z))}),[...m].forEach(K=>K(A,{deletedFetchers:j,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),j.forEach(K=>ur(K)),z.forEach(K=>A.fetchers.delete(K))}function an(P,D,{flushSync:j}={}){var W,oe;let z=A.actionData!=null&&A.navigation.formMethod!=null&&mn(A.navigation.formMethod)&&A.navigation.state==="loading"&&((W=P.state)==null?void 0:W._isRedirect)!==!0,K;D.actionData?Object.keys(D.actionData).length>0?K=D.actionData:K=null:z?K=A.actionData:K=null;let Z=D.loaderData?Qm(A.loaderData,D.loaderData,D.matches||[],D.errors):A.loaderData,re=A.blockers;re.size>0&&(re=new Map(re),re.forEach((ue,Ie)=>re.set(Ie,io)));let J=S===!0||A.navigation.formMethod!=null&&mn(A.navigation.formMethod)&&((oe=P.state)==null?void 0:oe._isRedirect)!==!0;o&&(s=o,o=void 0),V||U==="POP"||(U==="PUSH"?t.history.push(P,P.state):U==="REPLACE"&&t.history.replace(P,P.state));let ee;if(U==="POP"){let ue=x.get(A.location.pathname);ue&&ue.has(P.pathname)?ee={currentLocation:A.location,nextLocation:P}:x.has(P.pathname)&&(ee={currentLocation:P,nextLocation:A.location})}else if(T){let ue=x.get(A.location.pathname);ue?ue.add(P.pathname):(ue=new Set([P.pathname]),x.set(A.location.pathname,ue)),ee={currentLocation:A.location,nextLocation:P}}at({...D,actionData:K,loaderData:Z,historyAction:U,location:P,initialized:!0,navigation:Dc,revalidation:"idle",restoreScrollPosition:bi(P,D.matches||A.matches),preventScrollReset:J,blockers:re},{viewTransitionOpts:ee,flushSync:j===!0}),U="POP",S=!1,T=!1,V=!1,R=!1,ot==null||ot.resolve(),ot=null}async function Kr(P,D){if(typeof P=="number"){t.history.go(P);return}let j=bh(A.location,A.matches,l,P,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:z,submission:K,error:Z}=Um(!1,j,D),re=A.location,J=Go(A.location,z,D&&D.state);J={...J,...t.history.encodeLocation(J)};let ee=D&&D.replace!=null?D.replace:void 0,W="PUSH";ee===!0?W="REPLACE":ee===!1||K!=null&&mn(K.formMethod)&&K.formAction===A.location.pathname+A.location.search&&(W="REPLACE");let oe=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,ue=(D&&D.flushSync)===!0,Ie=Ea({currentLocation:re,nextLocation:J,historyAction:W});if(Ie){Li(Ie,{state:"blocked",location:J,proceed(){Li(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),Kr(P,D)},reset(){let Ge=new Map(A.blockers);Ge.set(Ie,io),at({blockers:Ge})}});return}await ln(W,J,{submission:K,pendingError:Z,preventScrollReset:oe,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:ue})}function bs(){ot||(ot=lS()),Xr(),at({revalidation:"loading"});let P=ot.promise;return A.navigation.state==="submitting"?P:A.navigation.state==="idle"?(ln(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),P):(ln(U||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:T===!0}),P)}async function ln(P,D,j){g&&g.abort(),g=null,U=P,V=(j&&j.startUninterruptedRevalidation)===!0,Zr(A.location,A.matches),S=(j&&j.preventScrollReset)===!0,T=(j&&j.enableViewTransition)===!0;let z=o||s,K=j&&j.overrideNavigation,Z=Tr(z,D,l),re=(j&&j.flushSync)===!0,J=hr(Z,z,D.pathname);if(J.active&&J.matches&&(Z=J.matches),!Z){let{error:Ae,notFoundMatches:_e,route:Re}=Jr(D.pathname);an(D,{matches:_e,loaderData:{},errors:{[Re.id]:Ae}},{flushSync:re});return}if(A.initialized&&!R&&tS(A.location,D)&&!(j&&j.submission&&mn(j.submission.formMethod))){an(D,{matches:Z},{flushSync:re});return}g=new AbortController;let ee=Bi(t.history,D,g.signal,j&&j.submission),W;if(j&&j.pendingError)W=[oi(Z).route.id,{type:"error",error:j.pendingError}];else if(j&&j.submission&&mn(j.submission.formMethod)){let Ae=await Ms(ee,D,j.submission,Z,J.active,{replace:j.replace,flushSync:re});if(Ae.shortCircuited)return;if(Ae.pendingActionResult){let[_e,Re]=Ae.pendingActionResult;if(zt(Re)&&Nu(Re.error)&&Re.error.status===404){g=null,an(D,{matches:Ae.matches,loaderData:{},errors:{[_e]:Re.error}});return}}Z=Ae.matches||Z,W=Ae.pendingActionResult,K=Vc(D,j.submission),re=!1,J.active=!1,ee=Bi(t.history,ee.url,ee.signal)}let{shortCircuited:oe,matches:ue,loaderData:Ie,errors:Ge}=await Os(ee,D,Z,J.active,K,j&&j.submission,j&&j.fetcherSubmission,j&&j.replace,j&&j.initialHydration===!0,re,W);oe||(g=null,an(D,{matches:ue||Z,...Km(W),loaderData:Ie,errors:Ge}))}async function Ms(P,D,j,z,K,Z={}){Xr();let re=iS(D,j);if(at({navigation:re},{flushSync:Z.flushSync===!0}),K){let W=await Gt(z,D.pathname,P.signal);if(W.type==="aborted")return{shortCircuited:!0};if(W.type==="error"){let oe=oi(W.partialMatches).route.id;return{matches:W.partialMatches,pendingActionResult:[oe,{type:"error",error:W.error}]}}else if(W.matches)z=W.matches;else{let{notFoundMatches:oe,error:ue,route:Ie}=Jr(D.pathname);return{matches:oe,pendingActionResult:[Ie.id,{type:"error",error:ue}]}}}let J,ee=ho(z,D);if(!ee.route.action&&!ee.route.lazy)J={type:"error",error:Kt(405,{method:P.method,pathname:D.pathname,routeId:ee.route.id})};else if(J=(await Yr("action",A,P,[ee],z,null))[ee.route.id],P.signal.aborted)return{shortCircuited:!0};if(ci(J)){let W;return Z&&Z.replace!=null?W=Z.replace:W=qm(J.response.headers.get("Location"),new URL(P.url),l)===A.location.pathname+A.location.search,await xn(P,J,!0,{submission:j,replace:W}),{shortCircuited:!0}}if(zt(J)){let W=oi(z,ee.route.id);return(Z&&Z.replace)!==!0&&(U="PUSH"),{matches:z,pendingActionResult:[W.route.id,J]}}return{matches:z,pendingActionResult:[ee.route.id,J]}}async function Os(P,D,j,z,K,Z,re,J,ee,W,oe){let ue=K||Vc(D,Z),Ie=Z||re||Jm(ue),Ge=!V&&!ee;if(z){if(Ge){let ze=js(oe);at({navigation:ue,...ze!==void 0?{actionData:ze}:{}},{flushSync:W})}let we=await Gt(j,D.pathname,P.signal);if(we.type==="aborted")return{shortCircuited:!0};if(we.type==="error"){let ze=oi(we.partialMatches).route.id;return{matches:we.partialMatches,loaderData:{},errors:{[ze]:we.error}}}else if(we.matches)j=we.matches;else{let{error:ze,notFoundMatches:Qt,route:Bn}=Jr(D.pathname);return{matches:Qt,loaderData:{},errors:{[Bn.id]:ze}}}}let Ae=o||s,[_e,Re]=Bm(t.history,A,j,Ie,D,ee===!0,R,st,ce,ie,te,Ae,l,oe);if(It=++In,_e.length===0&&Re.length===0){let we=cr();return an(D,{matches:j,loaderData:{},errors:oe&&zt(oe[1])?{[oe[0]]:oe[1].error}:null,...Km(oe),...we?{fetchers:new Map(A.fetchers)}:{}},{flushSync:W}),{shortCircuited:!0}}if(Ge){let we={};if(!z){we.navigation=ue;let ze=js(oe);ze!==void 0&&(we.actionData=ze)}Re.length>0&&(we.fetchers=Yu(Re)),at(we,{flushSync:W})}Re.forEach(we=>{cn(we.key),we.controller&&ke.set(we.key,we.controller)});let Fn=()=>Re.forEach(we=>cn(we.key));g&&g.signal.addEventListener("abort",Fn);let{loaderResults:dr,fetcherResults:jt}=await Di(A,j,_e,Re,P);if(P.signal.aborted)return{shortCircuited:!0};g&&g.signal.removeEventListener("abort",Fn),Re.forEach(we=>ke.delete(we.key));let Nt=Za(dr);if(Nt)return await xn(P,Nt.result,!0,{replace:J}),{shortCircuited:!0};if(Nt=Za(jt),Nt)return te.add(Nt.key),await xn(P,Nt.result,!0,{replace:J}),{shortCircuited:!0};let{loaderData:Oi,errors:fr}=Gm(A,j,dr,oe,Re,jt);ee&&A.errors&&(fr={...A.errors,...fr});let Un=cr(),zn=Us(It),ei=Un||zn||Re.length>0;return{matches:j,loaderData:Oi,errors:fr,...ei?{fetchers:new Map(A.fetchers)}:{}}}function js(P){if(P&&!zt(P[1]))return{[P[0]]:P[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Yu(P){return P.forEach(D=>{let j=A.fetchers.get(D.key),z=so(void 0,j?j.data:void 0);A.fetchers.set(D.key,z)}),new Map(A.fetchers)}async function Xu(P,D,j,z){cn(P);let K=(z&&z.flushSync)===!0,Z=o||s,re=bh(A.location,A.matches,l,j,D,z==null?void 0:z.relative),J=Tr(Z,re,l),ee=hr(J,Z,re);if(ee.active&&ee.matches&&(J=ee.matches),!J){Pe(P,D,Kt(404,{pathname:re}),{flushSync:K});return}let{path:W,submission:oe,error:ue}=Um(!0,re,z);if(ue){Pe(P,D,ue,{flushSync:K});return}let Ie=ho(J,W),Ge=(z&&z.preventScrollReset)===!0;if(oe&&mn(oe.formMethod)){await ya(P,D,W,Ie,J,ee.active,K,Ge,oe);return}ie.set(P,{routeId:D,path:W}),await Fs(P,D,W,Ie,J,ee.active,K,Ge,oe)}async function ya(P,D,j,z,K,Z,re,J,ee){Xr(),ie.delete(P);function W(Be){if(!Be.route.action&&!Be.route.lazy){let $n=Kt(405,{method:ee.formMethod,pathname:j,routeId:D});return Pe(P,D,$n,{flushSync:re}),!0}return!1}if(!Z&&W(z))return;let oe=A.fetchers.get(P);un(P,sS(ee,oe),{flushSync:re});let ue=new AbortController,Ie=Bi(t.history,j,ue.signal,ee);if(Z){let Be=await Gt(K,j,Ie.signal);if(Be.type==="aborted")return;if(Be.type==="error"){Pe(P,D,Be.error,{flushSync:re});return}else if(Be.matches){if(K=Be.matches,z=ho(K,j),W(z))return}else{Pe(P,D,Kt(404,{pathname:j}),{flushSync:re});return}}ke.set(P,ue);let Ge=In,_e=(await Yr("action",A,Ie,[z],K,P))[z.route.id];if(Ie.signal.aborted){ke.get(P)===ue&&ke.delete(P);return}if(ce.has(P)){if(ci(_e)||zt(_e)){un(P,yr(void 0));return}}else{if(ci(_e))if(ke.delete(P),It>Ge){un(P,yr(void 0));return}else return te.add(P),un(P,so(ee)),xn(Ie,_e,!1,{fetcherSubmission:ee,preventScrollReset:J});if(zt(_e)){Pe(P,D,_e.error);return}}let Re=A.navigation.location||A.location,Fn=Bi(t.history,Re,ue.signal),dr=o||s,jt=A.navigation.state!=="idle"?Tr(dr,A.navigation.location,l):A.matches;pe(jt,"Didn't find any matches after fetcher action");let Nt=++In;G.set(P,Nt);let Oi=so(ee,_e.data);A.fetchers.set(P,Oi);let[fr,Un]=Bm(t.history,A,jt,ee,Re,!1,R,st,ce,ie,te,dr,l,[z.route.id,_e]);Un.filter(Be=>Be.key!==P).forEach(Be=>{let $n=Be.key,Bs=A.fetchers.get($n),Ia=so(void 0,Bs?Bs.data:void 0);A.fetchers.set($n,Ia),cn($n),Be.controller&&ke.set($n,Be.controller)}),at({fetchers:new Map(A.fetchers)});let zn=()=>Un.forEach(Be=>cn(Be.key));ue.signal.addEventListener("abort",zn);let{loaderResults:ei,fetcherResults:we}=await Di(A,jt,fr,Un,Fn);if(ue.signal.aborted)return;ue.signal.removeEventListener("abort",zn),G.delete(P),ke.delete(P),Un.forEach(Be=>ke.delete(Be.key));let ze=Za(ei);if(ze)return xn(Fn,ze.result,!1,{preventScrollReset:J});if(ze=Za(we),ze)return te.add(ze.key),xn(Fn,ze.result,!1,{preventScrollReset:J});let{loaderData:Qt,errors:Bn}=Gm(A,jt,ei,void 0,Un,we);if(A.fetchers.has(P)){let Be=yr(_e.data);A.fetchers.set(P,Be)}Us(Nt),A.navigation.state==="loading"&&Nt>It?(pe(U,"Expected pending action"),g&&g.abort(),an(A.navigation.location,{matches:jt,loaderData:Qt,errors:Bn,fetchers:new Map(A.fetchers)})):(at({errors:Bn,loaderData:Qm(A.loaderData,Qt,jt,Bn),fetchers:new Map(A.fetchers)}),R=!1)}async function Fs(P,D,j,z,K,Z,re,J,ee){let W=A.fetchers.get(P);un(P,so(ee,W?W.data:void 0),{flushSync:re});let oe=new AbortController,ue=Bi(t.history,j,oe.signal);if(Z){let _e=await Gt(K,j,ue.signal);if(_e.type==="aborted")return;if(_e.type==="error"){Pe(P,D,_e.error,{flushSync:re});return}else if(_e.matches)K=_e.matches,z=ho(K,j);else{Pe(P,D,Kt(404,{pathname:j}),{flushSync:re});return}}ke.set(P,oe);let Ie=In,Ae=(await Yr("loader",A,ue,[z],K,P))[z.route.id];if(ke.get(P)===oe&&ke.delete(P),!ue.signal.aborted){if(ce.has(P)){un(P,yr(void 0));return}if(ci(Ae))if(It>Ie){un(P,yr(void 0));return}else{te.add(P),await xn(ue,Ae,!1,{preventScrollReset:J});return}if(zt(Ae)){Pe(P,D,Ae.error);return}un(P,yr(Ae.data))}}async function xn(P,D,j,{submission:z,fetcherSubmission:K,preventScrollReset:Z,replace:re}={}){D.response.headers.has("X-Remix-Revalidate")&&(R=!0);let J=D.response.headers.get("Location");pe(J,"Expected a Location header on the redirect Response"),J=qm(J,new URL(P.url),l);let ee=Go(A.location,J,{_isRedirect:!0});if(n){let Ae=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Ae=!0;else if(nf.test(J)){const _e=t.history.createURL(J);Ae=_e.origin!==e.location.origin||En(_e.pathname,l)==null}if(Ae){re?e.location.replace(J):e.location.assign(J);return}}g=null;let W=re===!0||D.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:oe,formAction:ue,formEncType:Ie}=A.navigation;!z&&!K&&oe&&ue&&Ie&&(z=Jm(A.navigation));let Ge=z||K;if(zT.has(D.response.status)&&Ge&&mn(Ge.formMethod))await ln(W,ee,{submission:{...Ge,formAction:J},preventScrollReset:Z||S,enableViewTransition:j?T:void 0});else{let Ae=Vc(ee,z);await ln(W,ee,{overrideNavigation:Ae,fetcherSubmission:K,preventScrollReset:Z||S,enableViewTransition:j?T:void 0})}}async function Yr(P,D,j,z,K,Z){let re,J={};try{re=await YT(u,P,D,j,z,K,Z,i,r)}catch(ee){return z.forEach(W=>{J[W.route.id]={type:"error",error:ee}}),J}for(let[ee,W]of Object.entries(re))if(nS(W)){let oe=W.result;J[ee]={type:"redirect",response:ZT(oe,j,ee,K,l)}}else J[ee]=await JT(W);return J}async function Di(P,D,j,z,K){let Z=Yr("loader",P,K,j,D,null),re=Promise.all(z.map(async W=>{if(W.matches&&W.match&&W.controller){let ue=(await Yr("loader",P,Bi(t.history,W.path,W.controller.signal),[W.match],W.matches,W.key))[W.match.route.id];return{[W.key]:ue}}else return Promise.resolve({[W.key]:{type:"error",error:Kt(404,{pathname:W.path})}})})),J=await Z,ee=(await re).reduce((W,oe)=>Object.assign(W,oe),{});return{loaderResults:J,fetcherResults:ee}}function Xr(){R=!0,ie.forEach((P,D)=>{ke.has(D)&&st.add(D),cn(D)})}function un(P,D,j={}){A.fetchers.set(P,D),at({fetchers:new Map(A.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function Pe(P,D,j,z={}){let K=oi(A.matches,D);ur(P),at({errors:{[K.route.id]:j},fetchers:new Map(A.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function tt(P){return Te.set(P,(Te.get(P)||0)+1),ce.has(P)&&ce.delete(P),A.fetchers.get(P)||BT}function ur(P){let D=A.fetchers.get(P);ke.has(P)&&!(D&&D.state==="loading"&&G.has(P))&&cn(P),ie.delete(P),G.delete(P),te.delete(P),ce.delete(P),st.delete(P),A.fetchers.delete(P)}function va(P){let D=(Te.get(P)||0)-1;D<=0?(Te.delete(P),ce.add(P)):Te.set(P,D),at({fetchers:new Map(A.fetchers)})}function cn(P){let D=ke.get(P);D&&(D.abort(),ke.delete(P))}function _a(P){for(let D of P){let j=tt(D),z=yr(j.data);A.fetchers.set(D,z)}}function cr(){let P=[],D=!1;for(let j of te){let z=A.fetchers.get(j);pe(z,`Expected fetcher: ${j}`),z.state==="loading"&&(te.delete(j),P.push(j),D=!0)}return _a(P),D}function Us(P){let D=[];for(let[j,z]of G)if(z<P){let K=A.fetchers.get(j);pe(K,`Expected fetcher: ${j}`),K.state==="loading"&&(cn(j),G.delete(j),D.push(j))}return _a(D),D.length>0}function wa(P,D){let j=A.blockers.get(P)||io;return Se.get(P)!==D&&Se.set(P,D),j}function Vi(P){A.blockers.delete(P),Se.delete(P)}function Li(P,D){let j=A.blockers.get(P)||io;pe(j.state==="unblocked"&&D.state==="blocked"||j.state==="blocked"&&D.state==="blocked"||j.state==="blocked"&&D.state==="proceeding"||j.state==="blocked"&&D.state==="unblocked"||j.state==="proceeding"&&D.state==="unblocked",`Invalid blocker state transition: ${j.state} -> ${D.state}`);let z=new Map(A.blockers);z.set(P,D),at({blockers:z})}function Ea({currentLocation:P,nextLocation:D,historyAction:j}){if(Se.size===0)return;Se.size>1&&rn(!1,"A router only supports one blocker at a time");let z=Array.from(Se.entries()),[K,Z]=z[z.length-1],re=A.blockers.get(K);if(!(re&&re.state==="proceeding")&&Z({currentLocation:P,nextLocation:D,historyAction:j}))return K}function Jr(P){let D=Kt(404,{pathname:P}),j=o||s,{matches:z,route:K}=Ym(j);return{notFoundMatches:z,route:K,error:D}}function Ta(P,D,j){if(v=P,k=D,C=j||null,!b&&A.navigation===Dc){b=!0;let z=bi(A.location,A.matches);z!=null&&at({restoreScrollPosition:z})}return()=>{v=null,k=null,C=null}}function zs(P,D){return C&&C(P,D.map(z=>_T(z,A.loaderData)))||P.key}function Zr(P,D){if(v&&k){let j=zs(P,D);v[j]=k()}}function bi(P,D){if(v){let j=zs(P,D),z=v[j];if(typeof z=="number")return z}return null}function hr(P,D,j){if(c)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:vl(D,j,l,!0)}}else return{active:!0,matches:vl(D,j,l,!0)||[]};return{active:!1,matches:null}}async function Gt(P,D,j){if(!c)return{type:"success",matches:P};let z=P;for(;;){let K=o==null,Z=o||s,re=i;try{await c({path:D,matches:z,patch:(W,oe)=>{j.aborted||Hm(W,oe,Z,re,r)}})}catch(W){return{type:"error",error:W,partialMatches:z}}finally{K&&!j.aborted&&(s=[...s])}if(j.aborted)return{type:"aborted"};let J=Tr(Z,D,l);if(J)return{type:"success",matches:J};let ee=vl(Z,D,l,!0);if(!ee||z.length===ee.length&&z.every((W,oe)=>W.route.id===ee[oe].route.id))return{type:"success",matches:null};z=ee}}function Sa(P){i={},o=Xl(P,r,void 0,i)}function Mi(P,D){let j=o==null;Hm(P,D,o||s,i,r),j&&(s=[...s],at({}))}return O={get basename(){return l},get future(){return f},get state(){return A},get routes(){return s},get window(){return e},initialize:sn,subscribe:Ku,enableScrollRestoration:Ta,navigate:Kr,fetch:Xu,revalidate:bs,createHref:P=>t.history.createHref(P),encodeLocation:P=>t.history.encodeLocation(P),getFetcher:tt,deleteFetcher:va,dispose:on,getBlocker:wa,deleteBlocker:Vi,patchRoutes:Mi,_internalFetchControllers:ke,_internalSetRoutes:Sa},O}function qT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function bh(t,e,n,r,i,s){let o,l;if(i){o=[];for(let c of e)if(o.push(c),c.route.id===i){l=c;break}}else o=e,l=e[e.length-1];let u=tf(r||".",ef(o),En(t.pathname,n)||t.pathname,s==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&l){let c=rf(u.search);if(l.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&c){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let m=f.toString();u.search=m?`?${m}`:""}}return n!=="/"&&(u.pathname=u.pathname==="/"?n:kn([n,u.pathname])),Fr(u)}function Um(t,e,n){if(!n||!qT(n))return{path:e};if(n.formMethod&&!rS(n.formMethod))return{path:e,error:Kt(405,{method:n.formMethod})};let r=()=>({path:e,error:Kt(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=S_(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!mn(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,[v,C])=>`${m}${v}=${C}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!mn(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}pe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=Oh(n.formData),u=n.formData;else if(n.body instanceof FormData)l=Oh(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=Wm(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=Wm(l)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(mn(c.formMethod))return{path:e,submission:c};let f=Qr(e);return t&&f.search&&rf(f.search)&&l.append("index",""),f.search=`?${l}`,{path:Fr(f),submission:c}}function zm(t,e,n=!1){let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Bm(t,e,n,r,i,s,o,l,u,c,f,p,m,v){let C=v?zt(v[1])?v[1].error:v[1].data:void 0,k=t.createURL(e.location),b=t.createURL(i),E=n;s&&e.errors?E=zm(n,Object.keys(e.errors)[0],!0):v&&zt(v[1])&&(E=zm(n,v[0]));let w=v?v[1].statusCode:void 0,I=w&&w>=400,O=E.filter((U,S)=>{let{route:g}=U;if(g.lazy)return!0;if(g.loader==null)return!1;if(s)return Mh(g,e.loaderData,e.errors);if(WT(e.loaderData,e.matches[S],U))return!0;let T=e.matches[S],x=U;return $m(U,{currentUrl:k,currentParams:T.params,nextUrl:b,nextParams:x.params,...r,actionResult:C,actionStatus:w,defaultShouldRevalidate:I?!1:o||k.pathname+k.search===b.pathname+b.search||k.search!==b.search||GT(T,x)})}),A=[];return c.forEach((U,S)=>{if(s||!n.some(V=>V.route.id===U.routeId)||u.has(S))return;let g=Tr(p,U.path,m);if(!g){A.push({key:S,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let T=e.fetchers.get(S),x=ho(g,U.path),N=!1;f.has(S)?N=!1:l.has(S)?(l.delete(S),N=!0):T&&T.state!=="idle"&&T.data===void 0?N=o:N=$m(x,{currentUrl:k,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params,...r,actionResult:C,actionStatus:w,defaultShouldRevalidate:I?!1:o}),N&&A.push({key:S,routeId:U.routeId,path:U.path,matches:g,match:x,controller:new AbortController})}),[O,A]}function Mh(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function WT(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function GT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function $m(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Hm(t,e,n,r,i){let s;if(t){let u=r[t];pe(u,`No route found to patch children into: routeId = ${t}`),u.children||(u.children=[]),s=u.children}else s=n;let o=e.filter(u=>!s.some(c=>T_(u,c))),l=Xl(o,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...l)}function T_(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>T_(n,s))}):!1}async function QT(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];pe(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";rn(!u,`Route "${i.id}" has a static property "${o}" defined but its lazy function is also returning a value for this property. The lazy route property "${o}" will be ignored.`),!u&&!yT.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{...e(i),lazy:void 0})}async function KT({matches:t}){let e=t.filter(r=>r.shouldLoad);return(await Promise.all(e.map(r=>r.resolve()))).reduce((r,i,s)=>Object.assign(r,{[e[s].route.id]:i}),{})}async function YT(t,e,n,r,i,s,o,l,u,c){let f=s.map(v=>v.route.lazy?QT(v.route,u,l):void 0),p=s.map((v,C)=>{let k=f[C],b=i.some(w=>w.route.id===v.route.id);return{...v,shouldLoad:b,resolve:async w=>(w&&r.method==="GET"&&(v.route.lazy||v.route.loader)&&(b=!0),b?XT(e,r,v,k,w,c):Promise.resolve({type:"data",result:void 0}))}}),m=await t({matches:p,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(f)}catch{}return m}async function XT(t,e,n,r,i,s){let o,l,u=c=>{let f,p=new Promise((C,k)=>f=k);l=()=>f(),e.signal.addEventListener("abort",l);let m=C=>typeof c!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):c({request:e,params:n.params,context:s},...C!==void 0?[C]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(k=>m(k)):m())}}catch(C){return{type:"error",result:C}}})();return Promise.race([v,p])};try{let c=n.route[t];if(r)if(c){let f,[p]=await Promise.all([u(c).catch(m=>{f=m}),r]);if(f!==void 0)throw f;o=p}else if(await r,c=n.route[t],c)o=await u(c);else if(t==="action"){let f=new URL(e.url),p=f.pathname+f.search;throw Kt(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:"data",result:void 0};else if(c)o=await u(c);else{let f=new URL(e.url),p=f.pathname+f.search;throw Kt(404,{pathname:p})}}catch(c){return{type:"error",result:c}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function JT(t){var r,i,s,o;let{result:e,type:n}=t;if(I_(e)){let l;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?l=null:l=await e.json():l=await e.text()}catch(u){return{type:"error",error:u}}return n==="error"?{type:"error",error:new Zl(e.status,e.statusText,l),statusCode:e.status,headers:e.headers}:{type:"data",data:l,statusCode:e.status,headers:e.headers}}if(n==="error"){if(Xm(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status};e=new Zl(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Nu(e)?e.status:void 0}}return Xm(e)?{type:"data",data:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function ZT(t,e,n,r,i){let s=t.headers.get("Location");if(pe(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!nf.test(s)){let o=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=bh(new URL(e.url),o,i,s),t.headers.set("Location",s)}return t}function qm(t,e,n){if(nf.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=En(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Bi(t,e,n,r){let i=t.createURL(S_(e)).toString(),s={signal:n};if(r&&mn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Oh(r.formData):s.body=r.formData}return new Request(i,s)}function Oh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Wm(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function eS(t,e,n,r=!1,i=!1){let s={},o=null,l,u=!1,c={},f=n&&zt(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let m=p.route.id,v=e[m];if(pe(!ci(v),"Cannot handle redirect results in processLoaderData"),zt(v)){let C=v.error;if(f!==void 0&&(C=f,f=void 0),o=o||{},i)o[m]=C;else{let k=oi(t,m);o[k.route.id]==null&&(o[k.route.id]=C)}r||(s[m]=E_),u||(u=!0,l=Nu(v.error)?v.error.status:500),v.headers&&(c[m]=v.headers)}else s[m]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(c[m]=v.headers)}),f!==void 0&&n&&(o={[n[0]]:f},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:c}}function Gm(t,e,n,r,i,s){let{loaderData:o,errors:l}=eS(e,n,r);return i.forEach(u=>{let{key:c,match:f,controller:p}=u,m=s[c];if(pe(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(zt(m)){let v=oi(t.matches,f==null?void 0:f.route.id);l&&l[v.route.id]||(l={...l,[v.route.id]:m.error}),t.fetchers.delete(c)}else if(ci(m))pe(!1,"Unhandled fetcher revalidation redirect");else{let v=yr(m.data);t.fetchers.set(c,v)}}),{loaderData:o,errors:l}}function Qm(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==E_).reduce((s,[o,l])=>(s[o]=l,s),{});for(let s of n){let o=s.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Km(t){return t?zt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function oi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ym(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kt(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&e&&n?l=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l=`Route "${n}" does not match URL "${e}"`):t===404?(o="Not Found",l=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",r&&e&&n?l=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new Zl(t||500,o,new Error(l),!0)}function Za(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ci(i))return{key:r,result:i}}}function S_(t){let e=typeof t=="string"?Qr(t):t;return Fr({...e,hash:""})}function tS(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function nS(t){return I_(t.result)&&UT.has(t.result.status)}function zt(t){return t.type==="error"}function ci(t){return(t&&t.type)==="redirect"}function Xm(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function I_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function rS(t){return FT.has(t.toUpperCase())}function mn(t){return OT.has(t.toUpperCase())}function rf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ho(t,e){let n=typeof e=="string"?Qr(e).search:e.search;if(t[t.length-1].route.index&&rf(n||""))return t[t.length-1];let r=v_(t);return r[r.length-1]}function Jm(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Vc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iS(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function so(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sS(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function yr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function oS(t,e){try{let n=t.sessionStorage.getItem(w_);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function aS(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(w_,JSON.stringify(n))}catch(r){rn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function lS(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var xi=M.createContext(null);xi.displayName="DataRouter";var aa=M.createContext(null);aa.displayName="DataRouterState";var sf=M.createContext({isTransitioning:!1});sf.displayName="ViewTransition";var x_=M.createContext(new Map);x_.displayName="Fetchers";var uS=M.createContext(null);uS.displayName="Await";var On=M.createContext(null);On.displayName="Navigation";var ku=M.createContext(null);ku.displayName="Location";var ar=M.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var of=M.createContext(null);of.displayName="RouteError";function cS(t,{relative:e}={}){pe(la(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(On),{hash:i,pathname:s,search:o}=ua(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:kn([n,s])),r.createHref({pathname:l,search:o,hash:i})}function la(){return M.useContext(ku)!=null}function jn(){return pe(la(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(ku).location}var R_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A_(t){M.useContext(On).static||M.useLayoutEffect(t)}function Sn(){let{isDataRoute:t}=M.useContext(ar);return t?SS():hS()}function hS(){pe(la(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(xi),{basename:e,navigator:n}=M.useContext(On),{matches:r}=M.useContext(ar),{pathname:i}=jn(),s=JSON.stringify(ef(r)),o=M.useRef(!1);return A_(()=>{o.current=!0}),M.useCallback((u,c={})=>{if(rn(o.current,R_),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=tf(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:kn([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,i,t])}M.createContext(null);function ua(t,{relative:e}={}){let{matches:n}=M.useContext(ar),{pathname:r}=jn(),i=JSON.stringify(ef(n));return M.useMemo(()=>tf(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function dS(t,e,n,r){pe(la(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=M.useContext(On),{matches:s}=M.useContext(ar),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=jn(),f;f=c;let p=f.pathname||"/",m=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=Tr(t,{pathname:m});return yS(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:kn([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:kn([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r)}function fS(){let t=TS(),e=Nu(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}var pS=M.createElement(fS,null),mS=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?M.createElement(ar.Provider,{value:this.props.routeContext},M.createElement(of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gS({routeContext:t,match:e,children:n}){let r=M.useContext(xi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ar.Provider,{value:t},n)}function yS(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let u=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);pe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:p}=n,m=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,f)=>{let p,m=!1,v=null,C=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||pS,o&&(l<0&&f===0?(IS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,C=null):l===f&&(m=!0,C=c.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,f+1)),b=()=>{let E;return p?E=v:m?E=C:c.route.Component?E=M.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,M.createElement(gS,{match:c,routeContext:{outlet:u,matches:k,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?M.createElement(mS,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:b(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):b()},null)}function af(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vS(t){let e=M.useContext(xi);return pe(e,af(t)),e}function _S(t){let e=M.useContext(aa);return pe(e,af(t)),e}function wS(t){let e=M.useContext(ar);return pe(e,af(t)),e}function lf(t){let e=wS(t),n=e.matches[e.matches.length-1];return pe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ES(){return lf("useRouteId")}function TS(){var r;let t=M.useContext(of),e=_S("useRouteError"),n=lf("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function SS(){let{router:t}=vS("useNavigate"),e=lf("useNavigate"),n=M.useRef(!1);return A_(()=>{n.current=!0}),M.useCallback(async(i,s={})=>{rn(n.current,R_),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Zm={};function IS(t,e,n){Zm[t]||(Zm[t]=!0,rn(!1,n))}var eg={};function tg(t,e){!t&&!eg[e]&&(eg[e]=!0,console.warn(e))}function xS(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:M.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}var RS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function AS({router:t,flushSync:e}){let[n,r]=M.useState(t.state),[i,s]=M.useState(),[o,l]=M.useState({isTransitioning:!1}),[u,c]=M.useState(),[f,p]=M.useState(),[m,v]=M.useState(),C=M.useRef(new Map),k=M.useCallback((I,{deletedFetchers:O,flushSync:A,viewTransitionOpts:U})=>{O.forEach(g=>C.current.delete(g)),I.fetchers.forEach((g,T)=>{g.data!==void 0&&C.current.set(T,g.data)}),tg(A===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let S=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(tg(U==null||S,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!S){e&&A?e(()=>r(I)):M.startTransition(()=>r(I));return}if(e&&A){e(()=>{f&&(u&&u.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let g=t.window.document.startViewTransition(()=>{e(()=>r(I))});g.finished.finally(()=>{e(()=>{c(void 0),p(void 0),s(void 0),l({isTransitioning:!1})})}),e(()=>p(g));return}f?(u&&u.resolve(),f.skipTransition(),v({state:I,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(s(I),l({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[t.window,e,f,u]);M.useLayoutEffect(()=>t.subscribe(k),[t,k]),M.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new RS)},[o]),M.useEffect(()=>{if(u&&i&&t.window){let I=i,O=u.promise,A=t.window.document.startViewTransition(async()=>{M.startTransition(()=>r(I)),await O});A.finished.finally(()=>{c(void 0),p(void 0),s(void 0),l({isTransitioning:!1})}),p(A)}},[i,u,t.window]),M.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,f,n.location,i]),M.useEffect(()=>{!o.isTransitioning&&m&&(s(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[o.isTransitioning,m]);let b=M.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:I=>t.navigate(I),push:(I,O,A)=>t.navigate(I,{state:O,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(I,O,A)=>t.navigate(I,{replace:!0,state:O,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[t]),E=t.basename||"/",w=M.useMemo(()=>({router:t,navigator:b,static:!1,basename:E}),[t,b,E]);return M.createElement(M.Fragment,null,M.createElement(xi.Provider,{value:w},M.createElement(aa.Provider,{value:n},M.createElement(x_.Provider,{value:C.current},M.createElement(sf.Provider,{value:o},M.createElement(NS,{basename:E,location:n.location,navigationType:n.historyAction,navigator:b},M.createElement(CS,{routes:t.routes,future:t.future,state:n})))))),null)}var CS=M.memo(PS);function PS({routes:t,future:e,state:n}){return dS(t,void 0,n,e)}function NS({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){pe(!la(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=M.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Qr(n));let{pathname:u="/",search:c="",hash:f="",state:p=null,key:m="default"}=n,v=M.useMemo(()=>{let C=En(u,o);return C==null?null:{location:{pathname:C,search:c,hash:f,state:p,key:m},navigationType:r}},[o,u,c,f,p,m,r]);return rn(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:M.createElement(On.Provider,{value:l},M.createElement(ku.Provider,{children:e,value:v}))}var _l="get",wl="application/x-www-form-urlencoded";function Du(t){return t!=null&&typeof t.tagName=="string"}function kS(t){return Du(t)&&t.tagName.toLowerCase()==="button"}function DS(t){return Du(t)&&t.tagName.toLowerCase()==="form"}function VS(t){return Du(t)&&t.tagName.toLowerCase()==="input"}function LS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bS(t,e){return t.button===0&&(!e||e==="_self")&&!LS(t)}var el=null;function MS(){if(el===null)try{new FormData(document.createElement("form"),0),el=!1}catch{el=!0}return el}var OS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lc(t){return t!=null&&!OS.has(t)?(rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wl}"`),null):t}function jS(t,e){let n,r,i,s,o;if(DS(t)){let l=t.getAttribute("action");r=l?En(l,e):null,n=t.getAttribute("method")||_l,i=Lc(t.getAttribute("enctype"))||wl,s=new FormData(t)}else if(kS(t)||VS(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?En(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||_l,i=Lc(t.getAttribute("formenctype"))||Lc(l.getAttribute("enctype"))||wl,s=new FormData(l,t),!MS()){let{name:c,type:f,value:p}=t;if(f==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,p)}}else{if(Du(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_l,r=null,i=wl,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function uf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function FS(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function US(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zS(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await FS(s,n);return o.links?o.links():[]}return[]}));return qS(r.flat(1).filter(US).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ng(t,e,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>o(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var p;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function BS(t,e){return $S(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function $S(t){return[...new Set(t)]}function HS(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function qS(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(HS(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function WS(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function GS(){let t=M.useContext(xi);return uf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QS(){let t=M.useContext(aa);return uf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cf=M.createContext(void 0);cf.displayName="FrameworkContext";function C_(){let t=M.useContext(cf);return uf(t,"You must render this element inside a <HydratedRouter> element"),t}function KS(t,e){let n=M.useContext(cf),[r,i]=M.useState(!1),[s,o]=M.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=e,m=M.useRef(null);M.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let k=E=>{E.forEach(w=>{o(w.isIntersecting)})},b=new IntersectionObserver(k,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[t]),M.useEffect(()=>{if(r){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[r]);let v=()=>{i(!0)},C=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:oo(l,v),onBlur:oo(u,C),onMouseEnter:oo(c,v),onMouseLeave:oo(f,C),onTouchStart:oo(p,v)}]:[!1,m,{}]}function oo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function YS({page:t,...e}){let{router:n}=GS(),r=M.useMemo(()=>Tr(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(JS,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function XS(t){let{manifest:e,routeModules:n}=C_(),[r,i]=M.useState([]);return M.useEffect(()=>{let s=!1;return zS(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function JS({page:t,matches:e,...n}){let r=jn(),{manifest:i,routeModules:s}=C_(),{loaderData:o,matches:l}=QS(),u=M.useMemo(()=>ng(t,e,l,i,r,"data"),[t,e,l,i,r]),c=M.useMemo(()=>ng(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,C=!1;if(e.forEach(b=>{var w;let E=i.routes[b.route.id];!E||!E.hasLoader||(!u.some(I=>I.route.id===b.route.id)&&b.route.id in o&&((w=s[b.route.id])!=null&&w.shouldRevalidate)||E.hasClientLoader?C=!0:v.add(b.route.id))}),v.size===0)return[];let k=WS(t);return C&&v.size>0&&k.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[k.pathname+k.search]},[o,r,i,u,e,t,s]),p=M.useMemo(()=>BS(c,i),[c,i]),m=XS(c);return M.createElement(M.Fragment,null,f.map(v=>M.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>M.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:C})=>M.createElement("link",{key:v,...C})))}function ZS(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var P_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P_&&(window.__reactRouterVersion="7.0.1")}catch{}function eI(t,e){return HT({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:pT({window:e==null?void 0:e.window}),hydrationData:tI(),routes:t,mapRouteProperties:xS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function tI(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:nI(t.errors)}),t}function nI(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Zl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var N_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hf=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:f,viewTransition:p,...m},v){let{basename:C}=M.useContext(On),k=typeof c=="string"&&N_.test(c),b,E=!1;if(typeof c=="string"&&k&&(b=c,P_))try{let T=new URL(window.location.href),x=c.startsWith("//")?new URL(T.protocol+c):new URL(c),N=En(x.pathname,C);x.origin===T.origin&&N!=null?c=N+x.search+x.hash:E=!0}catch{rn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=cS(c,{relative:i}),[I,O,A]=KS(r,m),U=oI(c,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function S(T){e&&e(T),T.defaultPrevented||U(T)}let g=M.createElement("a",{...m,...A,href:b||w,onClick:E||s?e:S,ref:ZS(v,O),target:u,"data-discover":!k&&n==="render"?"true":void 0});return I&&!k?M.createElement(M.Fragment,null,g,M.createElement(YS,{page:w})):g});hf.displayName="Link";var rI=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:u,...c},f){let p=ua(o,{relative:c.relative}),m=jn(),v=M.useContext(aa),{navigator:C,basename:k}=M.useContext(On),b=v!=null&&hI(p)&&l===!0,E=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,w=m.pathname,I=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(w=w.toLowerCase(),I=I?I.toLowerCase():null,E=E.toLowerCase()),I&&k&&(I=En(I,k)||I);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let A=w===E||!i&&w.startsWith(E)&&w.charAt(O)==="/",U=I!=null&&(I===E||!i&&I.startsWith(E)&&I.charAt(E.length)==="/"),S={isActive:A,isPending:U,isTransitioning:b},g=A?e:void 0,T;typeof r=="function"?T=r(S):T=[r,A?"active":null,U?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let x=typeof s=="function"?s(S):s;return M.createElement(hf,{...c,"aria-current":g,className:T,ref:f,style:x,to:o,viewTransition:l},typeof u=="function"?u(S):u)});rI.displayName="NavLink";var iI=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=_l,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:p,...m},v)=>{let C=uI(),k=cI(l,{relative:c}),b=o.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&N_.test(l),w=I=>{if(u&&u(I),I.defaultPrevented)return;I.preventDefault();let O=I.nativeEvent.submitter,A=(O==null?void 0:O.getAttribute("formmethod"))||o;C(O||I.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:p})};return M.createElement("form",{ref:v,method:b,action:k,onSubmit:r?u:w,...m,"data-discover":!E&&t==="render"?"true":void 0})});iI.displayName="Form";function sI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k_(t){let e=M.useContext(xi);return pe(e,sI(t)),e}function oI(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=Sn(),u=jn(),c=ua(t,{relative:s});return M.useCallback(f=>{if(bS(f,e)){f.preventDefault();let p=n!==void 0?n:Fr(u)===Fr(c);l(t,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,c,n,r,e,t,i,s,o])}var aI=0,lI=()=>`__${String(++aI)}__`;function uI(){let{router:t}=k_("useSubmit"),{basename:e}=M.useContext(On),n=ES();return M.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:u,body:c}=jS(r,e);if(i.navigate===!1){let f=i.fetcherKey||lI();await t.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function cI(t,{relative:e}={}){let{basename:n}=M.useContext(On),r=M.useContext(ar);pe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ua(t||".",{relative:e})},o=jn();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:kn([n,s.pathname])),Fr(s)}function hI(t,e={}){let n=M.useContext(sf);pe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=k_("useViewTransitionState"),i=ua(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=En(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=En(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jl(i.pathname,o)!=null||Jl(i.pathname,s)!=null}new TextEncoder;/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dI(t){return M.createElement(AS,{flushSync:p_.flushSync,...t})}var rg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},V_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,v=c&63;u||(v=64,o||(m=64)),r.push(n[f],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new pI;const m=s<<2|l>>4;if(r.push(m),c!==64){const v=l<<4&240|c>>2;if(r.push(v),p!==64){const C=c<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mI=function(t){const e=D_(t);return V_.encodeByteArray(e,!0)},eu=function(t){return mI(t).replace(/\./g,"")},gI=function(t){try{return V_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=()=>yI().__FIREBASE_DEFAULTS__,_I=()=>{if(typeof process>"u"||typeof rg>"u")return;const t=rg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gI(t[1]);return e&&JSON.parse(e)},df=()=>{try{return vI()||_I()||wI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EI=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TI=t=>{const e=EI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L_=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eu(JSON.stringify(n)),eu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RI(){var t;const e=(t=df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AI(){return!RI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CI(){try{return typeof indexedDB=="object"}catch{return!1}}function PI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="FirebaseError";class Ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NI,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b_.prototype.create)}}class b_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kI(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ns(i,l,r)}}function kI(t,e){return t.replace(DI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DI=/\{\$([^}]+)}/g;function jh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ig(s)&&ig(o)){if(!jh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ig(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){return t&&t._delegate?t._delegate:t}class Qo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bI(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LI(t){return t===si?void 0:t}function bI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const OI={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},jI=ge.INFO,FI={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},UI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M_{constructor(e){this.name=e,this._logLevel=jI,this._logHandler=UI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const zI=(t,e)=>e.some(n=>t instanceof n);let sg,og;function BI(){return sg||(sg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return og||(og=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O_=new WeakMap,Fh=new WeakMap,j_=new WeakMap,bc=new WeakMap,ff=new WeakMap;function HI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Lr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&O_.set(n,t)}).catch(()=>{}),ff.set(e,t),e}function qI(t){if(Fh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fh.set(t,e)}let Uh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WI(t){Uh=t(Uh)}function GI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mc(this),e,...n);return j_.set(r,e.sort?e.sort():[e]),Lr(r)}:$I().includes(t)?function(...e){return t.apply(Mc(this),e),Lr(O_.get(this))}:function(...e){return Lr(t.apply(Mc(this),e))}}function QI(t){return typeof t=="function"?GI(t):(t instanceof IDBTransaction&&qI(t),zI(t,BI())?new Proxy(t,Uh):t)}function Lr(t){if(t instanceof IDBRequest)return HI(t);if(bc.has(t))return bc.get(t);const e=QI(t);return e!==t&&(bc.set(t,e),ff.set(e,t)),e}const Mc=t=>ff.get(t);function KI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Lr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Lr(o.result),u.oldVersion,u.newVersion,Lr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const YI=["get","getKey","getAll","getAllKeys","count"],XI=["put","add","delete","clear"],Oc=new Map;function ag(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Oc.get(e))return Oc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YI.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Oc.set(e,s),s}WI(t=>({...t,get:(e,n,r)=>ag(e,n)||t.get(e,n,r),has:(e,n)=>!!ag(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zh="@firebase/app",lg="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new M_("@firebase/app"),ex="@firebase/app-compat",tx="@firebase/analytics-compat",nx="@firebase/analytics",rx="@firebase/app-check-compat",ix="@firebase/app-check",sx="@firebase/auth",ox="@firebase/auth-compat",ax="@firebase/database",lx="@firebase/data-connect",ux="@firebase/database-compat",cx="@firebase/functions",hx="@firebase/functions-compat",dx="@firebase/installations",fx="@firebase/installations-compat",px="@firebase/messaging",mx="@firebase/messaging-compat",gx="@firebase/performance",yx="@firebase/performance-compat",vx="@firebase/remote-config",_x="@firebase/remote-config-compat",wx="@firebase/storage",Ex="@firebase/storage-compat",Tx="@firebase/firestore",Sx="@firebase/vertexai",Ix="@firebase/firestore-compat",xx="firebase",Rx="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="[DEFAULT]",Ax={[zh]:"fire-core",[ex]:"fire-core-compat",[nx]:"fire-analytics",[tx]:"fire-analytics-compat",[ix]:"fire-app-check",[rx]:"fire-app-check-compat",[sx]:"fire-auth",[ox]:"fire-auth-compat",[ax]:"fire-rtdb",[lx]:"fire-data-connect",[ux]:"fire-rtdb-compat",[cx]:"fire-fn",[hx]:"fire-fn-compat",[dx]:"fire-iid",[fx]:"fire-iid-compat",[px]:"fire-fcm",[mx]:"fire-fcm-compat",[gx]:"fire-perf",[yx]:"fire-perf-compat",[vx]:"fire-rc",[_x]:"fire-rc-compat",[wx]:"fire-gcs",[Ex]:"fire-gcs-compat",[Tx]:"fire-fst",[Ix]:"fire-fst-compat",[Sx]:"fire-vertex","fire-js":"fire-js",[xx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new Map,Cx=new Map,$h=new Map;function ug(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nu(t){const e=t.name;if($h.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;$h.set(e,t);for(const n of tu.values())ug(n,t);for(const n of Cx.values())ug(n,t);return!0}function Px(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new b_("app","Firebase",Nx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=Rx;function F_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=L_()),!n)throw br.create("no-options");const s=tu.get(i);if(s){if(jh(n,s.options)&&jh(r,s.config))return s;throw br.create("duplicate-app",{appName:i})}const o=new MI(i);for(const u of $h.values())o.addComponent(u);const l=new kx(n,r,o);return tu.set(i,l),l}function Vx(t=Bh){const e=tu.get(t);if(!e&&t===Bh&&L_())return F_();if(!e)throw br.create("no-app",{appName:t});return e}function hs(t,e,n){var r;let i=(r=Ax[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(l.join(" "));return}nu(new Qo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firebase-heartbeat-database",bx=1,Ko="firebase-heartbeat-store";let jc=null;function U_(){return jc||(jc=KI(Lx,bx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ko)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),jc}async function Mx(t){try{const n=(await U_()).transaction(Ko),r=await n.objectStore(Ko).get(z_(t));return await n.done,r}catch(e){if(e instanceof Ns)nr.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function cg(t,e){try{const r=(await U_()).transaction(Ko,"readwrite");await r.objectStore(Ko).put(e,z_(t)),await r.done}catch(n){if(n instanceof Ns)nr.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(r.message)}}}function z_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=1024,jx=30*24*60*60*1e3;class Fx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=jx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hg(),{heartbeatsToSend:r,unsentEntries:i}=Ux(this._heartbeatsCache.heartbeats),s=eu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return nr.warn(n),""}}}function hg(){return new Date().toISOString().substring(0,10)}function Ux(t,e=Ox){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CI()?PI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dg(t){return eu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){nu(new Qo("platform-logger",e=>new JI(e),"PRIVATE")),nu(new Qo("heartbeat",e=>new Fx(e),"PRIVATE")),hs(zh,lg,t),hs(zh,lg,"esm2017"),hs("fire-js","")}Bx("");var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pi,B_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,g){function T(){}T.prototype=g.prototype,S.D=g.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(x,N,V){for(var R=Array(arguments.length-2),st=2;st<arguments.length;st++)R[st-2]=arguments[st];return g.prototype[N].apply(x,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,g,T){T||(T=0);var x=Array(16);if(typeof g=="string")for(var N=0;16>N;++N)x[N]=g.charCodeAt(T++)|g.charCodeAt(T++)<<8|g.charCodeAt(T++)<<16|g.charCodeAt(T++)<<24;else for(N=0;16>N;++N)x[N]=g[T++]|g[T++]<<8|g[T++]<<16|g[T++]<<24;g=S.g[0],T=S.g[1],N=S.g[2];var V=S.g[3],R=g+(V^T&(N^V))+x[0]+3614090360&4294967295;g=T+(R<<7&4294967295|R>>>25),R=V+(N^g&(T^N))+x[1]+3905402710&4294967295,V=g+(R<<12&4294967295|R>>>20),R=N+(T^V&(g^T))+x[2]+606105819&4294967295,N=V+(R<<17&4294967295|R>>>15),R=T+(g^N&(V^g))+x[3]+3250441966&4294967295,T=N+(R<<22&4294967295|R>>>10),R=g+(V^T&(N^V))+x[4]+4118548399&4294967295,g=T+(R<<7&4294967295|R>>>25),R=V+(N^g&(T^N))+x[5]+1200080426&4294967295,V=g+(R<<12&4294967295|R>>>20),R=N+(T^V&(g^T))+x[6]+2821735955&4294967295,N=V+(R<<17&4294967295|R>>>15),R=T+(g^N&(V^g))+x[7]+4249261313&4294967295,T=N+(R<<22&4294967295|R>>>10),R=g+(V^T&(N^V))+x[8]+1770035416&4294967295,g=T+(R<<7&4294967295|R>>>25),R=V+(N^g&(T^N))+x[9]+2336552879&4294967295,V=g+(R<<12&4294967295|R>>>20),R=N+(T^V&(g^T))+x[10]+4294925233&4294967295,N=V+(R<<17&4294967295|R>>>15),R=T+(g^N&(V^g))+x[11]+2304563134&4294967295,T=N+(R<<22&4294967295|R>>>10),R=g+(V^T&(N^V))+x[12]+1804603682&4294967295,g=T+(R<<7&4294967295|R>>>25),R=V+(N^g&(T^N))+x[13]+4254626195&4294967295,V=g+(R<<12&4294967295|R>>>20),R=N+(T^V&(g^T))+x[14]+2792965006&4294967295,N=V+(R<<17&4294967295|R>>>15),R=T+(g^N&(V^g))+x[15]+1236535329&4294967295,T=N+(R<<22&4294967295|R>>>10),R=g+(N^V&(T^N))+x[1]+4129170786&4294967295,g=T+(R<<5&4294967295|R>>>27),R=V+(T^N&(g^T))+x[6]+3225465664&4294967295,V=g+(R<<9&4294967295|R>>>23),R=N+(g^T&(V^g))+x[11]+643717713&4294967295,N=V+(R<<14&4294967295|R>>>18),R=T+(V^g&(N^V))+x[0]+3921069994&4294967295,T=N+(R<<20&4294967295|R>>>12),R=g+(N^V&(T^N))+x[5]+3593408605&4294967295,g=T+(R<<5&4294967295|R>>>27),R=V+(T^N&(g^T))+x[10]+38016083&4294967295,V=g+(R<<9&4294967295|R>>>23),R=N+(g^T&(V^g))+x[15]+3634488961&4294967295,N=V+(R<<14&4294967295|R>>>18),R=T+(V^g&(N^V))+x[4]+3889429448&4294967295,T=N+(R<<20&4294967295|R>>>12),R=g+(N^V&(T^N))+x[9]+568446438&4294967295,g=T+(R<<5&4294967295|R>>>27),R=V+(T^N&(g^T))+x[14]+3275163606&4294967295,V=g+(R<<9&4294967295|R>>>23),R=N+(g^T&(V^g))+x[3]+4107603335&4294967295,N=V+(R<<14&4294967295|R>>>18),R=T+(V^g&(N^V))+x[8]+1163531501&4294967295,T=N+(R<<20&4294967295|R>>>12),R=g+(N^V&(T^N))+x[13]+2850285829&4294967295,g=T+(R<<5&4294967295|R>>>27),R=V+(T^N&(g^T))+x[2]+4243563512&4294967295,V=g+(R<<9&4294967295|R>>>23),R=N+(g^T&(V^g))+x[7]+1735328473&4294967295,N=V+(R<<14&4294967295|R>>>18),R=T+(V^g&(N^V))+x[12]+2368359562&4294967295,T=N+(R<<20&4294967295|R>>>12),R=g+(T^N^V)+x[5]+4294588738&4294967295,g=T+(R<<4&4294967295|R>>>28),R=V+(g^T^N)+x[8]+2272392833&4294967295,V=g+(R<<11&4294967295|R>>>21),R=N+(V^g^T)+x[11]+1839030562&4294967295,N=V+(R<<16&4294967295|R>>>16),R=T+(N^V^g)+x[14]+4259657740&4294967295,T=N+(R<<23&4294967295|R>>>9),R=g+(T^N^V)+x[1]+2763975236&4294967295,g=T+(R<<4&4294967295|R>>>28),R=V+(g^T^N)+x[4]+1272893353&4294967295,V=g+(R<<11&4294967295|R>>>21),R=N+(V^g^T)+x[7]+4139469664&4294967295,N=V+(R<<16&4294967295|R>>>16),R=T+(N^V^g)+x[10]+3200236656&4294967295,T=N+(R<<23&4294967295|R>>>9),R=g+(T^N^V)+x[13]+681279174&4294967295,g=T+(R<<4&4294967295|R>>>28),R=V+(g^T^N)+x[0]+3936430074&4294967295,V=g+(R<<11&4294967295|R>>>21),R=N+(V^g^T)+x[3]+3572445317&4294967295,N=V+(R<<16&4294967295|R>>>16),R=T+(N^V^g)+x[6]+76029189&4294967295,T=N+(R<<23&4294967295|R>>>9),R=g+(T^N^V)+x[9]+3654602809&4294967295,g=T+(R<<4&4294967295|R>>>28),R=V+(g^T^N)+x[12]+3873151461&4294967295,V=g+(R<<11&4294967295|R>>>21),R=N+(V^g^T)+x[15]+530742520&4294967295,N=V+(R<<16&4294967295|R>>>16),R=T+(N^V^g)+x[2]+3299628645&4294967295,T=N+(R<<23&4294967295|R>>>9),R=g+(N^(T|~V))+x[0]+4096336452&4294967295,g=T+(R<<6&4294967295|R>>>26),R=V+(T^(g|~N))+x[7]+1126891415&4294967295,V=g+(R<<10&4294967295|R>>>22),R=N+(g^(V|~T))+x[14]+2878612391&4294967295,N=V+(R<<15&4294967295|R>>>17),R=T+(V^(N|~g))+x[5]+4237533241&4294967295,T=N+(R<<21&4294967295|R>>>11),R=g+(N^(T|~V))+x[12]+1700485571&4294967295,g=T+(R<<6&4294967295|R>>>26),R=V+(T^(g|~N))+x[3]+2399980690&4294967295,V=g+(R<<10&4294967295|R>>>22),R=N+(g^(V|~T))+x[10]+4293915773&4294967295,N=V+(R<<15&4294967295|R>>>17),R=T+(V^(N|~g))+x[1]+2240044497&4294967295,T=N+(R<<21&4294967295|R>>>11),R=g+(N^(T|~V))+x[8]+1873313359&4294967295,g=T+(R<<6&4294967295|R>>>26),R=V+(T^(g|~N))+x[15]+4264355552&4294967295,V=g+(R<<10&4294967295|R>>>22),R=N+(g^(V|~T))+x[6]+2734768916&4294967295,N=V+(R<<15&4294967295|R>>>17),R=T+(V^(N|~g))+x[13]+1309151649&4294967295,T=N+(R<<21&4294967295|R>>>11),R=g+(N^(T|~V))+x[4]+4149444226&4294967295,g=T+(R<<6&4294967295|R>>>26),R=V+(T^(g|~N))+x[11]+3174756917&4294967295,V=g+(R<<10&4294967295|R>>>22),R=N+(g^(V|~T))+x[2]+718787259&4294967295,N=V+(R<<15&4294967295|R>>>17),R=T+(V^(N|~g))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+g&4294967295,S.g[1]=S.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+V&4294967295}r.prototype.u=function(S,g){g===void 0&&(g=S.length);for(var T=g-this.blockSize,x=this.B,N=this.h,V=0;V<g;){if(N==0)for(;V<=T;)i(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<g;)if(x[N++]=S.charCodeAt(V++),N==this.blockSize){i(this,x),N=0;break}}else for(;V<g;)if(x[N++]=S[V++],N==this.blockSize){i(this,x),N=0;break}}this.h=N,this.o+=g},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var g=1;g<S.length-8;++g)S[g]=0;var T=8*this.o;for(g=S.length-8;g<S.length;++g)S[g]=T&255,T/=256;for(this.u(S),S=Array(16),g=T=0;4>g;++g)for(var x=0;32>x;x+=8)S[T++]=this.g[g]>>>x&255;return S};function s(S,g){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=g(S)}function o(S,g){this.h=g;for(var T=[],x=!0,N=S.length-1;0<=N;N--){var V=S[N]|0;x&&V==g||(T[N]=V,x=!1)}this.g=T}var l={};function u(S){return-128<=S&&128>S?s(S,function(g){return new o([g|0],0>g?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return b(c(-S));for(var g=[],T=1,x=0;S>=T;x++)g[x]=S/T|0,T*=4294967296;return new o(g,0)}function f(S,g){if(S.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(S.charAt(0)=="-")return b(f(S.substring(1),g));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(g,8)),x=p,N=0;N<S.length;N+=8){var V=Math.min(8,S.length-N),R=parseInt(S.substring(N,N+V),g);8>V?(V=c(Math.pow(g,V)),x=x.j(V).add(c(R))):(x=x.j(T),x=x.add(c(R)))}return x}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-b(this).m();for(var S=0,g=1,T=0;T<this.g.length;T++){var x=this.i(T);S+=(0<=x?x:4294967296+x)*g,g*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(k(this))return"-"+b(this).toString(S);for(var g=c(Math.pow(S,6)),T=this,x="";;){var N=O(T,g).g;T=E(T,N.j(g));var V=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=N,C(T))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(var g=0;g<S.g.length;g++)if(S.g[g]!=0)return!1;return!0}function k(S){return S.h==-1}t.l=function(S){return S=E(this,S),k(S)?-1:C(S)?0:1};function b(S){for(var g=S.g.length,T=[],x=0;x<g;x++)T[x]=~S.g[x];return new o(T,~S.h).add(m)}t.abs=function(){return k(this)?b(this):this},t.add=function(S){for(var g=Math.max(this.g.length,S.g.length),T=[],x=0,N=0;N<=g;N++){var V=x+(this.i(N)&65535)+(S.i(N)&65535),R=(V>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);x=R>>>16,V&=65535,R&=65535,T[N]=R<<16|V}return new o(T,T[T.length-1]&-2147483648?-1:0)};function E(S,g){return S.add(b(g))}t.j=function(S){if(C(this)||C(S))return p;if(k(this))return k(S)?b(this).j(b(S)):b(b(this).j(S));if(k(S))return b(this.j(b(S)));if(0>this.l(v)&&0>S.l(v))return c(this.m()*S.m());for(var g=this.g.length+S.g.length,T=[],x=0;x<2*g;x++)T[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<S.g.length;N++){var V=this.i(x)>>>16,R=this.i(x)&65535,st=S.i(N)>>>16,ke=S.i(N)&65535;T[2*x+2*N]+=R*ke,w(T,2*x+2*N),T[2*x+2*N+1]+=V*ke,w(T,2*x+2*N+1),T[2*x+2*N+1]+=R*st,w(T,2*x+2*N+1),T[2*x+2*N+2]+=V*st,w(T,2*x+2*N+2)}for(x=0;x<g;x++)T[x]=T[2*x+1]<<16|T[2*x];for(x=g;x<2*g;x++)T[x]=0;return new o(T,0)};function w(S,g){for(;(S[g]&65535)!=S[g];)S[g+1]+=S[g]>>>16,S[g]&=65535,g++}function I(S,g){this.g=S,this.h=g}function O(S,g){if(C(g))throw Error("division by zero");if(C(S))return new I(p,p);if(k(S))return g=O(b(S),g),new I(b(g.g),b(g.h));if(k(g))return g=O(S,b(g)),new I(b(g.g),g.h);if(30<S.g.length){if(k(S)||k(g))throw Error("slowDivide_ only works with positive integers.");for(var T=m,x=g;0>=x.l(S);)T=A(T),x=A(x);var N=U(T,1),V=U(x,1);for(x=U(x,2),T=U(T,2);!C(x);){var R=V.add(x);0>=R.l(S)&&(N=N.add(T),V=R),x=U(x,1),T=U(T,1)}return g=E(S,N.j(g)),new I(N,g)}for(N=p;0<=S.l(g);){for(T=Math.max(1,Math.floor(S.m()/g.m())),x=Math.ceil(Math.log(T)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=c(T),R=V.j(g);k(R)||0<R.l(S);)T-=x,V=c(T),R=V.j(g);C(V)&&(V=m),N=N.add(V),S=E(S,R)}return new I(N,S)}t.A=function(S){return O(this,S).h},t.and=function(S){for(var g=Math.max(this.g.length,S.g.length),T=[],x=0;x<g;x++)T[x]=this.i(x)&S.i(x);return new o(T,this.h&S.h)},t.or=function(S){for(var g=Math.max(this.g.length,S.g.length),T=[],x=0;x<g;x++)T[x]=this.i(x)|S.i(x);return new o(T,this.h|S.h)},t.xor=function(S){for(var g=Math.max(this.g.length,S.g.length),T=[],x=0;x<g;x++)T[x]=this.i(x)^S.i(x);return new o(T,this.h^S.h)};function A(S){for(var g=S.g.length+1,T=[],x=0;x<g;x++)T[x]=S.i(x)<<1|S.i(x-1)>>>31;return new o(T,S.h)}function U(S,g){var T=g>>5;g%=32;for(var x=S.g.length-T,N=[],V=0;V<x;V++)N[V]=0<g?S.i(V+T)>>>g|S.i(V+T+1)<<32-g:S.i(V+T);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,pi=o}).apply(typeof fg<"u"?fg:typeof self<"u"?self:typeof window<"u"?window:{});var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $_,fo,H_,El,Hh,q_,W_,G_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof tl=="object"&&tl];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var d=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var L=a[y];if(!(L in d))break e;d=d[L]}a=a[a.length-1],y=d[a],h=h(y),h!=y&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var d=0,y=!1,L={next:function(){if(!y&&d<a.length){var F=d++;return{value:h(F,a[F]),done:!1}}return y=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,y),a.apply(h,L)}}return function(){return a.apply(h,arguments)}}function m(a,h,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function C(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(y,L,F){for(var q=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)q[Ce-2]=arguments[Ce];return h.prototype[L].apply(y,q)}}function k(a){const h=a.length;if(0<h){const d=Array(h);for(let y=0;y<h;y++)d[y]=a[y];return d}return[]}function b(a,h){for(let d=1;d<arguments.length;d++){const y=arguments[d];if(u(y)){const L=a.length||0,F=y.length||0;a.length=L+F;for(let q=0;q<F;q++)a[L+q]=y[q]}else a.push(y)}}class E{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var A=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function U(a,h,d){for(const y in a)h.call(d,a[y],y,a)}function S(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function g(a){const h={};for(const d in a)h[d]=a[d];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(a,h){let d,y;for(let L=1;L<arguments.length;L++){y=arguments[L];for(d in y)a[d]=y[d];for(let F=0;F<T.length;F++)d=T[F],Object.prototype.hasOwnProperty.call(y,d)&&(a[d]=y[d])}}function N(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function V(a){l.setTimeout(()=>{throw a},0)}function R(){var a=te;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class st{constructor(){this.h=this.g=null}add(h,d){const y=ke.get();y.set(h,d),this.h?this.h.next=y:this.g=y,this.h=y}}var ke=new E(()=>new In,a=>a.reset());class In{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let It,G=!1,te=new st,ie=()=>{const a=l.Promise.resolve(void 0);It=()=>{a.then(Te)}};var Te=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(d){V(d)}var h=ke;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}G=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Pt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function ot(a,h){if(Se.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(A){e:{try{O(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:sn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ot.aa.h.call(this)}}C(ot,Se);var sn={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var on="closure_listenable_"+(1e6*Math.random()|0),Ku=0;function at(a,h,d,y,L){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!y,this.ha=L,this.key=++Ku,this.da=this.fa=!1}function an(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Kr(a){this.src=a,this.g={},this.h=0}Kr.prototype.add=function(a,h,d,y,L){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var q=ln(a,h,y,L);return-1<q?(h=a[q],d||(h.fa=!1)):(h=new at(h,this.src,F,!!y,L),h.fa=d,a.push(h)),h};function bs(a,h){var d=h.type;if(d in a.g){var y=a.g[d],L=Array.prototype.indexOf.call(y,h,void 0),F;(F=0<=L)&&Array.prototype.splice.call(y,L,1),F&&(an(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function ln(a,h,d,y){for(var L=0;L<a.length;++L){var F=a[L];if(!F.da&&F.listener==h&&F.capture==!!d&&F.ha==y)return L}return-1}var Ms="closure_lm_"+(1e6*Math.random()|0),Os={};function js(a,h,d,y,L){if(Array.isArray(h)){for(var F=0;F<h.length;F++)js(a,h[F],d,y,L);return null}return d=un(d),a&&a[on]?a.K(h,d,c(y)?!!y.capture:!!y,L):Yu(a,h,d,!1,y,L)}function Yu(a,h,d,y,L,F){if(!h)throw Error("Invalid event type");var q=c(L)?!!L.capture:!!L,Ce=Di(a);if(Ce||(a[Ms]=Ce=new Kr(a)),d=Ce.add(h,d,y,q,F),d.proxy)return d;if(y=Xu(),d.proxy=y,y.src=a,y.listener=d,a.addEventListener)Pt||(L=q),L===void 0&&(L=!1),a.addEventListener(h.toString(),y,L);else if(a.attachEvent)a.attachEvent(xn(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Xu(){function a(d){return h.call(a.src,a.listener,d)}const h=Yr;return a}function ya(a,h,d,y,L){if(Array.isArray(h))for(var F=0;F<h.length;F++)ya(a,h[F],d,y,L);else y=c(y)?!!y.capture:!!y,d=un(d),a&&a[on]?(a=a.i,h=String(h).toString(),h in a.g&&(F=a.g[h],d=ln(F,d,y,L),-1<d&&(an(F[d]),Array.prototype.splice.call(F,d,1),F.length==0&&(delete a.g[h],a.h--)))):a&&(a=Di(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ln(h,d,y,L)),(d=-1<a?h[a]:null)&&Fs(d))}function Fs(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[on])bs(h.i,a);else{var d=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(d,y,a.capture):h.detachEvent?h.detachEvent(xn(d),y):h.addListener&&h.removeListener&&h.removeListener(y),(d=Di(h))?(bs(d,a),d.h==0&&(d.src=null,h[Ms]=null)):an(a)}}}function xn(a){return a in Os?Os[a]:Os[a]="on"+a}function Yr(a,h){if(a.da)a=!0;else{h=new ot(h,this);var d=a.listener,y=a.ha||a.src;a.fa&&Fs(a),a=d.call(y,h)}return a}function Di(a){return a=a[Ms],a instanceof Kr?a:null}var Xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function un(a){return typeof a=="function"?a:(a[Xr]||(a[Xr]=function(h){return a.handleEvent(h)}),a[Xr])}function Pe(){ce.call(this),this.i=new Kr(this),this.M=this,this.F=null}C(Pe,ce),Pe.prototype[on]=!0,Pe.prototype.removeEventListener=function(a,h,d,y){ya(this,a,h,d,y)};function tt(a,h){var d,y=a.F;if(y)for(d=[];y;y=y.F)d.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new Se(h,a);else if(h instanceof Se)h.target=h.target||a;else{var L=h;h=new Se(y,a),x(h,L)}if(L=!0,d)for(var F=d.length-1;0<=F;F--){var q=h.g=d[F];L=ur(q,y,!0,h)&&L}if(q=h.g=a,L=ur(q,y,!0,h)&&L,L=ur(q,y,!1,h)&&L,d)for(F=0;F<d.length;F++)q=h.g=d[F],L=ur(q,y,!1,h)&&L}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],y=0;y<d.length;y++)an(d[y]);delete a.g[h],a.h--}}this.F=null},Pe.prototype.K=function(a,h,d,y){return this.i.add(String(a),h,!1,d,y)},Pe.prototype.L=function(a,h,d,y){return this.i.add(String(a),h,!0,d,y)};function ur(a,h,d,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,F=0;F<h.length;++F){var q=h[F];if(q&&!q.da&&q.capture==d){var Ce=q.listener,lt=q.ha||q.src;q.fa&&bs(a.i,q),L=Ce.call(lt,y)!==!1&&L}}return L&&!y.defaultPrevented}function va(a,h,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function cn(a){a.g=va(()=>{a.g=null,a.i&&(a.i=!1,cn(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class _a extends ce{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:cn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(a){ce.call(this),this.h=a,this.g={}}C(cr,ce);var Us=[];function wa(a){U(a.g,function(h,d){this.g.hasOwnProperty(d)&&Fs(h)},a),a.g={}}cr.prototype.N=function(){cr.aa.N.call(this),wa(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vi=l.JSON.stringify,Li=l.JSON.parse,Ea=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Jr(){}Jr.prototype.h=null;function Ta(a){return a.h||(a.h=a.i())}function zs(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){Se.call(this,"d")}C(bi,Se);function hr(){Se.call(this,"c")}C(hr,Se);var Gt={},Sa=null;function Mi(){return Sa=Sa||new Pe}Gt.La="serverreachability";function P(a){Se.call(this,Gt.La,a)}C(P,Se);function D(a){const h=Mi();tt(h,new P(h))}Gt.STAT_EVENT="statevent";function j(a,h){Se.call(this,Gt.STAT_EVENT,a),this.stat=h}C(j,Se);function z(a){const h=Mi();tt(h,new j(h,a))}Gt.Ma="timingevent";function K(a,h){Se.call(this,Gt.Ma,a),this.size=h}C(K,Se);function Z(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function re(){this.g=!0}re.prototype.xa=function(){this.g=!1};function J(a,h,d,y,L,F){a.info(function(){if(a.g)if(F)for(var q="",Ce=F.split("&"),lt=0;lt<Ce.length;lt++){var ve=Ce[lt].split("=");if(1<ve.length){var mt=ve[0];ve=ve[1];var gt=mt.split("_");q=2<=gt.length&&gt[1]=="type"?q+(mt+"="+ve+"&"):q+(mt+"=redacted&")}}else q=null;else q=F;return"XMLHTTP REQ ("+y+") [attempt "+L+"]: "+h+`
`+d+`
`+q})}function ee(a,h,d,y,L,F,q){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+L+"]: "+h+`
`+d+`
`+F+" "+q})}function W(a,h,d,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+ue(a,d)+(y?" "+y:"")})}function oe(a,h){a.info(function(){return"TIMEOUT: "+h})}re.prototype.info=function(){};function ue(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var y=d[a];if(!(2>y.length)){var L=y[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var q=1;q<L.length;q++)L[q]=""}}}}return Vi(d)}catch{return h}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ae;function _e(){}C(_e,Jr),_e.prototype.g=function(){return new XMLHttpRequest},_e.prototype.i=function(){return{}},Ae=new _e;function Re(a,h,d,y){this.j=a,this.i=h,this.l=d,this.R=y||1,this.U=new cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var dr={},jt={};function Nt(a,h,d){a.L=1,a.v=Aa(Hn(h)),a.m=d,a.P=!0,Oi(a,null)}function Oi(a,h){a.F=Date.now(),zn(a),a.A=Hn(a.v);var d=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),ip(d.i,"t",y),a.C=0,d=a.j.J,a.h=new Fn,a.g=Tp(a.j,d?h:null,!a.m),0<a.O&&(a.M=new _a(m(a.Y,a,a.g),a.O)),h=a.U,d=a.g,y=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(Us[0]=L.toString()),L=Us);for(var F=0;F<L.length;F++){var q=js(d,L[F],y||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),D(),J(a.i,a.u,a.A,a.l,a.R,a.m)}Re.prototype.ca=function(a){a=a.target;const h=this.M;h&&qn(a)==3?h.j():this.Y(a)},Re.prototype.Y=function(a){try{if(a==this.g)e:{const gt=qn(this.g);var h=this.g.Ba();const Ui=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||hp(this.g)))){this.J||gt!=4||h==7||(h==8||0>=Ui?D(3):D(2)),we(this);var d=this.g.Z();this.X=d;t:if(fr(this)){var y=hp(this.g);a="";var L=y.length,F=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),ze(this);var q="";break t}this.h.i=new l.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,a+=this.h.i.decode(y[h],{stream:!(F&&h==L-1)});y.length=0,this.h.g+=a,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=d==200,ee(this.i,this.u,this.A,this.l,this.R,gt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,lt=this.g;if((Ce=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ce)){var ve=Ce;break t}}ve=null}if(d=ve)W(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bn(this,d);else{this.o=!1,this.s=3,z(12),Qt(this),ze(this);break e}}if(this.P){d=!0;let hn;for(;!this.J&&this.C<q.length;)if(hn=Un(this,q),hn==jt){gt==4&&(this.s=4,z(14),d=!1),W(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==dr){this.s=4,z(15),W(this.i,this.l,q,"[Invalid Chunk]"),d=!1;break}else W(this.i,this.l,hn,null),Bn(this,hn);if(fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||q.length!=0||this.h.h||(this.s=1,z(16),d=!1),this.o=this.o&&d,!d)W(this.i,this.l,q,"[Invalid Chunked Response]"),Qt(this),ze(this);else if(0<q.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),rc(mt),mt.M=!0,z(11))}}else W(this.i,this.l,q,null),Bn(this,q);gt==4&&Qt(this),this.o&&!this.J&&(gt==4?vp(this.j,this):(this.o=!1,zn(this)))}else Pw(this.g),d==400&&0<q.indexOf("Unknown SID")?(this.s=3,z(12)):(this.s=0,z(13)),Qt(this),ze(this)}}}catch{}finally{}};function fr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Un(a,h){var d=a.C,y=h.indexOf(`
`,d);return y==-1?jt:(d=Number(h.substring(d,y)),isNaN(d)?dr:(y+=1,y+d>h.length?jt:(h=h.slice(y,y+d),a.C=y+d,h)))}Re.prototype.cancel=function(){this.J=!0,Qt(this)};function zn(a){a.S=Date.now()+a.I,ei(a,a.I)}function ei(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Z(m(a.ba,a),h)}function we(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Re.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(oe(this.i,this.A),this.L!=2&&(D(),z(17)),Qt(this),this.s=2,ze(this)):ei(this,this.S-a)};function ze(a){a.j.G==0||a.J||vp(a.j,a)}function Qt(a){we(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,wa(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Bn(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||Ju(d.h,a))){if(!a.K&&Ju(d.h,a)&&d.G==3){try{var y=d.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var L=y;if(L[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Va(d),ka(d);else break e;nc(d),z(18)}}else d.za=L[1],0<d.za-d.T&&37500>L[2]&&d.F&&d.v==0&&!d.C&&(d.C=Z(m(d.Za,d),6e3));if(1>=Ia(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else ni(d,11)}else if((a.K||d.g==a)&&Va(d),!w(h))for(L=d.Da.g.parse(h),h=0;h<L.length;h++){let ve=L[h];if(d.T=ve[0],ve=ve[1],d.G==2)if(ve[0]=="c"){d.K=ve[1],d.ia=ve[2];const mt=ve[3];mt!=null&&(d.la=mt,d.j.info("VER="+d.la));const gt=ve[4];gt!=null&&(d.Aa=gt,d.j.info("SVER="+d.Aa));const Ui=ve[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(y=1.5*Ui,d.L=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const hn=a.g;if(hn){const ba=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var F=y.h;F.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zu(F,F.h),F.h=null))}if(y.D){const ic=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ic&&(y.ya=ic,De(y.I,y.D,ic))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),y=d;var q=a;if(y.qa=Ep(y,y.J?y.ia:null,y.W),q.K){Yf(y.h,q);var Ce=q,lt=y.L;lt&&(Ce.I=lt),Ce.B&&(we(Ce),zn(Ce)),y.g=q}else gp(y);0<d.i.length&&Da(d)}else ve[0]!="stop"&&ve[0]!="close"||ni(d,7);else d.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ni(d,7):tc(d):ve[0]!="noop"&&d.l&&d.l.ta(ve),d.v=0)}}D(4)}catch{}}var Be=class{constructor(a,h){this.g=a,this.map=h}};function $n(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bs(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ia(a){return a.h?1:a.g?a.g.size:0}function Ju(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Zu(a,h){a.g?a.g.add(h):a.h=h}function Yf(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}$n.prototype.cancel=function(){if(this.i=Xf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Xf(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return k(a.i)}function pw(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],d=a.length,y=0;y<d;y++)h.push(a[y]);return h}h=[],d=0;for(y in a)h[d++]=a[y];return h}function mw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const y in a)h[d++]=y;return h}}}function Jf(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=mw(a),y=pw(a),L=y.length,F=0;F<L;F++)h.call(void 0,y[F],d&&d[F],a)}var Zf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gw(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var y=a[d].indexOf("="),L=null;if(0<=y){var F=a[d].substring(0,y);L=a[d].substring(y+1)}else F=a[d];h(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ti(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ti){this.h=a.h,xa(this,a.j),this.o=a.o,this.g=a.g,Ra(this,a.s),this.l=a.l;var h=a.i,d=new qs;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),ep(this,d),this.m=a.m}else a&&(h=String(a).match(Zf))?(this.h=!1,xa(this,h[1]||"",!0),this.o=$s(h[2]||""),this.g=$s(h[3]||"",!0),Ra(this,h[4]),this.l=$s(h[5]||"",!0),ep(this,h[6]||"",!0),this.m=$s(h[7]||"")):(this.h=!1,this.i=new qs(null,this.h))}ti.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Hs(h,tp,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Hs(h,tp,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Hs(d,d.charAt(0)=="/"?_w:vw,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Hs(d,Ew)),a.join("")};function Hn(a){return new ti(a)}function xa(a,h,d){a.j=d?$s(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Ra(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function ep(a,h,d){h instanceof qs?(a.i=h,Tw(a.i,a.h)):(d||(h=Hs(h,ww)),a.i=new qs(h,a.h))}function De(a,h,d){a.i.set(h,d)}function Aa(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function $s(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Hs(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,yw),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function yw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var tp=/[#\/\?@]/g,vw=/[#\?:]/g,_w=/[#\?]/g,ww=/[#\?@]/g,Ew=/#/g;function qs(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function pr(a){a.g||(a.g=new Map,a.h=0,a.i&&gw(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=qs.prototype,t.add=function(a,h){pr(this),this.i=null,a=ji(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function np(a,h){pr(a),h=ji(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function rp(a,h){return pr(a),h=ji(a,h),a.g.has(h)}t.forEach=function(a,h){pr(this),this.g.forEach(function(d,y){d.forEach(function(L){a.call(h,L,y,this)},this)},this)},t.na=function(){pr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let y=0;y<h.length;y++){const L=a[y];for(let F=0;F<L.length;F++)d.push(h[y])}return d},t.V=function(a){pr(this);let h=[];if(typeof a=="string")rp(this,a)&&(h=h.concat(this.g.get(ji(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return pr(this),this.i=null,a=ji(this,a),rp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function ip(a,h,d){np(a,h),0<d.length&&(a.i=null,a.g.set(ji(a,h),k(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var y=h[d];const F=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var L=F;q[y]!==""&&(L+="="+encodeURIComponent(String(q[y]))),a.push(L)}}return this.i=a.join("&")};function ji(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Tw(a,h){h&&!a.j&&(pr(a),a.i=null,a.g.forEach(function(d,y){var L=y.toLowerCase();y!=L&&(np(this,y),ip(this,L,d))},a)),a.j=h}function Sw(a,h){const d=new re;if(l.Image){const y=new Image;y.onload=v(mr,d,"TestLoadImage: loaded",!0,h,y),y.onerror=v(mr,d,"TestLoadImage: error",!1,h,y),y.onabort=v(mr,d,"TestLoadImage: abort",!1,h,y),y.ontimeout=v(mr,d,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function Iw(a,h){const d=new re,y=new AbortController,L=setTimeout(()=>{y.abort(),mr(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(F=>{clearTimeout(L),F.ok?mr(d,"TestPingServer: ok",!0,h):mr(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),mr(d,"TestPingServer: error",!1,h)})}function mr(a,h,d,y,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),y(d)}catch{}}function xw(){this.g=new Ea}function Rw(a,h,d){const y=d||"";try{Jf(a,function(L,F){let q=L;c(L)&&(q=Vi(L)),h.push(y+F+"="+encodeURIComponent(q))})}catch(L){throw h.push(y+"type="+encodeURIComponent("_badmap")),L}}function Ca(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Ca,Jr),Ca.prototype.g=function(){return new Pa(this.l,this.j)},Ca.prototype.i=function(a){return function(){return a}}({});function Pa(a,h){Pe.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Pa,Pe),t=Pa.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Gs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Gs(this)),this.g&&(this.readyState=3,Gs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function sp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Ws(this):Gs(this),this.readyState==3&&sp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ws(this))},t.Qa=function(a){this.g&&(this.response=a,Ws(this))},t.ga=function(){this.g&&Ws(this)};function Ws(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Gs(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function Gs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function op(a){let h="";return U(a,function(d,y){h+=y,h+=":",h+=d,h+=`\r
`}),h}function ec(a,h,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=op(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):De(a,h,d))}function $e(a){Pe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C($e,Pe);var Aw=/^https?$/i,Cw=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?Ta(this.o):Ta(Ae),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(F){ap(this,F);return}if(a=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var L in y)d.set(L,y[L]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const F of y.keys())d.set(F,y.get(F));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(F=>F.toLowerCase()=="content-type"),L=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Cw,h,void 0))||y||L||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,q]of d)this.g.setRequestHeader(F,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cp(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){ap(this,F)}};function ap(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,lp(a),Na(a)}function lp(a){a.A||(a.A=!0,tt(a,"complete"),tt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,tt(this,"complete"),tt(this,"abort"),Na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Na(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?up(this):this.bb())},t.bb=function(){up(this)};function up(a){if(a.h&&typeof o<"u"&&(!a.v[1]||qn(a)!=4||a.Z()!=2)){if(a.u&&qn(a)==4)va(a.Ea,0,a);else if(tt(a,"readystatechange"),qn(a)==4){a.h=!1;try{const q=a.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var y;if(y=q===0){var L=String(a.D).match(Zf)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),y=!Aw.test(L?L.toLowerCase():"")}d=y}if(d)tt(a,"complete"),tt(a,"success");else{a.m=6;try{var F=2<qn(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",lp(a)}}finally{Na(a)}}}}function Na(a,h){if(a.g){cp(a);const d=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||tt(a,"ready");try{d.onreadystatechange=y}catch{}}}function cp(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function qn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Li(h)}};function hp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Pw(a){const h={};a=(a.g&&2<=qn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(w(a[y]))continue;var d=N(a[y]);const L=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const F=h[L]||[];h[L]=F,F.push(d)}S(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function dp(a){this.Aa=0,this.i=[],this.j=new re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,a),this.cb=Qs("retryDelaySeedMs",1e4,a),this.Wa=Qs("forwardChannelMaxRetries",2,a),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new $n(a&&a.concurrentRequestLimit),this.Da=new xw,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dp.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,y){z(0),this.W=a,this.H=h||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.I=Ep(this,null,this.W),Da(this)};function tc(a){if(fp(a),a.G==3){var h=a.U++,d=Hn(a.I);if(De(d,"SID",a.K),De(d,"RID",h),De(d,"TYPE","terminate"),Ks(a,d),h=new Re(a,a.j,h),h.L=2,h.v=Aa(Hn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=Tp(h.j,null),h.g.ea(h.v)),h.F=Date.now(),zn(h)}wp(a)}function ka(a){a.g&&(rc(a),a.g.cancel(),a.g=null)}function fp(a){ka(a),a.u&&(l.clearTimeout(a.u),a.u=null),Va(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Da(a){if(!Bs(a.h)&&!a.s){a.s=!0;var h=a.Ga;It||ie(),G||(It(),G=!0),te.add(h,a),a.B=0}}function Nw(a,h){return Ia(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Z(m(a.Ga,a,h),_p(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new Re(this,this.j,a);let F=this.o;if(this.S&&(F?(F=g(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=mp(this,L,h),d=Hn(this.I),De(d,"RID",a),De(d,"CVER",22),this.D&&De(d,"X-HTTP-Session-Id",this.D),Ks(this,d),F&&(this.O?h="headers="+encodeURIComponent(String(op(F)))+"&"+h:this.m&&ec(d,this.m,F)),Zu(this.h,L),this.Ua&&De(d,"TYPE","init"),this.P?(De(d,"$req",h),De(d,"SID","null"),L.T=!0,Nt(L,d,null)):Nt(L,d,h),this.G=2}}else this.G==3&&(a?pp(this,a):this.i.length==0||Bs(this.h)||pp(this))};function pp(a,h){var d;h?d=h.l:d=a.U++;const y=Hn(a.I);De(y,"SID",a.K),De(y,"RID",d),De(y,"AID",a.T),Ks(a,y),a.m&&a.o&&ec(y,a.m,a.o),d=new Re(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=mp(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Zu(a.h,d),Nt(d,y,h)}function Ks(a,h){a.H&&U(a.H,function(d,y){De(h,y,d)}),a.l&&Jf({},function(d,y){De(h,y,d)})}function mp(a,h,d){d=Math.min(a.i.length,d);var y=a.l?m(a.l.Na,a.l,a):null;e:{var L=a.i;let F=-1;for(;;){const q=["count="+d];F==-1?0<d?(F=L[0].g,q.push("ofs="+F)):F=0:q.push("ofs="+F);let Ce=!0;for(let lt=0;lt<d;lt++){let ve=L[lt].g;const mt=L[lt].map;if(ve-=F,0>ve)F=Math.max(0,L[lt].g-100),Ce=!1;else try{Rw(mt,q,"req"+ve+"_")}catch{y&&y(mt)}}if(Ce){y=q.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,y}function gp(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;It||ie(),G||(It(),G=!0),te.add(h,a),a.v=0}}function nc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Z(m(a.Fa,a),_p(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,yp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Z(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,z(10),ka(this),yp(this))};function rc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function yp(a){a.g=new Re(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Hn(a.qa);De(h,"RID","rpc"),De(h,"SID",a.K),De(h,"AID",a.T),De(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(h,"TO",a.ja),De(h,"TYPE","xmlhttp"),Ks(a,h),a.m&&a.o&&ec(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Aa(Hn(h)),d.m=null,d.P=!0,Oi(d,a)}t.Za=function(){this.C!=null&&(this.C=null,ka(this),nc(this),z(19))};function Va(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function vp(a,h){var d=null;if(a.g==h){Va(a),rc(a),a.g=null;var y=2}else if(Ju(a.h,h))d=h.D,Yf(a.h,h),y=1;else return;if(a.G!=0){if(h.o)if(y==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var L=a.B;y=Mi(),tt(y,new K(y,d)),Da(a)}else gp(a);else if(L=h.s,L==3||L==0&&0<h.X||!(y==1&&Nw(a,h)||y==2&&nc(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),L){case 1:ni(a,5);break;case 4:ni(a,10);break;case 3:ni(a,6);break;default:ni(a,2)}}}function _p(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function ni(a,h){if(a.j.info("Error code "+h),h==2){var d=m(a.fb,a),y=a.Xa;const L=!y;y=new ti(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xa(y,"https"),Aa(y),L?Sw(y.toString(),d):Iw(y.toString(),d)}else z(2);a.G=0,a.l&&a.l.sa(h),wp(a),fp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),z(2)):(this.j.info("Failed to ping google.com"),z(1))};function wp(a){if(a.G=0,a.ka=[],a.l){const h=Xf(a.h);(h.length!=0||a.i.length!=0)&&(b(a.ka,h),b(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function Ep(a,h,d){var y=d instanceof ti?Hn(d):new ti(d);if(y.g!="")h&&(y.g=h+"."+y.g),Ra(y,y.s);else{var L=l.location;y=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var F=new ti(null);y&&xa(F,y),h&&(F.g=h),L&&Ra(F,L),d&&(F.l=d),y=F}return d=a.D,h=a.ya,d&&h&&De(y,d,h),De(y,"VER",a.la),Ks(a,y),y}function Tp(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new $e(new Ca({eb:d})):new $e(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sp(){}t=Sp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function La(){}La.prototype.g=function(a,h){return new Ft(a,h)};function Ft(a,h){Pe.call(this),this.g=new dp(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!w(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Fi(this)}C(Ft,Pe),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){tc(this.g)},Ft.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Vi(a),a=d);h.i.push(new Be(h.Ya++,a)),h.G==3&&Da(h)},Ft.prototype.N=function(){this.g.l=null,delete this.j,tc(this.g),delete this.g,Ft.aa.N.call(this)};function Ip(a){bi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(Ip,bi);function xp(){hr.call(this),this.status=1}C(xp,hr);function Fi(a){this.g=a}C(Fi,Sp),Fi.prototype.ua=function(){tt(this.g,"a")},Fi.prototype.ta=function(a){tt(this.g,new Ip(a))},Fi.prototype.sa=function(a){tt(this.g,new xp)},Fi.prototype.ra=function(){tt(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,G_=function(){return new La},W_=function(){return Mi()},q_=Gt,Hh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,El=Ie,Ge.COMPLETE="complete",H_=Ge,zs.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,fo=zs,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,$_=$e}).apply(typeof tl<"u"?tl:typeof self<"u"?self:typeof window<"u"?window:{});const pg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new M_("@firebase/firestore");function $i(){return Ei.logLevel}function Q(t,...e){if(Ei.logLevel<=ge.DEBUG){const n=e.map(pf);Ei.debug(`Firestore (${ks}): ${t}`,...n)}}function rr(t,...e){if(Ei.logLevel<=ge.ERROR){const n=e.map(pf);Ei.error(`Firestore (${ks}): ${t}`,...n)}}function ws(t,...e){if(Ei.logLevel<=ge.WARN){const n=e.map(pf);Ei.warn(`Firestore (${ks}): ${t}`,...n)}}function pf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+t;throw rr(e),new Error(e)}function Ee(t,e){t||se()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $x{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class Hx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qx{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new Q_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new wt(e)}}class Wx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Gx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ee(this.o===void 0);const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new Qx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Yx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Es(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Ze(0,0))}static max(){return new ae(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends Yo{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const Xx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Yo{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return Xx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new X($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Le.fromString(e))}static fromName(e){return new ne(Le.fromString(e).popFirst(5))}static empty(){return new ne(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Le(e.slice()))}}function Jx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new Ur(i,ne.empty(),e)}function Zx(t){return new Ur(t.readTime,t.key,-1)}class Ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ur(ae.min(),ne.empty(),-1)}static max(){return new Ur(ae.max(),ne.empty(),-1)}}function eR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==tR)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function rR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vu.oe=-1;function Lu(t){return t==null}function ru(t){return t===0&&1/t==-1/0}function iR(t){return typeof t=="number"&&Number.isInteger(t)&&!ru(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mg(e)),e=oR(t.get(n),e);return mg(e)}function oR(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function mg(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ri(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nl(this.root,e,this.comparator,!0)}}class nl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ct.RED,this.left=i??ct.EMPTY,this.right=s??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yg(this.data.getIterator())}getIteratorFrom(e){return new yg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class yg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new yn([])}unionWith(e){let n=new et(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new X_("Invalid base64 string: "+s):s}}(e);return new pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const aR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Ee(!!t),typeof t=="string"){let e=0;const n=aR.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bu(t){const e=t.mapValue.fields.__previous_value__;return mf(e)?bu(e):e}function Xo(t){const e=zr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Jo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mf(t)?4:cR(t)?9007199254740991:uR(t)?10:11:se()}function Mn(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xo(t).isEqual(Xo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=zr(i.timestampValue),l=zr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Br(i.bytesValue).isEqual(Br(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qe(i.geoPointValue.latitude)===qe(s.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qe(i.integerValue)===qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qe(i.doubleValue),l=qe(s.doubleValue);return o===l?ru(o)===ru(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Es(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(gg(o)!==gg(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Mn(o[u],l[u])))return!1;return!0}(t,e);default:return se()}}function Zo(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function Ts(t,e){if(t===e)return 0;const n=$r(t),r=$r(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=qe(s.integerValue||s.doubleValue),u=qe(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return vg(t.timestampValue,e.timestampValue);case 4:return vg(Xo(t),Xo(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Br(s),u=Br(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=fe(l[c],u[c]);if(f!==0)return f}return fe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=fe(qe(s.latitude),qe(o.latitude));return l!==0?l:fe(qe(s.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _g(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,f;const p=s.fields||{},m=o.fields||{},v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,k=fe(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return k!==0?k:_g(v,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===rl.mapValue&&o===rl.mapValue)return 0;if(s===rl.mapValue)return 1;if(o===rl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=fe(u[p],f[p]);if(m!==0)return m;const v=Ts(l[u[p]],c[f[p]]);if(v!==0)return v}return fe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw se()}}function vg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=zr(t),r=zr(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function _g(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ts(n[i],r[i]);if(s)return s}return fe(n.length,r.length)}function Ss(t){return qh(t)}function qh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Br(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qh(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function Tl(t){switch($r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bu(t);return e?16+Tl(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Tl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ri(r.fields,(s,o)=>{i+=s.length+Tl(o)}),i}(t.mapValue);default:throw se()}}function wg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wh(t){return!!t&&"integerValue"in t}function gf(t){return!!t&&"arrayValue"in t}function Eg(t){return!!t&&"nullValue"in t}function Tg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sl(t){return!!t&&"mapValue"in t}function uR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ro(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ri(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ro(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ro(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ro(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ri(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jt(Ro(this.value))}}function J_(t){const e=[];return Ri(t.fields,(n,r)=>{const i=new ht([n]);if(Sl(r)){const s=J_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tt(e,0,ae.min(),ae.min(),ae.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,ae.min(),ae.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,ae.min(),ae.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.position=e,this.inclusive=n}}function Sg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Ts(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ig(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function hR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{}class Ye extends Z_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fR(e,n,r):n==="array-contains"?new gR(e,r):n==="in"?new yR(e,r):n==="not-in"?new vR(e,r):n==="array-contains-any"?new _R(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pR(e,r):new mR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ts(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends Z_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Tn(e,n)}matches(e){return e0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function e0(t){return t.op==="and"}function t0(t){return dR(t)&&e0(t)}function dR(t){for(const e of t.filters)if(e instanceof Tn)return!1;return!0}function Gh(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Ss(t.value);if(t0(t))return t.filters.map(e=>Gh(e)).join(",");{const e=t.filters.map(n=>Gh(n)).join(",");return`${t.op}(${e})`}}function n0(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Mn(r.value,i.value)}(t,e):t instanceof Tn?function(r,i){return i instanceof Tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&n0(o,i.filters[l]),!0):!1}(t,e):void se()}function r0(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Ss(n.value)}`}(t):t instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(r0).join(" ,")+"}"}(t):"Filter"}class fR extends Ye{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class pR extends Ye{constructor(e,n){super(e,"in",n),this.keys=i0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mR extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=i0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function i0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class gR extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gf(n)&&Zo(n.arrayValue,this.value)}}class yR extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zo(this.value.arrayValue,n)}}class vR extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zo(this.value.arrayValue,n)}}class _R extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function xg(t,e=null,n=[],r=[],i=null,s=null,o=null){return new wR(t,e,n,r,i,s,o)}function yf(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ss(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ss(r)).join(",")),e.ue=n}return e.ue}function vf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!n0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ig(t.startAt,e.startAt)&&Ig(t.endAt,e.endAt)}function Qh(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ER(t,e,n,r,i,s,o,l){return new ca(t,e,n,r,i,s,o,l)}function Mu(t){return new ca(t)}function Rg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function s0(t){return t.collectionGroup!==null}function Ao(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new et(ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new su(s,r))}),n.has(ht.keyField().canonicalString())||e.ce.push(new su(ht.keyField(),r))}return e.ce}function Dn(t){const e=le(t);return e.le||(e.le=TR(e,Ao(t))),e.le}function TR(t,e){if(t.limitType==="F")return xg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new su(i.field,s)});const n=t.endAt?new iu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new iu(t.startAt.position,t.startAt.inclusive):null;return xg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kh(t,e){const n=t.filters.concat([e]);return new ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yh(t,e,n){return new ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ou(t,e){return vf(Dn(t),Dn(e))&&t.limitType===e.limitType}function o0(t){return`${yf(Dn(t))}|lt:${t.limitType}`}function Hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>r0(i)).join(", ")}]`),Lu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ss(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ss(i)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function ju(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ao(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=Sg(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ao(r),i)||r.endAt&&!function(o,l,u){const c=Sg(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ao(r),i))}(t,e)}function SR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function a0(t){return(e,n)=>{let r=!1;for(const i of Ao(t)){const s=IR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function IR(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Ts(u,c):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ri(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Y_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new Ue(ne.comparator);function ir(){return xR}const l0=new Ue(ne.comparator);function po(...t){let e=l0;for(const n of t)e=e.insert(n.key,n);return e}function u0(t){let e=l0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hi(){return Co()}function c0(){return Co()}function Co(){return new Ai(t=>t.toString(),(t,e)=>t.isEqual(e))}const RR=new Ue(ne.comparator),AR=new et(ne.comparator);function de(...t){let e=AR;for(const n of t)e=e.add(n);return e}const CR=new et(fe);function PR(){return CR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(e)?"-0":e}}function h0(t){return{integerValue:""+t}}function NR(t,e){return iR(e)?h0(e):_f(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this._=void 0}}function kR(t,e,n){return t instanceof ou?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mf(s)&&(s=bu(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ea?f0(t,e):t instanceof ta?p0(t,e):function(i,s){const o=d0(i,s),l=Ag(o)+Ag(i.Pe);return Wh(o)&&Wh(i.Pe)?h0(l):_f(i.serializer,l)}(t,e)}function DR(t,e,n){return t instanceof ea?f0(t,e):t instanceof ta?p0(t,e):n}function d0(t,e){return t instanceof au?function(r){return Wh(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ou extends Fu{}class ea extends Fu{constructor(e){super(),this.elements=e}}function f0(t,e){const n=m0(e);for(const r of t.elements)n.some(i=>Mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ta extends Fu{constructor(e){super(),this.elements=e}}function p0(t,e){let n=m0(e);for(const r of t.elements)n=n.filter(i=>!Mn(i,r));return{arrayValue:{values:n}}}class au extends Fu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ag(t){return qe(t.integerValue||t.doubleValue)}function m0(t){return gf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ea&&i instanceof ea||r instanceof ta&&i instanceof ta?Es(r.elements,i.elements,Mn):r instanceof au&&i instanceof au?Mn(r.Pe,i.Pe):r instanceof ou&&i instanceof ou}(t.transform,e.transform)}class LR{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Il(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uu{}function g0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wf(t.key,Vn.none()):new ha(t.key,t.data,Vn.none());{const n=t.data,r=Jt.empty();let i=new et(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ci(t.key,r,new yn(i.toArray()),Vn.none())}}function bR(t,e,n){t instanceof ha?function(i,s,o){const l=i.value.clone(),u=Pg(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(i,s,o){if(!Il(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Pg(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(y0(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Po(t,e,n,r){return t instanceof ha?function(s,o,l,u){if(!Il(s.precondition,o))return l;const c=s.value.clone(),f=Ng(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(s,o,l,u){if(!Il(s.precondition,o))return l;const c=Ng(s.fieldTransforms,u,o),f=o.data;return f.setAll(y0(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Il(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function MR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=d0(r.transform,i||null);s!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,s))}return n||null}function Cg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Es(r,i,(s,o)=>VR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ha extends Uu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends Uu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function y0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Pg(t,e,n){const r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,DR(o,l,n[i]))}return r}function Ng(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,kR(s,o,e))}return r}class wf extends Uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OR extends Uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=c0();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=g0(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(n,r)=>Cg(n,r))&&Es(this.baseMutations,e.baseMutations,(n,r)=>Cg(n,r))}}class Ef{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return RR}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ef(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,me;function zR(t){switch(t){default:return se();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function v0(t){if(t===void 0)return rr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Qe.OK:return $.OK;case Qe.CANCELLED:return $.CANCELLED;case Qe.UNKNOWN:return $.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return $.INTERNAL;case Qe.UNAVAILABLE:return $.UNAVAILABLE;case Qe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Qe.NOT_FOUND:return $.NOT_FOUND;case Qe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Qe.ABORTED:return $.ABORTED;case Qe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Qe.DATA_LOSS:return $.DATA_LOSS;default:return se()}}(me=Qe||(Qe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new pi([4294967295,4294967295],0);function kg(t){const e=BR().encode(t),n=new B_;return n.update(e),new Uint8Array(n.digest())}function Dg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pi([n,r],0),new pi([i,s],0)]}class Tf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mo(`Invalid padding: ${n}`);if(r<0)throw new mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=pi.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(pi.fromNumber(r)));return i.compare($R)===1&&(i=new pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=kg(e),[r,i]=Dg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Tf(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=kg(e),[r,i]=Dg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,da.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zu(ae.min(),i,new Ue(fe),ir(),de())}}class da{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new da(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class _0{constructor(e,n){this.targetId=e,this.me=n}}class w0{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Vg{constructor(){this.fe=0,this.ge=Lg(),this.pe=pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new da(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Lg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HR{constructor(e){this.Le=e,this.Be=new Map,this.ke=ir(),this.qe=il(),this.Qe=il(),this.Ke=new Ue(fe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(Qh(s))if(r===0){const o=new ne(s.path);this.We(n,o,Tt.newNoDocument(o,ae.min()))}else Ee(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),u=l?this.et(l,e,o):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Br(r).toUint8Array()}catch(u){if(u instanceof X_)return ws("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Tf(o,i,s)}catch(u){return ws(u instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&Qh(l.target)){const u=new ne(l.target.path);this.st(u).has(o)||this.ot(o,u)||this.We(o,u,Tt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=de();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new zu(e,n,this.Ke,this.ke,r);return this.ke=ir(),this.qe=il(),this.Qe=il(),this.Ke=new Ue(fe),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Vg,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new et(fe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new et(fe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Vg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function il(){return new Ue(ne.comparator)}function Lg(){return new Ue(ne.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},WR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GR={and:"AND",or:"OR"};class QR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xh(t,e){return t.useProto3Json||Lu(e)?e:{value:e}}function lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KR(t,e){return lu(t,e.toTimestamp())}function Ln(t){return Ee(!!t),ae.fromTimestamp(function(n){const r=zr(n);return new Ze(r.seconds,r.nanos)}(t))}function Sf(t,e){return Jh(t,e).canonicalString()}function Jh(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function T0(t){const e=Le.fromString(t);return Ee(A0(e)),e}function Zh(t,e){return Sf(t.databaseId,e.path)}function Fc(t,e){const n=T0(e);if(n.get(1)!==t.databaseId.projectId)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(I0(n))}function S0(t,e){return Sf(t.databaseId,e)}function YR(t){const e=T0(t);return e.length===4?Le.emptyPath():I0(e)}function ed(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I0(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bg(t,e,n){return{name:Zh(t,e),fields:n.value.mapValue.fields}}function XR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(Ee(f===void 0||typeof f=="string"),pt.fromBase64String(f||"")):(Ee(f===void 0||f instanceof Buffer||f instanceof Uint8Array),pt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const f=c.code===void 0?$.UNKNOWN:v0(c.code);return new X(f,c.message||"")}(o);n=new w0(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fc(t,r.document.name),s=Ln(r.document.updateTime),o=r.document.createTime?Ln(r.document.createTime):ae.min(),l=new Jt({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(i,s,o,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new xl(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fc(t,r.document),s=r.readTime?Ln(r.readTime):ae.min(),o=Tt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new xl([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fc(t,r.document),s=r.removedTargetIds||[];n=new xl([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new UR(i,s),l=r.targetId;n=new _0(l,o)}}return n}function JR(t,e){let n;if(e instanceof ha)n={update:bg(t,e.key,e.value)};else if(e instanceof wf)n={delete:Zh(t,e.key)};else if(e instanceof Ci)n={update:bg(t,e.key,e.data),updateMask:aA(e.fieldMask)};else{if(!(e instanceof OR))return se();n={verify:Zh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof ou)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ea)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ta)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof au)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:KR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function ZR(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ln(i.updateTime):Ln(s);return o.isEqual(ae.min())&&(o=Ln(s)),new LR(o,i.transformResults||[])}(n,e))):[]}function eA(t,e){return{documents:[S0(t,e.path)]}}function tA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=S0(t,i);const s=function(c){if(c.length!==0)return R0(Tn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:qi(m.field),direction:iA(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Xh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function nA(t){let e=YR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ee(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=x0(p);return m instanceof Tn&&t0(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new su(Wi(C.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Lu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,v=p.values||[];return new iu(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,v=p.values||[];return new iu(v,m)}(n.endAt)),ER(e,i,o,s,l,"F",u,c)}function rA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function x0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wi(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wi(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wi(n.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wi(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(Wi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(r=>x0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function iA(t){return qR[t]}function sA(t){return WR[t]}function oA(t){return GR[t]}function qi(t){return{fieldPath:t.canonicalString()}}function Wi(t){return ht.fromServerFormat(t.fieldPath)}function R0(t){return t instanceof Ye?function(n){if(n.op==="=="){if(Tg(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NAN"}};if(Eg(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Tg(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NOT_NAN"}};if(Eg(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qi(n.field),op:sA(n.op),value:n.value}}}(t):t instanceof Tn?function(n){const r=n.getFilters().map(i=>R0(i));return r.length===1?r[0]:{compositeFilter:{op:oA(n.op),filters:r}}}(t):se()}function aA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function A0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i,s=ae.min(),o=ae.min(),l=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.ht=e}}function uA(t){const e=nA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.ln=new hA}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ur.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class hA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new et(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kt{static withCacheSize(e){return new kt(e,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kt.DEFAULT_COLLECTION_PERCENTILE=10,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kt.DEFAULT=new kt(41943040,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kt.DISABLED=new kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Is(0)}static Qn(){return new Is(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og([t,e],[n,r]){const i=fe(t,n);return i===0?fe(e,r):i}class dA{constructor(e){this.Gn=e,this.buffer=new et(Og),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Og(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vs(n)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ds(n)}await this.Yn(3e5)})}}class pA{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Vu.oe);const r=new dA(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Mg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mg):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),$i()<=ge.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function mA(t,e){return new pA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.changes=new Ai(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Po(r.mutation,i,yn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=po();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=ir();const o=Co(),l=function(){return Co()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ci)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Po(f.mutation,c,f.mutation.getFieldMask(),Ze.now())):o.set(c.key,yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new yA(f,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Co();let i=new Ue((o,l)=>o-l),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||yn.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(i.get(l.batchId)||de()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=c0();f.forEach(m=>{if(!s.has(m)){const v=g0(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(hi());let l=-1,u=s;return o.next(c=>B.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,de())).next(f=>({batchId:l,changes:u0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=po();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=po();return this.indexManager.getCollectionParents(e,s).next(l=>B.forEach(l,u=>{const c=function(p,m){return new ca(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Tt.newInvalidDocument(f)))});let l=po();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&Po(f.mutation,c,yn.empty(),Ze.now()),ju(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:uA(i.bundledQuery),readTime:Ln(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.overlays=new Ue(ne.comparator),this.Er=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hi();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=hi(),s=n.length+1,o=new ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=hi(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=hi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return B.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FR(n,r));let s=this.Er.get(n);s===void 0&&(s=de(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this.dr=new et(nt.Ar),this.Rr=new et(nt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new nt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new ne(new Le([])),r=new nt(n,e),i=new nt(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ne(new Le([])),r=new nt(n,e),i=new nt(n,e+1);let s=de();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new nt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ne.comparator(e.key,n.key)||fe(e.br,n.br)}static Vr(e,n){return fe(e.br,n.br)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new et(nt.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jR(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.vr=this.vr.add(new nt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const l=this.Cr(o.br);s.push(l)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(fe);return n.forEach(i=>{const s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],l=>{r=r.add(l.br)})}),B.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new nt(new ne(s),0);let l=new et(fe);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.br)),!0)},o),B.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return B.forEach(n.mutations,i=>{const s=new nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new nt(n,0),i=this.vr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.Nr=e,this.docs=function(){return new Ue(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ir();const o=n.path,l=new ne(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||eR(Zx(f),r)<=0||(i.has(f.key)||ju(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Lr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IA(this)}getSize(e){return B.resolve(this.size)}}class IA extends gA{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.persistence=e,this.Br=new Ai(n=>yf(n),vf),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new If,this.targetCount=0,this.Qr=Is.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Is(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Vu(0),this.Ur=!1,this.Ur=!0,this.Wr=new EA,this.referenceDelegate=e(this),this.Gr=new xA(this),this.indexManager=new cA,this.remoteDocumentCache=function(i){return new SA(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new lA(n),this.jr=new _A(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new TA(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new RA(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return B.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class RA extends nR{constructor(e){super(),this.currentSequenceNumber=e}}class xf{constructor(e){this.persistence=e,this.Zr=new If,this.Xr=null}static ei(e){return new xf(e)}get ti(){if(this.Xr)return this.Xr;throw se()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,r=>{const i=ne.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class uu{constructor(e,n){this.persistence=e,this.ri=new Ai(r=>sR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mA(this,n)}static ei(e,n){return new uu(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(l=>{l||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tl(e.data.value)),n}ir(e,n,r){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Rf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return AI()?8:rR(xI())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new AA;return this.ts(e,n,o).next(l=>{if(s.result=l,this.Hi)return this.ns(e,n,o,l.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?($i()<=ge.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):($i()<=ge.DEBUG&&Q("QueryEngine","Query:",Hi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?($i()<=ge.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):B.resolve())}Xi(e,n){if(Rg(n))return B.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yh(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,l);return this.ss(n,c,o,u.readTime)?this.Xi(e,Yh(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,i){return Rg(n)||i.isEqual(ae.min())?B.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?B.resolve(null):($i()<=ge.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hi(n)),this.os(e,o,n,Jx(i,-1)).next(l=>l))})}rs(e,n){let r=new et(a0(e));return n.forEach((i,s)=>{ju(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return $i()<=ge.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Hi(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ur.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ue(fe),this.cs=new Ai(s=>yf(s),vf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function NA(t,e,n,r){return new PA(t,e,n,r)}async function P0(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=de();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:l}))})})}function kA(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,m=p.keys();let v=B.resolve();return m.forEach(C=>{v=v.next(()=>f.getEntry(u,C)).next(k=>{const b=c.docVersions.get(C);Ee(b!==null),k.version.compareTo(b)<0&&(p.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),f.addEntry(k)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=de();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function N0(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function DA(t,e){const n=le(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Gr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(s,f.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(pt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(k,b,E){return k.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,v,f)&&l.push(n.Gr.updateTargetData(s,v))});let u=ir(),c=de();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(VA(s,o,e.documentUpdates).next(f=>{u=f.Is,c=f.Es})),!r.isEqual(ae.min())){const f=n.Gr.getLastRemoteSnapshotVersion(s).next(p=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return B.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.us=i,s))}function VA(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ir();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Is:o,Es:i}})}function LA(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bA(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function td(t,e,n){const r=le(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Vs(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function jg(t,e,n){const r=le(t);let i=ae.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const p=le(u),m=p.cs.get(f);return m!==void 0?B.resolve(p.us.get(m)):p.Gr.getTargetData(c,f)}(r,o,Dn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:de())).next(l=>(MA(r,SR(e),l),{documents:l,ds:s})))}function MA(t,e,n){let r=t.ls.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class Fg{constructor(){this.activeTargetIds=PR()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OA{constructor(){this._o=new Fg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Fg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl=null;function Uc(){return sl===null?sl=function(){return 268435456+Math.round(2147483648*Math.random())}():sl++,"0x"+sl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class zA extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const l=Uc(),u=this.No(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,u,c,i).then(f=>(Q("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw ws("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}ko(n,r,i,s,o,l){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ks}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=FA[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=Uc();return new Promise((o,l)=>{const u=new $_;u.setWithCredentials(!0),u.listenOnce(H_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case El.NO_ERROR:const f=u.getResponseJson();Q(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case El.TIMEOUT:Q(_t,`RPC '${e}' ${s} timed out`),l(new X($.DEADLINE_EXCEEDED,"Request time out"));break;case El.HTTP_ERROR:const p=u.getStatus();if(Q(_t,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const C=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(E)>=0?E:$.UNKNOWN}(v.status);l(new X(C,v.message))}else l(new X($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X($.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{Q(_t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Q(_t,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(e,n,r){const i=Uc(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=G_(),l=W_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Q(_t,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);let m=!1,v=!1;const C=new UA({Eo:b=>{v?Q(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(Q(_t,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Q(_t,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},Ao:()=>p.close()}),k=(b,E,w)=>{b.listen(E,I=>{try{w(I)}catch(O){setTimeout(()=>{throw O},0)}})};return k(p,fo.EventType.OPEN,()=>{v||(Q(_t,`RPC '${e}' stream ${i} transport opened.`),C.So())}),k(p,fo.EventType.CLOSE,()=>{v||(v=!0,Q(_t,`RPC '${e}' stream ${i} transport closed`),C.Do())}),k(p,fo.EventType.ERROR,b=>{v||(v=!0,ws(_t,`RPC '${e}' stream ${i} transport errored:`,b),C.Do(new X($.UNAVAILABLE,"The operation could not be completed")))}),k(p,fo.EventType.MESSAGE,b=>{var E;if(!v){const w=b.data[0];Ee(!!w);const I=w,O=(I==null?void 0:I.error)||((E=I[0])===null||E===void 0?void 0:E.error);if(O){Q(_t,`RPC '${e}' stream ${i} received error:`,O);const A=O.status;let U=function(T){const x=Qe[T];if(x!==void 0)return v0(x)}(A),S=O.message;U===void 0&&(U=$.INTERNAL,S="Unknown error status: "+A+" with message "+O.message),v=!0,C.Do(new X(U,S)),p.close()}else Q(_t,`RPC '${e}' stream ${i} received:`,w),C.vo(w)}}),k(l,q_.STAT_EVENT,b=>{b.stat===Hh.PROXY?Q(_t,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Hh.NOPROXY&&Q(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){return new QR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n,r,i,s,o,l,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new k0(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new X($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BA extends D0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=XR(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Ln(o.readTime):ae.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=ed(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=Qh(u)?{documents:eA(s,u)}:{query:tA(s,u).ct},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=E0(s,o.resumeToken);const c=Xh(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){l.readTime=lu(s,o.snapshotVersion.toTimestamp());const c=Xh(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=rA(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=ed(this.serializer),n.removeTarget=e,this.c_(n)}}class $A extends D0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=ZR(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=ed(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JR(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Jh(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X($.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.ko(e,Jh(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X($.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class qA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(rr(n),this.C_=!1):Q("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Pi(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=le(u);c.k_.add(4),await fa(c),c.K_.set("Unknown"),c.k_.delete(4),await $u(c)}(this))})}),this.K_=new qA(r,i)}}async function $u(t){if(Pi(t))for(const e of t.q_)await e(!0)}async function fa(t){for(const e of t.q_)await e(!1)}function V0(t,e){const n=le(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Nf(n)?Pf(n):Ls(n).s_()&&Cf(n,e))}function Af(t,e){const n=le(t),r=Ls(n);n.B_.delete(e),r.s_()&&L0(n,e),n.B_.size===0&&(r.s_()?r.a_():Pi(n)&&n.K_.set("Unknown"))}function Cf(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ls(t).V_(e)}function L0(t,e){t.U_.xe(e),Ls(t).m_(e)}function Pf(t){t.U_=new HR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ls(t).start(),t.K_.F_()}function Nf(t){return Pi(t)&&!Ls(t).i_()&&t.B_.size>0}function Pi(t){return le(t).k_.size===0}function b0(t){t.U_=void 0}async function GA(t){t.K_.set("Online")}async function QA(t){t.B_.forEach((e,n)=>{Cf(t,e)})}async function KA(t,e){b0(t),Nf(t)?(t.K_.O_(e),Pf(t)):t.K_.set("Unknown")}async function YA(t,e,n){if(t.K_.set("Online"),e instanceof w0&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cu(t,r)}else if(e instanceof xl?t.U_.$e(e):e instanceof _0?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ae.min()))try{const r=await N0(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.U_.it(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.B_.get(c);f&&s.B_.set(c,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const f=s.B_.get(u);if(!f)return;s.B_.set(u,f.withResumeToken(pt.EMPTY_BYTE_STRING,f.snapshotVersion)),L0(s,u);const p=new xr(f.target,u,c,f.sequenceNumber);Cf(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await cu(t,r)}}async function cu(t,e,n){if(!Vs(e))throw e;t.k_.add(1),await fa(t),t.K_.set("Offline"),n||(n=()=>N0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await $u(t)})}function M0(t,e){return e().catch(n=>cu(t,n,e))}async function Hu(t){const e=le(t),n=Hr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;XA(e);)try{const i=await LA(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,JA(e,i)}catch(i){await cu(e,i)}O0(e)&&j0(e)}function XA(t){return Pi(t)&&t.L_.length<10}function JA(t,e){t.L_.push(e);const n=Hr(t);n.s_()&&n.f_&&n.g_(e.mutations)}function O0(t){return Pi(t)&&!Hr(t).i_()&&t.L_.length>0}function j0(t){Hr(t).start()}async function ZA(t){Hr(t).w_()}async function eC(t){const e=Hr(t);for(const n of t.L_)e.g_(n.mutations)}async function tC(t,e,n){const r=t.L_.shift(),i=Ef.from(r,e,n);await M0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hu(t)}async function nC(t,e){e&&Hr(t).f_&&await async function(r,i){if(function(o){return zR(o)&&o!==$.ABORTED}(i.code)){const s=r.L_.shift();Hr(r).__(),await M0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hu(r)}}(t,e),O0(t)&&j0(t)}async function zg(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Pi(n);n.k_.add(3),await fa(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await $u(n)}async function rC(t,e){const n=le(t);e?(n.k_.delete(2),await $u(n)):e||(n.k_.add(2),await fa(n),n.K_.set("Unknown"))}function Ls(t){return t.W_||(t.W_=function(n,r,i){const s=le(n);return s.b_(),new BA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:GA.bind(null,t),mo:QA.bind(null,t),po:KA.bind(null,t),R_:YA.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Nf(t)?Pf(t):t.K_.set("Unknown")):(await t.W_.stop(),b0(t))})),t.W_}function Hr(t){return t.G_||(t.G_=function(n,r,i){const s=le(n);return s.b_(),new $A(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:ZA.bind(null,t),po:nC.bind(null,t),p_:eC.bind(null,t),y_:tC.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Hu(t)):(await t.G_.stop(),t.L_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new kf(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Df(t,e){if(rr("AsyncQueue",`${e}: ${t}`),Vs(t))return new X($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=po(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ds;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.z_=new Ue(ne.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):se():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xs{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new xs(e,n,ds.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class sC{constructor(){this.queries=$g(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=$g(),s.forEach((o,l)=>{for(const u of l.J_)u.onError(r)})})(this,new X($.ABORTED,"Firestore shutting down"))}}function $g(){return new Ai(t=>o0(t),Ou)}async function Vf(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new iC,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Df(o,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&bf(n)}async function Lf(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oC(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.J_)l.ta(i)&&(r=!0);o.H_=i}}r&&bf(n)}function aC(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function bf(t){t.X_.forEach(e=>{e.next()})}var nd,Hg;(Hg=nd||(nd={})).na="default",Hg.Cache="cache";class Mf{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==nd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.key=e}}class U0{constructor(e){this.key=e}}class lC{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=de(),this.mutatedKeys=de(),this.Va=a0(e),this.ma=new ds(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new Bg,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),v=ju(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;m&&v?m.data.isEqual(v.data)?C!==k&&(r.track({type:3,doc:v}),b=!0):this.ya(m,v)||(r.track({type:2,doc:v}),b=!0,(u&&this.Va(v,u)>0||c&&this.Va(v,c)<0)&&(l=!0)):!m&&v?(r.track({type:0,doc:v}),b=!0):m&&!v&&(r.track({type:1,doc:m}),b=!0,(u||c)&&(l=!0)),b&&(v?(o=o.add(v),s=k?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ma:o,pa:r,ss:l,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((f,p)=>function(v,C){const k=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return k(v)-k(C)}(f.type,p.type)||this.Va(f.doc,p.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,c=u!==this.Aa;return this.Aa=u,o.length!==0||c?{snapshot:new xs(this.query,e.ma,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Bg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=de(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new U0(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new F0(r))}),n}va(e){this.da=e.ds,this.Ra=de();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return xs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class uC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cC{constructor(e){this.key=e,this.Fa=!1}}class hC{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Ai(l=>o0(l),Ou),this.Oa=new Map,this.Na=new Set,this.La=new Ue(ne.comparator),this.Ba=new Map,this.ka=new If,this.qa={},this.Qa=new Map,this.Ka=Is.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function dC(t,e,n=!0){const r=W0(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await z0(r,e,n,!0),i}async function fC(t,e){const n=W0(t);await z0(n,e,!0,!1)}async function z0(t,e,n,r){const i=await bA(t.localStore,Dn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await pC(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&V0(t.remoteStore,i),l}async function pC(t,e,n,r,i){t.Ua=(p,m,v)=>async function(k,b,E,w){let I=b.view.ga(E);I.ss&&(I=await jg(k.localStore,b.query,!1).then(({documents:S})=>b.view.ga(S,I)));const O=w&&w.targetChanges.get(b.targetId),A=w&&w.targetMismatches.get(b.targetId)!=null,U=b.view.applyChanges(I,k.isPrimaryClient,O,A);return Wg(k,b.targetId,U.ba),U.snapshot}(t,p,m,v);const s=await jg(t.localStore,e,!0),o=new lC(e,s.ds),l=o.ga(s.documents),u=da.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);Wg(t,n,c.ba);const f=new uC(e,n,o);return t.xa.set(e,f),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function mC(t,e,n){const r=le(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!Ou(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await td(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Af(r.remoteStore,i.targetId),rd(r,i.targetId)}).catch(Ds)):(rd(r,i.targetId),await td(r.localStore,i.targetId,!0))}async function gC(t,e){const n=le(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Af(n.remoteStore,r.targetId))}async function yC(t,e,n){const r=IC(t);try{const i=await function(o,l){const u=le(o),c=Ze.now(),f=l.reduce((v,C)=>v.add(C.key),de());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=ir(),k=de();return u.hs.getEntries(v,f).next(b=>{C=b,C.forEach((E,w)=>{w.isValidDocument()||(k=k.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(b=>{p=b;const E=[];for(const w of l){const I=MR(w,p.get(w.key).overlayedDocument);I!=null&&E.push(new Ci(w.key,I,J_(I.value.mapValue),Vn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,E,l)}).next(b=>{m=b;const E=b.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(v,b.batchId,E)})}).then(()=>({batchId:m.batchId,changes:u0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.qa[o.currentUser.toKey()];c||(c=new Ue(fe)),c=c.insert(l,u),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await pa(r,i.changes),await Hu(r.remoteStore)}catch(i){const s=Df(i,"Failed to persist write");n.reject(s)}}async function B0(t,e){const n=le(t);try{const r=await DA(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Ee(o.Fa):i.removedDocuments.size>0&&(Ee(o.Fa),o.Fa=!1))}),await pa(n,r,e)}catch(r){await Ds(r)}}function qg(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const l=o.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=le(o);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const m of p.J_)m.ea(l)&&(c=!0)}),c&&bf(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vC(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Ue(ne.comparator);o=o.insert(s,Tt.newNoDocument(s,ae.min()));const l=de().add(s),u=new zu(ae.min(),new Map,new Ue(fe),o,l);await B0(r,u),r.La=r.La.remove(s),r.Ba.delete(e),Of(r)}else await td(r.localStore,e,!1).then(()=>rd(r,e,n)).catch(Ds)}async function _C(t,e){const n=le(t),r=e.batch.batchId;try{const i=await kA(n.localStore,e);H0(n,r,null),$0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pa(n,i)}catch(i){await Ds(i)}}async function wC(t,e,n){const r=le(t);try{const i=await function(o,l){const u=le(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(Ee(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);H0(r,e,n),$0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pa(r,i)}catch(i){await Ds(i)}}function $0(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function H0(t,e,n){const r=le(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function rd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||q0(t,r)})}function q0(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Af(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Of(t))}function Wg(t,e,n){for(const r of n)r instanceof F0?(t.ka.addReference(r.key,e),EC(t,r)):r instanceof U0?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||q0(t,r.key)):se()}function EC(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.Na.add(r),Of(t))}function Of(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ne(Le.fromString(e)),r=t.Ka.next();t.Ba.set(r,new cC(n)),t.La=t.La.insert(n,r),V0(t.remoteStore,new xr(Dn(Mu(n.path)),r,"TargetPurposeLimboResolution",Vu.oe))}}async function pa(t,e,n){const r=le(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((l,u)=>{o.push(r.Ua(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Rf.zi(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(u,c){const f=le(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(c,m=>B.forEach(m.Wi,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>B.forEach(m.Gi,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Vs(p))throw p;Q("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const v=f.us.get(m),C=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(C);f.us=f.us.insert(m,k)}}}(r.localStore,s))}async function TC(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await P0(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(l=>{l.forEach(u=>{u.reject(new X($.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pa(n,r.Ts)}}function SC(t,e){const n=le(t),r=n.Ba.get(e);if(r&&r.Fa)return de().add(r.key);{let i=de();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const l=n.xa.get(o);i=i.unionWith(l.view.fa)}return i}}function W0(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=B0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vC.bind(null,e),e.Ma.R_=oC.bind(null,e.eventManager),e.Ma.Wa=aC.bind(null,e.eventManager),e}function IC(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wC.bind(null,e),e}class hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return NA(this.persistence,new CA,e.initialUser,this.serializer)}ja(e){return new C0(xf.ei,this.serializer)}za(e){return new OA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hu.provider={build:()=>new hu};class xC extends hu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ee(this.persistence.referenceDelegate instanceof uu);const r=this.persistence.referenceDelegate.garbageCollector;return new fA(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?kt.withCacheSize(this.cacheSizeBytes):kt.DEFAULT;return new C0(r=>uu.ei(r,n),this.serializer)}}class id{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,this.syncEngine),await rC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sC}()}createDatastore(e){const n=Bu(e.databaseInfo.databaseId),r=function(s){return new zA(s)}(e.databaseInfo);return function(s,o,l,u){return new HA(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new WA(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>qg(this.syncEngine,n,0),function(){return Ug.p()?new Ug:new jA}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,f){const p=new hC(i,s,o,l,u,c);return f&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);Q("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await fa(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}id.provider={build:()=>new id};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=K_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Df(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bc(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await P0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AC(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zg(e.remoteStore,i)),t._onlineComponents=e}async function AC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ws("Error using user provided cache. Falling back to memory cache: "+n),await Bc(t,new hu)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Bc(t,new xC(void 0));return t._offlineComponents}async function G0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await Gg(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await Gg(t,new id))),t._onlineComponents}function CC(t){return G0(t).then(e=>e.syncEngine)}async function du(t){const e=await G0(t),n=e.eventManager;return n.onListen=dC.bind(null,e.syncEngine),n.onUnlisten=mC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gC.bind(null,e.syncEngine),n}function PC(t,e,n={}){const r=new Xn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const f=new jf({next:m=>{f.eu(),o.enqueueAndForget(()=>Lf(s,p));const v=m.docs.has(l);!v&&m.fromCache?c.reject(new X($.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?c.reject(new X($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new Mf(Mu(l.path),f,{includeMetadataChanges:!0,ua:!0});return Vf(s,p)}(await du(t),t.asyncQueue,e,n,r)),r.promise}function NC(t,e,n={}){const r=new Xn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const f=new jf({next:m=>{f.eu(),o.enqueueAndForget(()=>Lf(s,p)),m.fromCache&&u.source==="server"?c.reject(new X($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new Mf(l,f,{includeMetadataChanges:!0,ua:!0});return Vf(s,p)}(await du(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t,e,n){if(!n)throw new X($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kC(t,e,n,r){if(e===!0&&r===!0)throw new X($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kg(t){if(!ne.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yg(t){if(ne.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qu(t);throw new X($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $x;switch(r.type){case"firstParty":return new Gx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qg.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Qg.delete(n),r.terminate())}(this),Promise.resolve()}}function DC(t,e,n,r={}){var i;const s=(t=bn(t,Wu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=wt.MOCK_USER;else{l=II(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wt(c)}t._authCredentials=new Hx(new Q_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class Mr extends Ni{constructor(e,n,r){super(e,n,Mu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ne(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function ma(t,e,...n){if(t=wi(t),K0("collection","path",e),t instanceof Wu){const r=Le.fromString(e,...n);return Yg(r),new Mr(t,null,r)}{if(!(t instanceof Ot||t instanceof Mr))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Yg(r),new Mr(t.firestore,null,r)}}function ga(t,e,...n){if(t=wi(t),arguments.length===1&&(e=K_.newId()),K0("doc","path",e),t instanceof Wu){const r=Le.fromString(e,...n);return Kg(r),new Ot(t,null,new ne(r))}{if(!(t instanceof Ot||t instanceof Mr))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Kg(r),new Ot(t.firestore,t instanceof Mr?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new k0(this,"async_queue_retry"),this.fu=()=>{const r=zc();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=zc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Xn;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Vs(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=kf.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function Zg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ti extends Wu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jg,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jg(e),this._firestoreClient=void 0,await e}}}function VC(t,e){const n=Vx(),r="(default)",i=Px(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TI("firestore");s&&DC(i,...s)}return i}function Gu(t){if(t._terminated)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LC(t),t._firestoreClient}function LC(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,f){return new lR(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Q0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new RC(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(pt.fromBase64String(e))}catch(n){throw new X($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=/^__.*__$/;class MC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new ha(e,this.data,n,this.fieldTransforms)}}function X0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Bf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return fu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(X0(this.Mu)&&bC.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class OC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bu(e)}$u(e,n,r,i=!1){return new Bf({Mu:e,methodName:n,Ku:r,path:ht.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function J0(t){const e=t._freezeSettings(),n=Bu(t._databaseId);return new OC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jC(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);tw("Data must be an object, but it was:",o,r);const l=Z0(r,o);let u,c;if(s.merge)u=new yn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=UC(e,p,n);if(!o.contains(m))throw new X($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);BC(f,m)||f.push(m)}u=new yn(f),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new MC(new Jt(l),u,c)}function FC(t,e,n,r=!1){return $f(n,t.$u(r?4:3,e))}function $f(t,e){if(ew(t=wi(t)))return tw("Unsupported field value:",e,t),Z0(t,e);if(t instanceof Y0)return function(r,i){if(!X0(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=$f(l,i.ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=wi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ze.fromDate(r);return{timestampValue:lu(i.serializer,s)}}if(r instanceof Ze){const s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lu(i.serializer,s)}}if(r instanceof Uf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rs)return{bytesValue:E0(i.serializer,r._byteString)};if(r instanceof Ot){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zf)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.qu("VectorValues must only contain numeric values.");return _f(l.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${qu(r)}`)}(t,e)}function Z0(t,e){const n={};return Y_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ri(t,(r,i)=>{const s=$f(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ew(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Uf||t instanceof Rs||t instanceof Ot||t instanceof Y0||t instanceof zf)}function tw(t,e,n){if(!ew(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qu(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function UC(t,e,n){if((e=wi(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return nw(t,e);throw fu("Field path arguments must be of type string or ",t,!1,void 0,n)}const zC=new RegExp("[~\\*/\\[\\]]");function nw(t,e,n){if(e.search(zC)>=0)throw fu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ff(...e.split("."))._internalPath}catch{throw fu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new X($.INVALID_ARGUMENT,l+t+u)}function BC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $C extends rw{data(){return super.data()}}function Hf(t,e){return typeof e=="string"?nw(t,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qf{}class HC extends qf{}function qC(t,e,...n){let r=[];e instanceof qf&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Wf).length,l=s.filter(u=>u instanceof Qu).length;if(o>1||o>0&&l>0)throw new X($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Qu extends HC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qu(e,n,r)}_apply(e){const n=this._parse(e);return sw(e._query,n),new Ni(e.firestore,e.converter,Kh(e._query,n))}_parse(e){const n=J0(e.firestore);return function(s,o,l,u,c,f,p){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new X($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){ty(p,f);const v=[];for(const C of p)v.push(ey(u,s,C));m={arrayValue:{values:v}}}else m=ey(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||ty(p,f),m=FC(l,o,p,f==="in"||f==="not-in");return Ye.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function WC(t,e,n){const r=e,i=Hf("where",t);return Qu._create(i,r,n)}class Wf extends qf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Tn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)sw(o,u),o=Kh(o,u)}(e._query,n),new Ni(e.firestore,e.converter,Kh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ey(t,e,n){if(typeof(n=wi(n))=="string"){if(n==="")throw new X($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s0(e)&&n.indexOf("/")!==-1)throw new X($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ne.isDocumentKey(r))throw new X($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wg(t,new ne(r))}if(n instanceof Ot)return wg(t,n._key);throw new X($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qu(n)}.`)}function ty(t,e){if(!Array.isArray(t)||t.length===0)throw new X($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sw(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GC{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ri(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>qe(o.doubleValue));return new zf(s)}convertGeoPoint(e){return new Uf(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xo(e));default:return null}}convertTimestamp(e){const n=zr(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ee(A0(r));const i=new Jo(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ow extends rw{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rl extends ow{data(e={}){return super.data(e)}}class aw{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rl(this._firestore,this._userDataWriter,r.key,r,new go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Rl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new go(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Rl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new go(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:KC(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){t=bn(t,Ot);const e=bn(t.firestore,Ti);return PC(Gu(e),t._key).then(n=>dw(e,t,n))}class Gf extends GC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function Qf(t){t=bn(t,Ni);const e=bn(t.firestore,Ti),n=Gu(e),r=new Gf(e);return iw(t._query),NC(n,t._query).then(i=>new aw(e,r,t,i))}function Kf(t){return hw(bn(t.firestore,Ti),[new wf(t._key,Vn.none())])}function uw(t,e){const n=bn(t.firestore,Ti),r=ga(t),i=QC(t.converter,e);return hw(n,[jC(J0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}function cw(t,...e){var n,r,i;t=wi(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Zg(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Zg(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,c,f;if(t instanceof Ot)c=bn(t.firestore,Ti),f=Mu(t._key.path),u={next:p=>{e[o]&&e[o](dw(c,t,p))},error:e[o+1],complete:e[o+2]};else{const p=bn(t,Ni);c=bn(p.firestore,Ti),f=p._query;const m=new Gf(c);u={next:v=>{e[o]&&e[o](new aw(c,m,p,v))},error:e[o+1],complete:e[o+2]},iw(t._query)}return function(m,v,C,k){const b=new jf(k),E=new Mf(v,b,C);return m.asyncQueue.enqueueAndForget(async()=>Vf(await du(m),E)),()=>{b.eu(),m.asyncQueue.enqueueAndForget(async()=>Lf(await du(m),E))}}(Gu(c),f,l,u)}function hw(t,e){return function(r,i){const s=new Xn;return r.asyncQueue.enqueueAndForget(async()=>yC(await CC(r),i,s)),s.promise}(Gu(t),e)}function dw(t,e,n){const r=n.docs.get(e._key),i=new Gf(t);return new ow(t,i,e._key,r,new go(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ks=i})(Dx),nu(new Qo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ti(new qx(r.getProvider("auth-internal")),new Kx(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),hs(pg,"4.7.5",e),hs(pg,"4.7.5","esm2017")})();var YC="firebase",XC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(YC,XC,"app");const JC={apiKey:"AIzaSyAq05BhYEzenssfONu5nkuqUJvgk77MflQ",authDomain:"iehs-univ.firebaseapp.com",projectId:"iehs-univ",storageBucket:"iehs-univ.firebasestorage.app",messagingSenderId:"516033831631",appId:"1:516033831631:web:a49f5e3203a15832d7cdba",measurementId:"G-NFT9MKVKZS"};F_(JC);const sr=VC();function ZC(){const[t,e]=M.useState(""),n=Sn(),r=()=>{t==="teacher"?n("/courses"):t==="admin"?n("/admin"):alert("invalid Email")};return _.jsxs(_.Fragment,{children:[_.jsx(rT,{}),_.jsx("div",{className:"w-[100vw] h-[100vh] bg-[#f9f9f9] justify-center items-center flex",children:_.jsxs("div",{className:"bg-[#f9f9f9] rounded h-[65%] w-[80%] flex flex-row items-center justify-center gap-[100px]",children:[_.jsx("img",{className:"h-[100%]",src:nT,alt:""}),_.jsxs("div",{className:"cshadow h-[400px] w-[400px] bg-[#ffffff] flex flex-col items-center justify-center gap-5 rounded-lg",children:[_.jsx("h1",{className:"text-[50px] font-black",children:"LOG IN"}),_.jsxs("div",{className:"flex flex-col w-[80%]",children:[_.jsx("label",{htmlFor:"",children:"Username*"}),_.jsx("input",{className:"px-5 w-[100%] h-[50px] rounded bg-[#dbdbdb]",type:"text",onChange:i=>e(i.target.value)})]}),_.jsxs("div",{className:"flex flex-col w-[80%]",children:[_.jsx("label",{htmlFor:"",children:"Password*"}),_.jsx("input",{className:"px-5 w-[100%] h-[50px] rounded bg-[#dbdbdb]",type:"text"})]}),_.jsx("button",{className:"text-xl rounded-lg bg-[#1a2d31] text-white px-[25px] py-[8px] hover:scale-125 trasition-scale duration-300 ease-in-out",onClick:r,children:"LOGIN"})]})]})})]})}const lr="/IEHS-University/assets/School-CiAbxkQZ.png";function eP(){const t=[{SubName:"Bachelor of Science in Information Technology"},{SubName:"Bachelor of Science in Computer Science"},{SubName:"Bachelor of Science in Computer Engineering"}],e=Sn(),n=r=>{e("/checkEnrolled",{state:{course:r}})};return _.jsxs("div",{className:"h-[100vh]",children:[_.jsxs("div",{className:"flex items-center px-10  h-[15vh] w-[100vw]",children:[_.jsx("img",{className:"h-[70%]",src:lr,alt:""}),_.jsx("h1",{children:"INTERNATIONAL ELEMENTARY HIGH SCHOOL UNIVERSITY"})]}),_.jsx("div",{className:"px-7 pt-5 h-[85vh] w-[100vw] bg-[#1a2d31] flex justify-center",children:_.jsxs("div",{className:"",children:[_.jsx("h1",{className:"font-bold text-xl mb-2 text-white mt-5",children:"Courses"}),_.jsxs("table",{className:"border w-[94vw] text-center",children:[_.jsx("thead",{className:"border",children:_.jsx("tr",{className:"text-white",children:_.jsx("th",{className:"border-2 py-1",children:"Subject Name"})})}),_.jsx("tbody",{className:"tableData",children:t.map((r,i)=>_.jsxs("tr",{className:"odd:bg-white even:text-white",children:[_.jsx("td",{className:"border-2 py-1",children:r.SubName}),_.jsxs("td",{className:"w-[200px]",children:[" ",_.jsx("button",{className:"bg-green-500 text-black px-2 rounded-sm",onClick:()=>n(r.SubName),children:"Check Students"})," "]})]},i))})]}),_.jsx("div",{className:"w-[100%] justify-center flex",children:_.jsx("button",{className:"text-black bg-[#dbdbdb] px-[100px] py-1 rounded-full font-medium self-center mt-10",onClick:()=>{e("/")},children:"Log out"})})]})})]})}const tP="/IEHS-University/assets/Student-Bm6OtuYo.png",nP="/IEHS-University/assets/teacher-AhAt7VLR.png";function rP(){const t=Sn();return _.jsxs("div",{className:"h-[100vh] w-[100vw]",children:[_.jsxs("div",{className:"flex items-center px-10  h-[15vh] w-[100vw]",children:[_.jsx("img",{className:"h-[70%]",src:lr,alt:""}),_.jsx("h1",{children:"INTERNATIONAL ELEMENTARY HIGH SCHOOL UNIVERSITY"})]}),_.jsx("div",{className:"text-white flex items-center justify-center h-[85vh] w-[100vw bg-[#1a2d31] pb-[100px]",children:_.jsxs("div",{className:"flex flex-col items-center justify-center",children:[_.jsx("h1",{className:"font-black text-[50px]",children:"Welcome Back, Admin!"}),_.jsxs("div",{className:"gap-[270px]  p-5  flex flex-row",children:[_.jsxs("div",{className:"hover:scale-110 ease-in-out duration-300 cursor-pointer gap-2 rounded-[40px] border-4 p-5 flex flex-col items-center justify-center",onClick:()=>{t("/adminStudent")},children:[_.jsx("img",{className:"h-[200px]",src:tP,alt:""}),_.jsx("h3",{className:"text-lg",children:"Student"})]}),_.jsxs("div",{className:"hover:scale-110 ease-in-out duration-300 cursor-pointer gap-2 rounded-[40px] border-4 p-5 flex flex-col items-center justify-center",onClick:()=>{t("/adminProfessors")},children:[_.jsx("img",{className:"h-[200px]",src:nP,alt:""}),_.jsx("h3",{className:"text-lg",children:"Teacher"})]})]}),_.jsx("button",{className:"text-black bg-[#dbdbdb] px-[100px] py-1 rounded-full font-medium",onClick:()=>{t("/")},children:"Log out"})]})})]})}const ki="/IEHS-University/assets/back-j5hMAqXs.png",fw="/IEHS-University/assets/addIcon-BV5ADpdg.png";function iP(){const t=ma(sr,"Students"),[e,n]=M.useState([]);M.useEffect(()=>{(async()=>{const u=await Qf(t);n(u.docs.map(c=>({...c.data(),id:c.id})))})();const l=cw(t,u=>{const c=u.docs.map(f=>({id:f.id,...f.data()}));n(c)});return()=>l()},[]);const r=async o=>{const l=ga(sr,"Students",o);await Kf(l)},i=Sn(),s=o=>{i("/studentProfile",{state:{id:o}})};return _.jsxs("div",{className:"min-h-[100vh]",children:[_.jsxs("div",{className:"flex items-center px-10  h-[15vh] w-[100vw]",children:[_.jsx("img",{className:"h-[70%]",src:lr,alt:""}),_.jsx("h1",{children:"INTERNATIONAL ELEMENTARY HIGH SCHOOL UNIVERSITY"})]}),_.jsx("div",{className:"px-7 pt-5 min-h-[85vh] w-[100vw] bg-[#1a2d31] flex justify-center",children:_.jsxs("div",{className:"",children:[_.jsxs("button",{className:"flex flex-row bg-[#dbdbdb] rounded-full w-[90px] px-2 pr-4 justify-between  items-center font-medium",onClick:()=>{i("/admin")},children:[_.jsx("img",{className:"h-[20px]",src:ki,alt:""}),"Back"]}),_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h1",{className:"font-bold text-xl mb-2 text-white mt-5",children:"Students"}),_.jsxs("button",{className:"gap-2 bg-[#ffffff] flex items-center justify-center py-2 px-3 rounded-full",onClick:()=>{i("/addStudent")},children:[_.jsx("img",{className:"h-[35px]",src:fw,alt:""}),"Add Student"]})]}),_.jsxs("table",{className:"border w-[94vw] text-center mb-[100px]",children:[_.jsx("thead",{className:"border",children:_.jsxs("tr",{className:"text-white",children:[_.jsx("th",{className:"border-2 py-1",children:"Student Number"}),_.jsx("th",{className:"border-2 py-1",children:"Student Name"}),_.jsx("th",{className:"border-2 py-1",children:"Email"})]})}),_.jsx("tbody",{children:e.map(o=>_.jsxs("tr",{className:"odd:bg-white even:text-white",children:[_.jsx("td",{className:"border-2 py-1",children:o.StudentNumber}),_.jsx("td",{className:"border-2 py-1",children:o.StudentName}),_.jsx("td",{className:"border-2 py-1",children:o.Email}),_.jsxs("td",{className:"w-[200px]",children:[_.jsx("button",{className:"bg-green-500 text-black px-2 rounded-sm mr-4",onClick:()=>s(o.id),children:"Check"}),_.jsx("button",{className:"bg-red-500 text-black px-2 rounded-sm",onClick:()=>r(o.id),children:"Delete"})]})]},o.id))})]})]})})]})}function sP(){const t=ma(sr,"Students"),e=Sn(),n=async()=>{let p=[];c==="Bachelor of Science in Information Technology"?p=[{subject:"Web Development and Design",grade:null},{subject:"IT Infrastructure and System Administration",grade:null},{subject:"Database Management Systems",grade:null}]:c==="Bachelor of Science in Computer Science"?p=[{subject:"Data Structures and Algorithms",grade:null},{subject:"Software Engineering",grade:null},{subject:"Artificial Intelligence",grade:null}]:c==="Bachelor of Science in Computer Engineering"&&(p=[{subject:"Computer Architecture and Organization",grade:null},{subject:"Embedded Systems",grade:null},{subject:"Digital Signal Processing",grade:null},{subject:"GWA",grade:null}]),await uw(t,{Email:l,StudentName:r,StudentNumber:s,Program:c,Subjects:p}),alert("Student successfully added!"),e("/adminStudent")},[r,i]=M.useState(""),[s,o]=M.useState(""),[l,u]=M.useState(""),[c,f]=M.useState("Bachelor of Science in Information Technology");return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center px-10  h-[15vh] w-[100vw]",children:[_.jsx("img",{className:"h-[70%]",src:lr,alt:""}),_.jsx("h1",{children:"INTERNATIONAL ELEMENTARY HIGH SCHOOL UNIVERSITY"})]}),_.jsx("div",{className:"pt-[50px] flex flex-col items-center justify-center h-[85vh] w-[100vw] bg-[#1a2d31]",children:_.jsxs("div",{className:"h-[100%] flex flex-col",children:[_.jsxs("div",{className:"flex items-center mb-5 ",children:[_.jsxs("button",{className:"flex flex-row bg-[#dbdbdb] rounded-full w-[90px] px-2 pr-4 justify-between  items-center font-medium",onClick:()=>{e("/adminStudent")},children:[_.jsx("img",{className:"h-[20px]",src:ki,alt:""}),"Back"]}),_.jsx("div",{className:"flex-grow flex justify-center",children:_.jsx("h1",{className:"text-white font-bold text-xl",children:"Add Student"})})]}),_.jsxs("div",{className:"h-[55%] flex ",children:[_.jsxs("div",{className:"pl-3 text-[25px] w-[15vw] h-[80%] bg-[#dbdbdb] flex flex-col justify-around",children:[_.jsx("h1",{children:"Name:"}),_.jsx("h1",{children:"Student No."}),_.jsx("h1",{children:"Email:"}),_.jsx("h1",{children:"Program:"})]}),_.jsxs("div",{className:"bg-[#f2f2f2] w-[65vw] h-[80%] flex flex-col justify-around pl-4",children:[_.jsx("input",{type:"text",onChange:p=>i(p.target.value),className:"w-[80%] h-[25px]"}),_.jsx("input",{type:"text",onChange:p=>o(p.target.value),className:"w-[80%] h-[25px]"}),_.jsx("input",{type:"text",onChange:p=>u(p.target.value),className:"w-[80%] h-[25px]"}),_.jsxs("select",{name:"options",className:"w-[80%] h-[25px]",onChange:p=>f(p.target.value),children:[_.jsx("option",{value:"Bachelor of Science in Information Technology",children:"BSIT (Bachelor of Science in Information Technology)"}),_.jsx("option",{value:"Bachelor of Science in Computer Science",children:"BSCS (Bachelor of Science in Computer Science)"}),_.jsx("option",{value:"Bachelor of Science in Computer Engineering",children:"BSCPE (Bachelor of Science in Computer Engineering)"})]})]})]}),_.jsx("button",{className:"bg-green-500 w-fit self-end px-5 py-2 rounded-full font-bold",onClick:n,children:"+ Add Student"})]})})]})}function oP(){return _.jsxs("div",{className:"w-[100vw] h-[100vh] bg-[#1a2d31] flex items-center justify-center flex-col gap-5 text-white",children:[_.jsx("h1",{className:"text-4xl font-bold",children:"404 Not Found"}),_.jsxs(hf,{to:"/",children:[" ",_.jsx("button",{className:"text-black bg-white px-5 py-2 rounded",children:" Go back to Home Page"})," "]})]})}function aP(){const t=ma(sr,"Professors"),[e,n]=M.useState([]);M.useEffect(()=>{(async()=>{const l=await Qf(t);n(l.docs.map(u=>({...u.data(),id:u.id})))})();const o=cw(t,l=>{const u=l.docs.map(c=>({id:c.id,...c.data()}));n(u)});return()=>o()},[]);const r=async s=>{const o=ga(sr,"Professors",s);await Kf(o)},i=Sn();return _.jsxs("div",{className:"min-h-[100vh]",children:[_.jsxs("div",{className:"flex items-center px-10  h-[15vh] w-[100vw]",children:[_.jsx("img",{className:"h-[70%]",src:lr,alt:""}),_.jsx("h1",{children:"INTERNATIONAL ELEMENTARY HIGH SCHOOL UNIVERSITY"})]}),_.jsx("div",{className:"px-7 pt-5 min-h-[85vh] w-[100vw] bg-[#1a2d31] flex justify-center",children:_.jsxs("div",{className:"",children:[_.jsxs("button",{className:"flex flex-row bg-[#dbdbdb] rounded-full w-[90px] px-2 pr-4 justify-between  items-center font-medium",onClick:()=>{i("/admin")},children:[_.jsx("img",{className:"h-[20px]",src:ki,alt:""}),"Back"]}),_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h1",{className:"font-bold text-xl mb-2 text-white mt-5",children:"Courses"}),_.jsxs("button",{className:"gap-2 bg-[#ffffff] flex items-center justify-center py-2 px-3 rounded-full",onClick:()=>{i("/addProfessors")},children:[_.jsx("img",{className:"h-[35px]",src:fw,alt:""}),"Add Professor"]})]}),_.jsxs("table",{className:"border w-[94vw] text-center",children:[_.jsx("thead",{className:"border",children:_.jsxs("tr",{className:"text-white",children:[_.jsx("th",{className:"border-2 py-1",children:"Professor Name"}),_.jsx("th",{className:"border-2 py-1",children:"Professor Email"}),_.jsx("th",{className:"border-2 py-1",children:"Subject"})]})}),_.jsx("tbody",{className:"tableData",children:e.map(s=>_.jsxs("tr",{className:"odd:bg-white even:text-white",children:[_.jsx("td",{className:"border-2 py-1",children:s.Name}),_.jsx("td",{className:"border-2 py-1",children:s.Email}),_.jsx("td",{className:"border-2 py-1",children:s.Subject}),_.jsxs("td",{className:"w-[200px]",children:[_.jsx("button",{className:"bg-green-500 text-black px-2 rounded-sm mr-4",onClick:()=>{i("/teacherProfile",{state:{id:s.id}})},children:"Check"}),_.jsx("button",{className:"bg-red-500 text-black px-2 rounded-sm",onClick:()=>r(s.id),children:"Delete"})]})]},s.id))})]})]})})]})}function lP(){const t=ma(sr,"Professors"),e=async()=>{await uw(t,{Name:n,Email:i,Subject:o}),alert("Professor successfully added!"),u("/adminProfessors")},[n,r]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState("Data Structures and Algorithms"),u=Sn();return _.jsxs("div",{className:"h-[100vh]",children:[_.jsxs("div",{className:"flex items-center px-10  h-[15vh] w-[100vw]",children:[_.jsx("img",{className:"h-[70%]",src:lr,alt:""}),_.jsx("h1",{children:"INTERNATIONAL ELEMENTARY HIGH SCHOOL UNIVERSITY"})]}),_.jsx("div",{className:"pt-[50px] flex flex-col items-center justify-center h-[85vh] w-[100vw] bg-[#1a2d31]",children:_.jsxs("div",{className:"h-[100%] flex flex-col",children:[_.jsxs("div",{className:"flex items-center mb-5 ",children:[_.jsxs("button",{className:"flex flex-row bg-[#dbdbdb] rounded-full w-[90px] px-2 pr-4 justify-between  items-center font-medium",onClick:()=>{u("/adminProfessors")},children:[_.jsx("img",{className:"h-[20px]",src:ki,alt:""}),"Back"]}),_.jsx("div",{className:"flex-grow flex justify-center",children:_.jsx("h1",{className:"text-white font-bold text-xl",children:"Add Professor"})})]}),_.jsxs("div",{className:"h-[55%] flex ",children:[_.jsxs("div",{className:"pl-3 text-[25px] w-[15vw] h-[80%] bg-[#dbdbdb] flex flex-col justify-around",children:[_.jsx("h1",{children:"Name:"}),_.jsx("h1",{children:"Email:"}),_.jsx("h1",{children:"Subject:"})]}),_.jsxs("div",{className:"bg-[#f2f2f2] w-[65vw] h-[80%] flex flex-col justify-around pl-4",children:[_.jsx("input",{type:"text",className:"w-[80%] h-[25px]",onChange:c=>r(c.target.value)}),_.jsx("input",{type:"text",className:"w-[80%] h-[25px]",onChange:c=>s(c.target.value)}),_.jsxs("select",{name:"options",className:"w-[80%] h-[25px]",onChange:c=>l(c.target.value),children:[_.jsx("option",{value:"Data Structures and Algorithms",children:"Data Structures and Algorithms"}),_.jsx("option",{value:"Web Development and Design",children:"Web Development and Design"}),_.jsx("option",{value:"IT Infrastructure and System Administration",children:"IT Infrastructure and System Administration"}),_.jsx("option",{value:"Database Management Systems",children:"Database Management Systems"}),_.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),_.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),_.jsx("option",{value:"Computer Architecture and Organization",children:"Computer Architecture and Organization"}),_.jsx("option",{value:"Embedded Systems",children:"Embedded Systems"}),_.jsx("option",{value:"Digital Signal Processing",children:"Digital Signal Processing"})]})]})]}),_.jsx("button",{className:"bg-green-500 w-fit self-end px-5 py-2 rounded-full font-bold",onClick:e,children:"+ Add Professor"})]})})]})}function uP(){const t=Sn(),n=jn().state,[r,i]=M.useState([]);return M.useEffect(()=>{const s=ma(sr,"Students"),o=qC(s,WC("Program","==",n.course));(async()=>{const c=(await Qf(o)).docs.map(f=>({id:f.id,...f.data()}));i(c)})()},[]),_.jsxs("div",{className:"h-[100vh]",children:[_.jsxs("div",{className:"flex items-center px-10  h-[15vh] w-[100vw]",children:[_.jsx("img",{className:"h-[70%]",src:lr,alt:""}),_.jsx("h1",{children:"INTERNATIONAL ELEMENTARY HIGH SCHOOL UNIVERSITY"})]}),_.jsx("div",{className:"px-7 pt-5 h-[85vh] w-[100vw] bg-[#1a2d31] flex justify-center",children:_.jsxs("div",{className:"",children:[_.jsxs("button",{className:"flex flex-row bg-[#dbdbdb] rounded-full w-[90px] px-2 pr-4 justify-between  items-center font-medium",onClick:()=>{t("/courses")},children:[_.jsx("img",{className:"h-[20px]",src:ki,alt:""}),"Back"]}),_.jsx("div",{className:"flex items-center justify-between mb-3",children:_.jsxs("h1",{className:"font-bold text-xl mb-2 text-white mt-5",children:["Students enrolled in ",n.course]})}),_.jsxs("table",{className:"border w-[94vw] text-center",children:[_.jsx("thead",{className:"border",children:_.jsxs("tr",{className:"text-white",children:[_.jsx("th",{className:"border-2 py-1",children:"Student Number"}),_.jsx("th",{className:"border-2 py-1",children:"Student Name"}),_.jsx("th",{className:"border-2 py-1",children:"Email"})]})}),_.jsx("tbody",{className:"tableData",children:r.map(s=>_.jsxs("tr",{className:"odd:bg-white even:text-white",children:[_.jsx("td",{className:"border-2 py-1",children:s.StudentNumber}),_.jsx("td",{className:"border-2 py-1",children:s.StudentName}),_.jsx("td",{className:"border-2 py-1",children:s.Email}),_.jsxs("td",{className:"w-[200px]",children:[_.jsx("button",{className:"bg-green-500 text-black px-2 rounded-sm mr-4",children:"Check"}),_.jsx("button",{className:"bg-red-500 text-black px-2 rounded-sm",onClick:()=>deleteStudent(s.id),children:"Delete"})]})]},s.id))})]})]})})]})}const cP="/IEHS-University/assets/Profile-B56BDShE.png";function hP(){const t=Sn(),n=jn().state,r=ga(sr,"Professors",n.id),[i,s]=M.useState([]);M.useEffect(()=>{(async()=>{const c=(await lw(r)).data();s(c),console.log(i)})()},[]);const o=async()=>{await Kf(r),alert("Professor successfully removed!"),t("/adminProfessors")};return _.jsxs("div",{className:" min-h-[100vh] w-[100vw]",children:[_.jsxs("div",{className:"flex items-center px-10  h-[15vh] w-[100vw]",children:[_.jsx("img",{className:"h-[70%]",src:lr,alt:""}),_.jsx("h1",{children:"INTERNATIONAL ELEMENTARY HIGH SCHOOL UNIVERSITY"})]}),_.jsxs("div",{className:"bg-[#1a2d31] h-[85vh] flex items-center justify-center flex-row",children:[_.jsx("div",{className:"w-[15vw] h-[80%] ",children:_.jsx("img",{src:cP,alt:""})}),_.jsxs("div",{className:"flex flex-col px-2 py-4 h-[80%] w-[70vw]",children:[_.jsxs("div",{className:"h-[30%] w-[100%] flex flex-row items-center justify-between",children:[_.jsx("h1",{className:"font-bold text-white text-2xl",children:"Teacher"}),_.jsxs("button",{className:"self-start flex flex-row bg-[#dbdbdb] rounded-full w-[90px] px-2 pr-4 justify-between  items-center font-medium",onClick:()=>{t("/adminProfessors")},children:[_.jsx("img",{className:" h-[20px]",src:ki,alt:""}),"Back"]})]}),_.jsx("div",{className:"h-[80%] flex items-center",children:_.jsxs("div",{className:"h-[70%] flex flex-col justify-around w-[80%] ",children:[_.jsxs("div",{className:"",children:[_.jsx("h1",{className:"text-white",children:"Name"}),_.jsx("input",{className:"py-1 px-3 w-[100%] rounded",value:i.Name,type:"text"})]}),_.jsxs("div",{className:"",children:[_.jsx("h1",{className:"text-white",children:"Email"}),_.jsx("input",{className:"py-1 px-3 w-[100%] rounded",value:i.Email,type:"text"})]}),_.jsxs("div",{className:"",children:[_.jsx("h1",{className:"text-white",children:"Subject"}),_.jsx("input",{className:"py-1 px-3 w-[100%] rounded",value:i.Subject,type:"text"})]})]})}),_.jsx("button",{className:"bg-red-500 rounded-full self-start py-1 px-5 font-bold  h-auto w-fit",onClick:()=>o(),children:"Delete"})]})]})]})}const dP="/IEHS-University/assets/ProfileWithBG-DLQBNjQI.png";function fP(){var p;const t=jn(),e=Sn(),n=t.state,r=ga(sr,"Students",n.id),[i,s]=M.useState([]),[o,l]=M.useState(i.Subjects),[u,c]=M.useState(null);M.useEffect(()=>{(async()=>{const C=(await lw(r)).data();s(C),console.log(i)})(),l(i.Subjects)},[]),M.useEffect(()=>{c()},[i]);const f=(m,v)=>{const C=[...o];C[m].grade=v.target.value,l(C);const k=C.filter(b=>b.grade!==null&&b.grade!==void 0);if(k.length>0){const E=k.reduce((w,I)=>w+parseFloat(I.grade||0),0)/k.length;c(E.toFixed(2))}else c(null);console.log(C)};return _.jsxs("div",{className:"min-h-[100vh] w-[100vw]",children:[_.jsxs("div",{className:"flex items-center px-10  h-[15vh] w-[100vw]",children:[_.jsx("img",{className:"h-[70%]",src:lr,alt:""}),_.jsx("h1",{children:"INTERNATIONAL ELEMENTARY HIGH SCHOOL UNIVERSITY"})]}),_.jsxs("div",{className:"h-[85vh] w-[100vw] bg-[#1a2d31] flex justify-around",children:[_.jsxs("div",{className:" w-[50vw] flex items-center justify-end h-[80vh]",children:[_.jsxs("button",{className:"mb-auto mt-[40px] flex flex-row bg-[#dbdbdb] rounded-full w-[90px] px-2 pr-4 justify-between  items-center font-medium",onClick:()=>e("/adminStudent"),children:[_.jsx("img",{className:"h-[20px]",src:ki,alt:""}),"Back"]}),_.jsx("div",{className:"",children:_.jsxs("div",{children:[_.jsx("h1",{className:"text-white",children:"Student Record"}),_.jsxs("table",{className:"border border-white w-[45vw] text-center mb-[100px]",children:[_.jsx("thead",{className:"border",children:_.jsxs("tr",{className:"text-white",children:[_.jsx("td",{className:"border-2 py-1",children:"Subject Name"}),_.jsx("td",{className:"border-2 py-1",children:"Grade"})]})}),_.jsx("tbody",{children:(p=i.Subjects)==null?void 0:p.map((m,v)=>_.jsxs("tr",{className:"odd:bg-white even:text-white",children:[_.jsx("td",{className:"border-2 py-1",children:m.subject||"No subject available"}),_.jsx("td",{className:"border-2 py-1",children:_.jsx("input",{placeholder:m.grade===null?"Not Graded":"",className:`text-center bg-transparent h-[100%] w-[100%] ${v%2===0?"placeholder-black":"placeholder-white"}`,type:"text",onChange:C=>f(v,C)})})]},v))})]}),_.jsxs("div",{className:" flex gap-3 text-3xl",children:[_.jsx("h1",{className:"text-white mb-[30px]",children:"GWA: "}),_.jsx("p",{className:"text-white font-bold",children:u??"Not Graded"})]}),_.jsx("div",{className:"w-[100%] flex items-center justify-center",children:_.jsx("button",{className:"bg-white rounded px-3 py-2 font-bold ",children:"Save"})})]})})]}),_.jsxs("div",{className:"customBorder w-[40vw] h-[80vh] flex flex-col bg-gradient-to-r from-green-700 to-green-500",children:[_.jsxs("div",{className:"w-[100%] h-[15%] relative",children:[" ",_.jsx("img",{src:dP,alt:"",className:"h-[150%] absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-8 "})]}),_.jsxs("div",{className:"flex flex-col items-center justify-center w-[100%] h-[75%] gap-5",children:[_.jsxs("div",{className:"w-[80%] flex flex-col items-start",children:[_.jsx("h1",{className:"",children:"Student Number"}),_.jsx("div",{className:"rounded px-3 py-1 w-[100%] bg-white",children:_.jsx("p",{children:i.StudentNumber})})]}),_.jsxs("div",{className:"w-[80%] flex flex-col items-start ",children:[_.jsx("h1",{className:"",children:"Student Name"}),_.jsx("div",{className:"rounded px-3 py-1 w-[100%] bg-white",children:_.jsx("p",{children:i.StudentName})})]}),_.jsxs("div",{className:"w-[80%] flex flex-col items-start",children:[_.jsx("h1",{className:"",children:"Email"}),_.jsx("div",{className:"rounded px-3 py-1 w-[100%] bg-white",children:_.jsx("p",{children:i.Email})})]}),_.jsxs("div",{className:"w-[80%] flex flex-col items-start",children:[_.jsx("h1",{className:"",children:"Program"}),_.jsx("div",{className:"rounded px-3 py-1 w-[100%] bg-white",children:_.jsx("p",{children:i.Program})})]})]})]})]})]})}function pP(){const t=eI([{path:"/",element:_.jsx(ZC,{}),errorElement:_.jsx(oP,{})},{path:"/admin",element:_.jsx(rP,{})},{path:"/courses",element:_.jsx(eP,{})},{path:"/adminStudent",element:_.jsx(iP,{})},{path:"/addStudent",element:_.jsx(sP,{})},{path:"/adminProfessors",element:_.jsx(aP,{})},{path:"/addProfessors",element:_.jsx(lP,{})},{path:"/checkEnrolled",element:_.jsx(uP,{})},{path:"/teacherProfile",element:_.jsx(hP,{})},{path:"/studentProfile",element:_.jsx(fP,{})}]);return _.jsx(dI,{router:t})}m_(document.getElementById("root")).render(_.jsx(M.StrictMode,{children:_.jsx(pP,{})}));
